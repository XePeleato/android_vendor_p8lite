/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2015 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

int __fastcall HwcConfig::GetDebugLevel(HwcConfig *this);
// int _android_log_print(_DWORD, _DWORD, const char *, ...); weak
// int __fastcall _stack_chk_fail(_DWORD); weak
int __fastcall HwcConfig::GetPlatform(HwcConfig *this);
// void __cdecl operator delete(void *); idb
void *__fastcall HwcConfig::Deinit(HwcConfig *this);
HwcIdleMgr *__fastcall HwcIdleMgr::~HwcIdleMgr(HwcIdleMgr *this);
// void free(void *ptr);
// int strcmp(const char *s1, const char *s2);
// void *malloc(size_t size);
// void *memset(void *s, int c, size_t n);
signed int __fastcall HwcConfig::Init(HwcConfig *this);
int __fastcall HwcConfig::GetDisplay(HwcConfig *this, int a2);
// _DWORD __cdecl operator new(unsigned int); idb
_BYTE *__fastcall HwcIdleMgr::HwcIdleMgr(_BYTE *a1, int a2);
int __fastcall HwcConfig::IsTestMode(HwcConfig *this);
// int pthread_create(pthread_t *newthread, const pthread_attr_t *attr, void *(*start_routine)(void *), void *arg);
// int clock_gettime(clockid_t clock_id, struct timespec *tp);
int __fastcall HwcBandwidth::HwcBandwidth(HwcBandwidth *this, int a2, int a3);
void __fastcall HwcBandwidth::SetBlankDdrRate(HwcBandwidth *this);
HwcBandwidth *__fastcall HwcBandwidth::~HwcBandwidth(HwcBandwidth *this);
int __fastcall HwcDisplay::Blank(HwcDisplay *this, int a2);
HwcConfig *__fastcall HwcDisplay::GetAttributes(HwcDisplay *this, unsigned int a2, const unsigned int *a3, int *a4);
signed int __fastcall HwcDisplay::GetConfigs(HwcDisplay *this, unsigned int *a2, unsigned int *a3);
signed int __fastcall HwcDisplay::EventControl(HwcDisplay *this, int a2, int a3);
signed int __fastcall HwcConfig::UpdateDebugSetting(HwcConfig *this);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
// int __cdecl atrace_setup(_DWORD, _DWORD); weak
// ssize_t write(int fd, const void *buf, size_t n);
// int __fastcall atrace_begin_body(_DWORD); weak
int __fastcall HwcTimeConsumeLog(const char *a1, int a2, int a3);
signed int __fastcall HwcConfig::NeedDumpFrame(HwcConfig *this);
tinyxml2::XMLDocument *__fastcall HwcDumpDisplayContents(HwcConfig *a1, int a2, int a3);
unsigned int **__fastcall HwcCompInfo::UpdateBuffers(HwcCompInfo *this, int a2);
// int __cdecl sync_wait(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int close(int fd);
_DWORD *__fastcall HwcDisplay::SetHardware(HwcDisplay *this, HwcCompInfo *a2);
unsigned int **__fastcall HwcCompInfo::ClearAcquireFences(HwcCompInfo *this, int a2, int a3);
int HwcTimeConsumeOutput(void);
void __fastcall HwcBandwidth::SetIdleDdrRate(HwcBandwidth *this);
signed int __fastcall HwcLayerInfo::IsFormatChange(int a1, int a2, int a3);
void HwcTimeConsumeBegin(void);
signed int __fastcall HwcIdleMgr::CheckIdle(int a1, int a2, int a3);
void *__fastcall HwcPartialUpdates::HwcPartialUpdates(HwcPartialUpdates *this);
int __fastcall HwcConfig::IsPartialUpdates(HwcConfig *this);
int __fastcall HwcPartialUpdates::Init(int a1, int a2, int a3, int a4);
unsigned int __fastcall HwcPartialUpdates::UpdateScaledDirtyRegion(int a1, int a2);
int __fastcall HwcPartialUpdates::GetDirtyRect(int *a1, int a2);
signed int __fastcall is_format_change(int a1, int a2, int a3);
int __fastcall HwcDisplay::CheckPureLayers(HwcConfig *a1, int a2, int a3);
int __fastcall HwcBandwidth::SetBoostDdrRate(HwcBandwidth *this, int a2, int a3);
int __fastcall HwcBandwidth::ClearBoostDdrRate(HwcBandwidth *this);
HwcCompInfo *__fastcall HwcCompInfo::~HwcCompInfo(HwcCompInfo *this);
int __fastcall HwcCompInfo::HwcCompInfo(int a1, int a2, int a3, int a4);
int __fastcall HwcCompInfo::CheckLastComposition(HwcCompInfo *this, const HwcCompInfo *a2);
int __fastcall HwcCompInfo::SetPartialUpdates(HwcCompInfo *this, HwcPartialUpdates *a2);
int __fastcall HwcCompInfo::CalcOverlapLayersNum(HwcCompInfo *this);
unsigned int **__fastcall HwcCompInfo::CalcLayerMaskRects(HwcCompInfo *this, int a2, int a3);
_DWORD *__fastcall HwcDisplay::UpdatePureLayerInfo(HwcDisplay *this, const HwcCompInfo *a2, int a3);
void __fastcall ChannelMgr::RestoreAllChannelsCaps(ChannelMgr *this);
void __fastcall ChannelMgr::RefresheAllChannelsState(ChannelMgr *this);
HwcPureLayerChecker *__fastcall HwcDisplay::ClearPureLayers(HwcDisplay *this);
int __fastcall HwcCompInfo::PostPrepare(HwcCompInfo *this);
int __fastcall HwcLayerInfo::FeedbackCompositionType(HwcLayerInfo *this, int a2, int a3);
int __fastcall HwcConfig::GetFbMem(HwcConfig *this, int a2);
int __fastcall HwcBandwidth::UpdateDelayedDdrRequest(HwcBandwidth *this, int a2, int a3, int a4);
// int __fastcall android::Region::clear(_DWORD); weak
// int __fastcall android::Region::orSelf(_DWORD, _DWORD); weak
// int __fastcall android::Region::intersect(_DWORD, _DWORD, _DWORD); weak
// int __fastcall android::Region::~Region(_DWORD); weak
// int __fastcall android::Region::translateSelf(_DWORD, _DWORD, _DWORD); weak
// void *memcpy(void *dest, const void *src, size_t n);
int android::Vector<HwcPolicy *>::do_construct();
int __fastcall HwcMem::getBuffer(HwcMem *this);
int __fastcall HwcMem::setReleaseFence(HwcMem *this, int a2, int a3);
// int __fastcall android::Region::Region(_DWORD, _DWORD); weak
// int __fastcall android::Region::Region(_DWORD); weak
// int __fastcall android::Region::subtractSelf(_DWORD, _DWORD); weak
// int __fastcall android::Region::begin(_DWORD); weak
// int __fastcall android::Region::end(_DWORD); weak
// int __fastcall android::Region::set(_DWORD, _DWORD); weak
// int __fastcall android::Region::intersect(_DWORD, _DWORD, _DWORD); weak
unsigned int **__fastcall android::sp<HwcLayerInfo>::~sp(unsigned int **a1);
// void __cdecl operator delete[](void *); idb
int __fastcall HwcPartialUpdates::ResetFbTargetRect(int a1, int a2);
// int __fastcall android::Region::andSelf(_DWORD, _DWORD); weak
int __fastcall HwcPartialUpdates::ResetDirtyRect(HwcPartialUpdates *this);
int __fastcall HwcPartialUpdates::UpdateSourceLayer(int a1, int a2);
int __fastcall HwcPartialUpdates::UpdateFbTargetLayer(float a1, float a2, int a3, float a4);
// _DWORD __cdecl operator new[](unsigned int); idb
_DWORD *__fastcall HwcLayerInfo::HwcLayerInfo(_DWORD *a1, const void *a2, int a3);
signed int __fastcall HwcLayerInfo::LayerParameterValid(HwcLayerInfo *this);
unsigned int **__fastcall android::sp<HwcLayerInfo>::operator=(unsigned int **a1, unsigned int **a2);
void *__fastcall HwcLayerInfo::CalcLayerMaskRect(int a1, int a2);
int __fastcall HwcMem::swap(HwcMem *this, int a2, int a3, int a4);
HwcConfig *__fastcall HwcLayerInfo::UpdateBuffer(HwcLayerInfo *this, int a2, int a3, int a4);
// int __fastcall android::Region::operator=(_DWORD, _DWORD); weak
_DWORD *__fastcall android::sp<_hwcAreaInfo>::~sp(_DWORD *a1);
int __fastcall android::List<android::sp<_hwcAreaInfo>>::operator=(int a1, int a2);
HwcDisplay *__fastcall HwcDisplay::~HwcDisplay(HwcDisplay *this);
ChannelMgr *__fastcall ChannelMgr::~ChannelMgr(ChannelMgr *this);
void *__fastcall ChannelMgr::Deinit(ChannelMgr *this);
// int __fastcall property_get(_DWORD, _DWORD, _DWORD); weak
// unsigned __int32 strtoul(const char *nptr, char **endptr, int base);
int __fastcall ChannelMgr::BanChannel(ChannelMgr *this, int a2);
int __fastcall ChannelMgr::UnbanChannel(ChannelMgr *this, int a2);
// int __fastcall property_set(_DWORD, _DWORD); weak
signed int __fastcall IAccelerator::getAccelType(IAccelerator *this);
void *__fastcall ChannelMgr::Init(unsigned int a1, int a2);
int __fastcall ChannelMgr::ChannelMgr(int a1, signed int *a2);
int __fastcall HwcDisplay::HwcDisplay(int a1, int a2, int a3);
signed int __fastcall HwcDisplay::Connect(HwcDisplay *this, int a2);
// int open(const char *file, int oflag, ...);
// int ioctl(int fd, unsigned __int32 request, ...);
_DWORD *__fastcall Hi62xxPlatform::Hi62xxPlatform(Hi62xxPlatform *this);
_DWORD *__fastcall Hi363xPlatform::Hi363xPlatform(Hi363xPlatform *this);
int __fastcall Channel::Channel(int result, int a2, int a3, int a4, int a5);
__int64 __fastcall Channel::UintCapsToString(__int64 this, char *a2);
// int snprintf(char *s, size_t maxlen, const char *format, ...);
signed int __fastcall Channel::Request(int a1, int a2, int a3, int a4);
int __fastcall Channel::Reuse(Channel *this);
int __fastcall Channel::Release(Channel *this);
int __fastcall Channel::DoReset(Channel *this);
int __fastcall Channel::DisableCaps(Channel *this, unsigned int a2);
int __fastcall Channel::RestoreCaps(Channel *this);
int __fastcall Channel::RefreshState(Channel *this);
// int pthread_cond_init(pthread_cond_t *cond, const pthread_condattr_t *cond_attr);
// int pthread_mutex_init(pthread_mutex_t *mutex, const pthread_mutexattr_t *mutexattr);
// int pthread_mutex_destroy(pthread_mutex_t *mutex);
// int pthread_cond_destroy(pthread_cond_t *cond);
// int __cdecl _errno(_DWORD, _DWORD); weak
// char *strerror(int errnum);
// int pthread_mutex_lock(pthread_mutex_t *mutex);
// int pthread_cond_signal(pthread_cond_t *cond);
// int pthread_mutex_unlock(pthread_mutex_t *mutex);
// int pthread_cond_wait(pthread_cond_t *cond, pthread_mutex_t *mutex);
signed int __fastcall HwcPureLayerChecker::Check(int a1, int a2, int a3);
int __fastcall HwcPureLayerChecker::Clear(HwcPureLayerChecker *this);
unsigned int **__fastcall HwcPureLayerChecker::UpdateLayerInfo(int a1, int a2);
unsigned int **__fastcall android::sp<_hwcSubCompInfo>::operator=(unsigned int **a1, unsigned int **a2);
_DWORD *__fastcall android::sp<_hwcSubCompInfo>::~sp(_DWORD *a1);
signed int __fastcall HwcConfig::NeedDumpBlockRot(HwcConfig *this);
int __fastcall HwcDumpBin(const HwcLayerInfo *a1, const char *a2);
unsigned int **__fastcall android::sp<_hwcAreaInfo>::operator=(unsigned int **a1, unsigned int **a2);
signed int __fastcall HwcConfig::NeedDumpWriteback(HwcConfig *this);
signed int __fastcall HwcConfig::NeedDumpFrameTarget(HwcConfig *this);
// int dup(int fd);
int __fastcall HwcLayerInfo::SetReleaseFenceFd(HwcLayerInfo *this, int a2, int a3);
void *__fastcall HwcConfig::GetLcdDirtyRegionLimit(HwcConfig *this);
int __fastcall HwcPartialUpdates::UpdateDirtyRegionLcdLimit(int result, int a2);
// int __fastcall android::Region::addRectUnchecked(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __fastcall android::Region::orSelf(_DWORD, _DWORD, _DWORD); weak
signed int __fastcall HwcPartialUpdates::ChangeScaledDirtyRegion(int a1, int a2);
int __fastcall HwcPartialUpdates::TransformLayerSrcRect(int a1, int a2, int a3);
int __fastcall HwcPartialUpdates::RetransformLayerSrcRect(int a1, int a2, int a3);
float __fastcall HwcPartialUpdates::UpdateSourceCrop(float result, float _R1, float a3, float a4);
int __fastcall HwcPartialUpdates::UpdateDisplayFrame(int a1, int a2, int a3);
// int __fastcall android::Rect::intersect(_DWORD, _DWORD, _DWORD); weak
int __fastcall HwcConfig::GetPolicyMask(HwcConfig *this);
int __fastcall HwcConfig::GetOnlineResouces(HwcConfig *this, int a2, int a3);
int __fastcall Channel::ReRequest(Channel *this, const HwcLayerInfo *a2);
int __fastcall ChannelMgr::RequestSource(ChannelMgr *this, const HwcLayerInfo *a2);
int __fastcall ChannelMgr::ReuseRequestedChannels(ChannelMgr *this);
HwcConfig *__fastcall HwcBandwidth::ReCalculate(HwcBandwidth *this, const HwcLayerInfo *a2);
int __fastcall HwcBandwidth::Request(int a1);
void __fastcall HwcCompInfo::ConstructOnlineVirtualLayer(int a1, int a2, int a3, int a4);
int __fastcall ChannelMgr::ReleaseRequestedChannels(ChannelMgr *this);
signed int __fastcall PrimaryOnlinePolicy::Prepare(PrimaryOnlinePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall OfflinePolicy::CalcComposeRect(int a1, int a2, int a3, int a4);
int __fastcall ChannelMgr::RequestIdleSource(ChannelMgr *this, const HwcLayerInfo *a2);
int __fastcall HwcConfig::GetOfflineResouces(HwcConfig *this, int a2, int a3);
int __fastcall OfflinePolicy::CheckNewLayerCanCompose(int, ChannelMgr *this, int, int, int, int); // idb
int __fastcall OfflinePolicy::ConstructTargetLayer(int a1, _DWORD *a2, int a3, int a4);
signed int __fastcall CheckHasDimCompose(int a1);
int __fastcall HwcLayerInfo::HwcLayerInfo(int a1, int a2);
int __fastcall ChannelMgr::RequestWriteback(ChannelMgr *this, const HwcLayerInfo *a2);
int __fastcall HwcConfig::NeedCompleteOneTime(HwcConfig *this);
int __fastcall OfflinePolicy::Prepare(OfflinePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall GpuComposePolicy::Prepare(GpuComposePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall IdleGpuComposePolicy::Prepare(IdleGpuComposePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall VirtualDisplayPolicy::Prepare(VirtualDisplayPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall VirtualDisplaySkipPolicy::Prepare(VirtualDisplaySkipPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
unsigned int **__fastcall HwcCompInfo::ResetPartialUpdates(HwcCompInfo *this);
int __fastcall PartialUpdatesResetPolicy::Prepare(PartialUpdatesResetPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
signed int __fastcall CapaProvider::request(CapaProvider *this, const HwcLayerInfo *a2, int a3);
int __fastcall CapaProvider::release(CapaProvider *this, const HwcLayerInfo *a2);
signed int __fastcall CapaProvider::set(CapaProvider *this, const HwcLayerInfo *a2);
int __fastcall CapaProvider::reset(CapaProvider *this);
signed int __fastcall Segmenter::CalcAreasByIndex(int a1, unsigned int a2, unsigned int a3, int a4, int a5, int a6, int a7);
// int __fastcall hw_get_module(_DWORD, _DWORD); weak
// int timer_delete(timer_t timerid);
int __fastcall HwcLayerInfo::IsSame(int a1, int a2);
// int _libc_current_sigrtmin(void);
// int timer_create(clockid_t clock_id, struct sigevent *evp, timer_t *timerid);
// int timer_settime(timer_t timerid, int flags, const struct itimerspec *value, struct itimerspec *ovalue);
int __fastcall IdlePolicy::Prepare(IdlePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
signed int __fastcall HwcConfig::GetRotMemNum(HwcConfig *this);
int __fastcall HwcConfig::GetRotMem(HwcConfig *this, int a2, int a3, int a4);
signed int __fastcall HwcMem::configBuffer(HwcMem *this, int a2, int a3, int a4);
int __fastcall BlockRotPolicy::Prepare(BlockRotPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall HwcBandwidth::InitSegment(int a1, int a2, int a3);
// int usleep(__useconds_t useconds);
HwcConfig *__fastcall HwcBandwidth::RequestDdrSatisfy(HwcBandwidth *this, unsigned int a2);
void __fastcall HwcBandwidth::ReleaseRequest(HwcBandwidth *this);
// FILE *fopen(const char *filename, const char *modes);
// size_t fwrite(const void *ptr, size_t size, size_t n, FILE *s);
// int fclose(FILE *stream);
int *__fastcall tinyxml2::XMLElement::FindOrCreateAttribute(tinyxml2::XMLElement *this, const char *a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, unsigned int a2);
// int gettimeofday(struct timeval *tv, __timezone_ptr_t tz);
signed int __fastcall WriteBitmap(const char *a1, const void *a2, unsigned int a3, unsigned int a4, unsigned int a5, int a6);
int __fastcall HwcConfig::IsTimeConsumingLogEnabled(HwcConfig *this);
// int stat(const char *file, struct stat *buf);
// int mkdir(const char *path, __mode_t mode);
int __fastcall HwcConfig::IsHwcDumpEnabled(HwcConfig *this);
signed int HwcCreateDumpDir(void);
// FILE *popen(const char *command, const char *modes);
// char *fgets(char *s, int n, FILE *stream);
// int pclose(FILE *stream);
// time_t time(time_t *timer);
// struct tm *localtime(const time_t *timer);
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::XMLDocument(tinyxml2::XMLDocument *this, bool a2);
int *__fastcall tinyxml2::XMLDocument::NewElement(tinyxml2::XMLDocument *this, const char *a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, const char *a2);
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::InsertEndChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2, double a3);
int __fastcall tinyxml2::XMLNode::FirstChildElement(tinyxml2::XMLNode *this, const char *a2);
int __fastcall tinyxml2::XMLElement::Attribute(tinyxml2::XMLElement *this, const char *a2, const char *a3);
// int __fastcall _strcpy_chk(_DWORD, _DWORD, _DWORD); weak
// char *strstr(const char *haystack, const char *needle);
// int sprintf(char *s, const char *format, ...);
// int _sprintf_chk(_DWORD, _DWORD, _DWORD, const char *, ...); weak
int __fastcall tinyxml2::XMLDocument::SaveFile(tinyxml2::XMLDocument *this, const char *a2);
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::~XMLDocument(tinyxml2::XMLDocument *this);
int __fastcall HwcDisplay::GetPureLayers(HwcDisplay *this, int a2);
unsigned int __fastcall PureLayerPolicy::IsAlphaLayer(int a1, unsigned int *a2);
void __fastcall PureLayerPolicy::removePureLayer(HwcConfig *a1, int a2, HwcConfig **a3);
int __fastcall PureLayerPolicy::Prepare(PureLayerPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall CapaProvider::CapaProvider(int result);
int __fastcall CapaProvider::CapaProvider(int result);
signed int __fastcall Hi62xxRot::request(Hi62xxRot *this, const HwcLayerInfo *a2, int a3);
int __fastcall Hi62xxRot::release(Hi62xxRot *this, const HwcLayerInfo *a2);
signed int __fastcall Hi62xxScl3::request(Hi62xxScl3 *this, const HwcLayerInfo *a2, int a3);
signed int __fastcall Hi62xxScl2::request(Hi62xxScl2 *this, const HwcLayerInfo *_R1, int a3);
// void *memmove(void *dest, const void *src, size_t n);
Hi62xxPlatform *__fastcall Hi62xxPlatform::~Hi62xxPlatform(Hi62xxPlatform *this);
// _DWORD android::VectorImpl::finish_vector(android::VectorImpl *this); idb
// _DWORD __cdecl android::VectorImpl::~VectorImpl(android::VectorImpl *this); idb
// size_t strlen(const char *s);
// int strncmp(const char *s1, const char *s2, size_t n);
// unsigned __int64 strtoull(const char *nptr, char **endptr, int base);
// int atoi(const char *nptr);
// _DWORD __cdecl android::VectorImpl::VectorImpl(android::VectorImpl *this, unsigned int, unsigned int); idb
_DWORD *__fastcall Hi62xxCommon::Hi62xxCommon(Hi62xxCommon *this);
int __fastcall Hi62xxAccelerator::Hi62xxAccelerator(int result, int a2);
int __fastcall Hi62xxOverlay::Hi62xxOverlay(Hi62xxOverlay *this, Hi62xxCommon *a2);
int __fastcall Hi62xxComposer::Hi62xxComposer(Hi62xxComposer *this, Hi62xxCommon *a2);
int __fastcall Hi62XXPerf::Hi62XXPerf(Hi62XXPerf *this, Hi62xxCommon *a2);
int __fastcall Segmenter::Segmenter(Segmenter *this, bool a2);
// _DWORD __cdecl android::VectorImpl::insertAt(android::VectorImpl *this, const void *, unsigned int, unsigned int); idb
signed int __fastcall Hi62xxPlatform::isAdeFormat(Hi62xxPlatform *this, unsigned int a2);
int __fastcall Hi62xxRot::updateSharedMemory(Hi62xxRot *this, int a2);
Channel *__fastcall ChannelMgr::DisableChannelCaps(ChannelMgr *this, int a2, unsigned int a3);
unsigned int **__fastcall android::sp<HwcLayerInfo>::sp(unsigned int **result, unsigned int **a2);
signed int __fastcall Hi62xxPlatform::formatCanHandle(Hi62xxPlatform *a1, int a2);
signed int __fastcall Hi62xxPlatform::scfCanHandle(int a1, int *a2, _BYTE *a3);
signed int __fastcall Hi62xxPlatform::rotScfCanHandle(int a1, int *a2, int a3);
int __fastcall HwcLayerInfo::IsAlphaLayer(HwcLayerInfo *this);
int __fastcall GpuComposePolicy::GpuComposePolicy(int result, int a2);
int __fastcall PrimaryOnlinePolicy::PrimaryOnlinePolicy(int result, int a2);
int __fastcall OfflinePolicy::OfflinePolicy(int result, int a2);
int __fastcall IdlePolicy::IdlePolicy(int result, int a2);
int __fastcall PartialUpdatesResetPolicy::PartialUpdatesResetPolicy(int result, int a2);
int __fastcall BlockRotPolicy::BlockRotPolicy(int result, int a2);
int __fastcall GpuComposePolicy::GpuComposePolicy(int result, int a2);
int __fastcall VirtualDisplayPolicy::VirtualDisplayPolicy(int result, int a2);
int __fastcall VirtualDisplaySkipPolicy::VirtualDisplaySkipPolicy(int result, int a2);
int android::Vector<HwcPolicy *>::do_construct();
int android::Vector<HwcPolicy *>::do_construct();
void *__fastcall android::Vector<HwcPolicy *>::do_copy(int a1, void *a2, const void *a3, int a4);
void __fastcall android::Vector<HwcPolicy *>::do_splat(int a1, _DWORD *a2, _DWORD *a3, int a4);
void *__fastcall android::Vector<HwcPolicy *>::do_move_backward(int a1, void *a2, const void *a3, int a4);
void *__fastcall android::Vector<HwcPolicy *>::do_move_backward(int a1, void *a2, const void *a3, int a4);
Hi62xxPlatform *__fastcall Hi62xxPlatform::~Hi62xxPlatform(Hi62xxPlatform *this);
void __fastcall Hi62xxPlatform::preprocess(Hi62xxPlatform *this, HwcCompInfo *a2);
int __fastcall Hi62xxPlatform::handleEvent(int, int, int, char *s, int); // idb
Hi62xxCommon *__fastcall Hi62xxCommon::~Hi62xxCommon(Hi62xxCommon *this);
int __fastcall Hi62xxCommon::setRectsInternal(float a1, float _R1, float _R2, int _R3, int a5, int a6, int a7);
signed int __fastcall Hi62xxCommon::setScaleFactor(HwcConfig *a1, int _R1, int a3);
int __fastcall Hi62xxCommon::setRects(float a1, float a2, float a3, int a4);
signed int __fastcall Hi62xxCommon::setRegionInfo(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
Hi62xxCommon *__fastcall Hi62xxCommon::~Hi62xxCommon(Hi62xxCommon *this);
int __fastcall Hi62xxCommon::commit(int a1, int a2, int a3);
signed int __fastcall Hi62xxCommon::commit(int a1, int a2, HwcConfig **a3);
signed int __fastcall Hi62xxCommon::detectLayers(HwcConfig *a1, int a2, int a3, int a4);
signed int __fastcall Hi62xxCommon::calculateSrcRect(HwcConfig *a1, int _R1, int a3, int a4, int a5);
signed int __fastcall Hi62xxCommon::setNormalRegion(HwcConfig *a1, int a2, int a3, int a4, int a5, int a6, int a7);
signed int __fastcall Hi62xxCommon::setOverlayLayerInfo(int a1, int a2);
signed int __fastcall Hi62xxCommon::setReadBackRegion(HwcConfig *a1, int a2, int a3, int a4, int a5);
signed int __fastcall Hi62xxCommon::waitAllAcquireFenceFd(HwcConfig *a1, int a2, int a3);
int __fastcall Hi62xxCommon::waitSingleAcquireFenceFd(Hi62xxCommon *this, int a2);
signed int __fastcall Hi62xxCommon::enableVsync(Hi62xxCommon *this, int a2, int a3, int a4);
int __fastcall Hi62xxCommon::isPartialUpdatesEnabled(Hi62xxCommon *this);
int __fastcall Hi62xxCommon::isCmdPanel(Hi62xxCommon *this);
HwcConfig *__fastcall Hi62xxCommon::setTopResource(int a1, int a2);
signed int __fastcall Hi62xxCommon::updateDirtyRegion(int a1, int a2);
signed int __fastcall Hi62xxCommon::panDisplay(Hi62xxCommon *this, int a2);
HwcConfig *__fastcall Hi62xxCommon::setClockRate(int a1, int a2, int a3);
int __fastcall Hi62xxCommon::modifyRectByDirtyRect(int a1, int a2);
int __fastcall Hi62xxCommon::intersectWithDirtyRect(HwcConfig *a1, int a2);
signed int __fastcall Hi62xxCommon::enableVirtDisp(Hi62xxCommon *this, int a2, int a3, int a4);
int android::Vector<HwcPolicy *>::do_construct();
void *__fastcall Hi62xxComposer::resetSelf(Hi62xxComposer *this);
signed int __fastcall HwcConfig::NeedDumpVirtualDisplay(HwcConfig *this);
int __fastcall HwcDumpHandle(HwcConfig *a1, int a2);
signed int __fastcall HwcLayerInfo::GetAcquireFenceFd(HwcLayerInfo *this);
signed int __fastcall Hi62xxComposer::setBlkRotLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
signed int __fastcall Hi62xxComposer::setWfdLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
Hi62xxComposer *__fastcall Hi62xxComposer::~Hi62xxComposer(Hi62xxComposer *this);
int __fastcall Hi62xxComposer::setSource(Hi62xxComposer *this, int a2, int a3);
signed int __fastcall Hi62xxComposer::Compose(HwcConfig *a1, int a2, int a3, int a4);
signed int __fastcall Hi62xxComposer::convertLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
int android::Vector<HwcPolicy *>::do_construct();
void *__fastcall Hi62xxOverlay::resetSelf(Hi62xxOverlay *this);
Hi62xxOverlay *__fastcall Hi62xxOverlay::~Hi62xxOverlay(Hi62xxOverlay *this);
int __fastcall Hi62xxOverlay::setSource(Hi62xxOverlay *this, int a2, int a3);
int __fastcall Hi62xxOverlay::finishOneArea(Hi62xxOverlay *this, int a2, int a3);
int __fastcall Hi62xxOverlay::play(Hi62xxOverlay *this, int a2, int a3);
int android::Vector<HwcPolicy *>::do_construct();
// int uevent_init(void); weak
// int __fastcall uevent_next_event(_DWORD, _DWORD); weak
int __fastcall Hi62xxAccelerator::setOfflineResource(int a1, int a2, int a3, int a4);
int __fastcall Hi62xxAccelerator::setOnlineResource(int a1, int a2, int a3, unsigned int a4);
int __fastcall Hi62xxAccelerator::setGpuResource(int a1, int a2);
Hi62xxAccelerator *__fastcall Hi62xxAccelerator::~Hi62xxAccelerator(Hi62xxAccelerator *this);
HwcConfig *__fastcall Hi62xxAccelerator::setGlobal(Hi62xxAccelerator *this, const HwcCompInfo *a2);
int __fastcall Hi62xxAccelerator::enableVsync(Hi62xxAccelerator *this, bool a2);
int __fastcall Hi62xxAccelerator::getEvent(Hi62xxAccelerator *this, int *a2, void *a3, int *a4);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
int __fastcall Hi62xxAccelerator::isPartialUpdatesEnabled(Hi62xxAccelerator *this);
int __fastcall Hi62xxAccelerator::isCmdPanel(Hi62xxAccelerator *this);
int __fastcall Hi62xxAccelerator::setVirtualDisplayInfo(int a1, int a2, int a3);
int __fastcall Hi62xxAccelerator::enableVirtualDisp(Hi62xxAccelerator *this, bool a2);
Hi62XXPerf *__fastcall Hi62XXPerf::~Hi62XXPerf(Hi62XXPerf *this);
// int __fastcall _strlen_chk(_DWORD, _DWORD); weak
// ssize_t read(int fd, void *buf, size_t nbytes);
int __fastcall HwcConfig::needAdjustAcceClock(HwcConfig *this);
Hi62XXPerf *__fastcall Hi62XXPerf::~Hi62XXPerf(Hi62XXPerf *this);
signed int __fastcall Hi62XXPerf::setDdrRate(Hi62XXPerf *this, unsigned int a2);
signed int __fastcall Hi62XXPerf::getCurrentDdrRate(Hi62XXPerf *this, unsigned int *a2);
int __fastcall Hi62XXPerf::setGpuBoost(Hi62XXPerf *this, int a2);
int android::Vector<HwcPolicy *>::do_construct();
signed int __fastcall Hi62XXPerf::setClockRate(Hi62XXPerf *this, unsigned int a2);
int __fastcall Hi62XXPerf::calcLayerBw(Hi62XXPerf *this, const HwcLayerInfo *_R1);
signed int __fastcall Hi62XXPerf::calcClockRate(Hi62XXPerf *this, const HwcLayerInfo *_R1);
unsigned int __fastcall Hi62XXPerf::totalBwToDdrRate(Hi62XXPerf *this, float _R1);
signed int __fastcall Hi62XXPerf::getMaxClockRate(Hi62XXPerf *this);
signed int __fastcall Hi62XXPerf::getBoostDdrRate(Hi62XXPerf *this);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
HwcPureLayerChecker *__fastcall HwcPureLayerChecker::~HwcPureLayerChecker(HwcPureLayerChecker *this);
Hi363xPlatform *__fastcall Hi363xPlatform::~Hi363xPlatform(Hi363xPlatform *this);
// int __fastcall systemTime(_DWORD); weak
_DWORD *__fastcall Hi363xAccelerator::Hi363xAccelerator(Hi363xAccelerator *this);
int __fastcall Hi363xOverlay::Hi363xOverlay(Hi363xOverlay *this, const char *a2);
int __fastcall Hi363xComposer::Hi363xComposer(Hi363xComposer *this, const char *a2);
int __fastcall Hi363xPerf::Hi363xPerf(Hi363xPerf *this, int a2);
_DWORD *__fastcall HwcPureLayerChecker::HwcPureLayerChecker(_DWORD *a1);
signed int __fastcall Hi363xPlatform::ScfCanHandle(int a1, int *a2);
signed int __fastcall Hi363xPlatform::FormatCanHandle(int a1, int a2);
signed int __fastcall Hi363xPlatform::StrideCanHandle(int a1, int a2);
signed int __fastcall Hi363xPlatform::BlockAlgorithmCanHandle(int a1, int a2, int a3);
int __fastcall PureLayerPolicy::PureLayerPolicy(int result, int a2);
int __fastcall IdleBoostPolicy::IdleBoostPolicy(IdleBoostPolicy *this, unsigned int a2);
int __fastcall VirtualDisplayGpuPolicy::VirtualDisplayGpuPolicy(VirtualDisplayGpuPolicy *this, unsigned int a2);
Hi363xPlatform *__fastcall Hi363xPlatform::~Hi363xPlatform(Hi363xPlatform *this);
unsigned int **__fastcall Hi363xPlatform::preprocess(Hi363xPlatform *this, HwcCompInfo *a2);
int __fastcall Hi363xPlatform::handleEvent(int a1, int a2, int a3, const char *a4);
Hi363xComposer *__fastcall Hi363xComposer::~Hi363xComposer(Hi363xComposer *this);
Hi363xComposer *__fastcall Hi363xComposer::~Hi363xComposer(Hi363xComposer *this);
signed int __fastcall Hi363xComposer::setSource(int a1, int a2);
signed int __fastcall Hi363xComposer::Compose(int a1, int a2);
signed int __fastcall Hi363xComposer::convertLayer(Hi363xComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
Hi363xOverlay *__fastcall Hi363xOverlay::~Hi363xOverlay(Hi363xOverlay *this);
// int __fastcall strcasestr(_DWORD, _DWORD); weak
int __fastcall Hi363xOverlay::CalculateSize(Hi363xOverlay *this, unsigned int _R1, unsigned int _R2, int *a4, int *a5, unsigned int *a6, unsigned int *a7);
int __fastcall Hi363xOverlay::CalculateReproduction(Hi363xOverlay *this, int *a2, int *a3, unsigned int *_R3, unsigned int *a5);
Hi363xOverlay *__fastcall Hi363xOverlay::~Hi363xOverlay(Hi363xOverlay *this);
signed int __fastcall Hi363xOverlay::setSource(int a1, int a2);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
int __fastcall Hi363xOverlay::play(void *a1, int a2, int a3, _DWORD *a4);
signed int __fastcall Hi363xOverlay::CheckPureLayer(Hi363xOverlay *this, int a2, bool *a3, bool *a4, unsigned int *a5);
Hi363xAccelerator *__fastcall Hi363xAccelerator::~Hi363xAccelerator(Hi363xAccelerator *this);
// int __fastcall pread(_DWORD, _DWORD, _DWORD, _DWORD); weak
Hi363xAccelerator *__fastcall Hi363xAccelerator::~Hi363xAccelerator(Hi363xAccelerator *this);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
int __fastcall Hi363xAccelerator::enableVsync(Hi363xAccelerator *this, int a2, int a3);
signed int __fastcall Hi363xAccelerator::getEvent(Hi363xAccelerator *this, int *a2, void *a3, int *a4);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
signed int __fastcall Hi363xAccelerator::isPartialUpdatesEnabled(Hi363xAccelerator *this, int a2);
int __fastcall Hi363xAccelerator::isCmdPanel(Hi363xAccelerator *this);
int android::Vector<HwcPolicy *>::do_construct();
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
unsigned int __fastcall j___fixunssfdi(int a1, int a2, int a3, unsigned int a4);
Hi363xPerf *__fastcall Hi363xPerf::~Hi363xPerf(Hi363xPerf *this);
Hi363xPerf *__fastcall Hi363xPerf::~Hi363xPerf(Hi363xPerf *this);
signed int __fastcall Hi363xPerf::setDdrRate(Hi363xPerf *this, unsigned int a2);
signed int __fastcall Hi363xPerf::getCurrentDdrRate(Hi363xPerf *this, unsigned int *a2);
int __fastcall Hi363xPerf::setGpuBoost(Hi363xPerf *this, int a2);
int __fastcall Hi363xPerf::setCpuBoost(Hi363xPerf *this);
signed int __fastcall Hi363xPerf::setClockRate(Hi363xPerf *this, unsigned int a2);
int __fastcall Hi363xPerf::calcLayerBw(Hi363xPerf *this, const HwcLayerInfo *_R1);
unsigned int __fastcall Hi363xPerf::calcClockRate(Hi363xPerf *this, const HwcLayerInfo *_R1);
unsigned int __fastcall Hi363xPerf::totalBwToDdrRate(Hi363xPerf *this, float a2, int a3, unsigned int a4);
signed int __fastcall Hi363xPerf::getMaxClockRate(Hi363xPerf *this);
signed int __fastcall Hi363xPerf::getIdleBoostDdrRate(Hi363xPerf *this);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
signed int __fastcall Hi363xPerf::getIdleBoostDdrRate(Hi363xPerf *this);
int __fastcall VirtualDisplayGpuPolicy::Prepare(VirtualDisplayGpuPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall HwcBandwidth::SetIdleBoostDdrRate(HwcBandwidth *this);
HwcConfig *__fastcall IdleBoostPolicy::Prepare(IdleBoostPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
// int isspace(int);
int __fastcall tinyxml2::StrPair::Reset(tinyxml2::StrPair *this);
tinyxml2::StrPair *__fastcall tinyxml2::StrPair::~StrPair(tinyxml2::StrPair *this);
// int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int isalpha(int);
// int isalnum(int);
// char *strchr(const char *s, int c);
unsigned int __fastcall tinyxml2::XMLUtil::ConvertUTF32ToUTF8(tinyxml2::XMLUtil *this, unsigned __int32 a2, char *a3, int *a4);
char *__fastcall tinyxml2::XMLUtil::GetCharacterRef(tinyxml2::XMLUtil *this, const char *a2, char *a3, int *a4);
int __fastcall tinyxml2::StrPair::GetStr(tinyxml2::StrPair *this);
// int sscanf(const char *s, const char *format, ...);
int __fastcall tinyxml2::XMLUtil::ToInt(tinyxml2::XMLUtil *this, const char *a2, int *a3);
int __fastcall tinyxml2::StrPair::SetStr(tinyxml2::StrPair *this, const char *a2, int a3);
int __fastcall tinyxml2::XMLNode::Unlink(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLNode::DeleteChildren(tinyxml2::XMLNode *this);
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::~XMLNode(tinyxml2::XMLNode *this);
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::~XMLNode(tinyxml2::XMLNode *this);
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::~XMLComment(tinyxml2::XMLComment *this);
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::~XMLDeclaration(tinyxml2::XMLDeclaration *this);
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::~XMLUnknown(tinyxml2::XMLUnknown *this);
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::~XMLElement(tinyxml2::XMLElement *this);
int __fastcall tinyxml2::XMLNode::XMLNode(tinyxml2::XMLNode *this, tinyxml2::XMLDocument *a2);
int __fastcall tinyxml2::StrPair::ParseName(tinyxml2::StrPair *this, char *a2);
int __fastcall tinyxml2::StrPair::ParseText(tinyxml2::StrPair *this, char *a2, const char *a3, int a4);
int __fastcall tinyxml2::XMLUtil::ToUnsigned(tinyxml2::XMLUtil *this, const char *a2, unsigned int *a3);
unsigned int __fastcall tinyxml2::XMLUtil::ToBool(tinyxml2::XMLUtil *this, const char *a2, bool *a3);
int __fastcall tinyxml2::XMLUtil::ToFloat(tinyxml2::XMLUtil *this, const char *a2, float *a3);
int __fastcall tinyxml2::XMLUtil::ToDouble(tinyxml2::XMLUtil *this, const char *a2, double *a3);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, char *a3, int a4);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, unsigned int a2, char *a3, int a4);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, char *a3, int a4);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, double a3, char *a4, int a5);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, float a2, char *a3, int a4);
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::XMLDeclaration(tinyxml2::XMLDeclaration *this, tinyxml2::XMLDocument *a2);
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::XMLComment(tinyxml2::XMLComment *this, tinyxml2::XMLDocument *a2);
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::XMLUnknown(tinyxml2::XMLUnknown *this, tinyxml2::XMLDocument *a2);
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::XMLElement(tinyxml2::XMLElement *this, tinyxml2::XMLDocument *a2);
int __fastcall tinyxml2::XMLElement::FindAttribute(tinyxml2::XMLElement *this, const char *a2);
int __fastcall tinyxml2::XMLAttribute::SetName(tinyxml2::XMLAttribute *this, const char *a2);
int __fastcall tinyxml2::XMLNode::SetValue(tinyxml2::XMLNode *this, const char *a2, int a3);
int *__fastcall tinyxml2::XMLDocument::NewComment(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall tinyxml2::XMLDocument::NewText(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall tinyxml2::XMLDocument::NewDeclaration(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall tinyxml2::XMLDocument::NewUnknown(tinyxml2::XMLDocument *this, const char *a2);
int __fastcall tinyxml2::XMLDocument::SetError(tinyxml2::XMLDocument *this, int a2, const char *a3, const char *a4);
void __fastcall tinyxml2::XMLDocument::InitDocument(tinyxml2::XMLDocument *this);
// int fseek(FILE *stream, __int32 off, int whence);
// __int32 ftell(FILE *stream);
// size_t fread(void *ptr, size_t size, size_t n, FILE *stream);
int __fastcall tinyxml2::XMLUtil::ReadBOM(tinyxml2::XMLUtil *this, const char *a2, bool *a3);
int __fastcall tinyxml2::XMLDocument::LoadFile(tinyxml2::XMLNode *a1, FILE *a2);
_BYTE *__fastcall tinyxml2::XMLDocument::Identify(tinyxml2::XMLDocument *this, char *a2, tinyxml2::XMLNode **a3);
_BYTE *__fastcall tinyxml2::XMLAttribute::ParseDeep(tinyxml2::XMLAttribute *this, char *a2, int a3);
int __fastcall tinyxml2::XMLElement::ParseAttributes(tinyxml2::XMLElement *this, char *a2);
char *__fastcall tinyxml2::XMLNode::ParseDeep(tinyxml2::XMLNode *this, char *a2, tinyxml2::StrPair *a3, int a4);
// int printf(const char *format, ...);
int __fastcall tinyxml2::XMLPrinter::XMLPrinter(int result, int a2, char a3);
int __fastcall tinyxml2::XMLDocument::Print(tinyxml2::XMLDocument *this, tinyxml2::XMLPrinter *a2);
// FILE *fdopen(int fd, const char *modes);
int __fastcall tinyxml2::XMLDocument::SaveFile(int a1, int a2);
// int vfprintf(FILE *s, const char *format, __gnuc_va_list arg);
// int vsnprintf(char *s, size_t maxlen, const char *format, __gnuc_va_list arg);
int tinyxml2::XMLPrinter::Print(tinyxml2::XMLPrinter *this, const char *a2, ...);
int __fastcall tinyxml2::XMLPrinter::PrintString(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, const char *a3);
int __fastcall tinyxml2::XMLPrinter::PrintSpace(tinyxml2::XMLPrinter *this, int a2);
int __fastcall tinyxml2::XMLPrinter::CloseElement(tinyxml2::XMLPrinter *this);
int __fastcall tinyxml2::XMLPrinter::SealElement(tinyxml2::XMLPrinter *this);
int __fastcall tinyxml2::XMLPrinter::OpenElement(tinyxml2::XMLPrinter *this, const char *a2);
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, const char *a2, int a3);
int __fastcall tinyxml2::XMLPrinter::PushComment(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
int __fastcall tinyxml2::XMLPrinter::PushDeclaration(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
int __fastcall tinyxml2::XMLPrinter::PushHeader(tinyxml2::XMLPrinter *this, int a2, int a3, int a4);
int __fastcall tinyxml2::XMLPrinter::PushUnknown(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
signed int __fastcall tinyxml2::XMLPrinter::VisitEnter(tinyxml2::XMLPrinter *this, const tinyxml2::XMLDocument *a2);
signed int __fastcall tinyxml2::XMLPrinter::VisitEnter(tinyxml2::XMLPrinter *this, const tinyxml2::XMLElement *a2, const tinyxml2::XMLAttribute *a3);
signed int __fastcall tinyxml2::XMLPrinter::VisitExit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLElement *a2);
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLDeclaration *a2);
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLText *a2);
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLComment *a2);
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLUnknown *a2);
int *__fastcall tinyxml2::XMLComment::ShallowClone(tinyxml2::XMLComment *this, tinyxml2::XMLDocument *a2);
unsigned int __fastcall tinyxml2::XMLComment::ShallowEqual(tinyxml2::XMLComment *this, const tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLComment::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLComment::ParseDeep(tinyxml2::XMLComment *this, char *a2, tinyxml2::StrPair *a3);
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::~XMLComment(tinyxml2::XMLComment *this);
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::ShallowClone(tinyxml2::XMLElement *this, tinyxml2::XMLDocument *a2);
unsigned int __fastcall tinyxml2::XMLElement::ShallowEqual(tinyxml2::XMLElement *this, const tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLElement::Accept(int a1, int a2);
char *__fastcall tinyxml2::XMLElement::ParseDeep(tinyxml2::XMLElement *this, char *a2, tinyxml2::StrPair *a3, int a4);
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::~XMLElement(tinyxml2::XMLElement *this);
int *__fastcall tinyxml2::XMLText::ShallowClone(tinyxml2::XMLText *this, tinyxml2::XMLDocument *a2);
unsigned int __fastcall tinyxml2::XMLText::ShallowEqual(tinyxml2::XMLText *this, const tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLText::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLText::ParseDeep(tinyxml2::XMLText *this, char *a2, tinyxml2::StrPair *a3);
int *__fastcall tinyxml2::XMLUnknown::ShallowClone(tinyxml2::XMLUnknown *this, tinyxml2::XMLDocument *a2);
unsigned int __fastcall tinyxml2::XMLUnknown::ShallowEqual(tinyxml2::XMLUnknown *this, const tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLUnknown::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLUnknown::ParseDeep(tinyxml2::XMLUnknown *this, char *a2, tinyxml2::StrPair *a3);
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::~XMLUnknown(tinyxml2::XMLUnknown *this);
int *__fastcall tinyxml2::XMLDeclaration::ShallowClone(tinyxml2::XMLDeclaration *this, tinyxml2::XMLDocument *a2);
unsigned int __fastcall tinyxml2::XMLDeclaration::ShallowEqual(tinyxml2::XMLDeclaration *this, const tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLDeclaration::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLDeclaration::ParseDeep(tinyxml2::XMLDeclaration *this, char *a2, tinyxml2::StrPair *a3);
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::~XMLDeclaration(tinyxml2::XMLDeclaration *this);
int __fastcall tinyxml2::XMLDocument::Accept(int a1, int a2);
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::~XMLDocument(tinyxml2::XMLDocument *this);
// void abort(void);
// int fprintf(FILE *stream, const char *format, ...);
// int __fastcall _aeabi_memcpy(_DWORD); weak
// int __fastcall _aeabi_memset(_DWORD, _DWORD, _DWORD); weak
// int dladdr(void); weak
// int __fastcall _snprintf_chk(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __fastcall _gnu_Unwind_Find_exidx(_DWORD, _DWORD); weak
int j___aeabi_ldiv0();
unsigned __int64 __fastcall j___gnu_uldivmod_helper(unsigned __int64 a1, unsigned __int64 a2, _QWORD *a3);
// int raise(int sig);
int __fastcall j___extendsfdf2(int a1, int a2, int a3, unsigned int a4);
unsigned int __fastcall j___muldf3(unsigned int result, unsigned int a2, unsigned int a3, unsigned int a4);
unsigned int __fastcall j___fixunsdfsi(unsigned int a1, int a2);
int __fastcall j___floatunsidf(int result);
int j___subdf3();
unsigned int __fastcall j___lshrdi3(unsigned int a1, unsigned int a2, int a3);
int android::Vector<HwcPolicy *>::do_construct(void); // weak
int (**__fastcall sub_FEBA(int a1))(void);
int hwc_setReproductionHeightRatio(); // weak
int hwc_setReproductionWidthRatio(); // weak
int hwc_setTransformChanged(); // weak
int hwc_enableFullScreen(); // weak
int hwc_enableHDMIDisplay(); // weak
int __fastcall hwc_setOrientation(int a1, int a2, int a3, int a4);
int sub_FFD8(); // weak
HwcConfig *__fastcall hwc_addVirtualDisplay(int a1, int a2);
HwcConfig *__fastcall hwc_removeVirtualDisplay(int a1, int a2);
void *__fastcall sub_10208(void *a1);
int __fastcall sub_10214(HwcConfig *a1);
signed int __fastcall sub_10248(HwcConfig *a1, const char *a2, _DWORD *a3);
int __fastcall sub_104EC(int result, int a2, int a3);
int __fastcall hwc_setScreenRecord(int result, int a2, int a3);
signed int __fastcall sub_10564(HwcConfig *a1, int a2, signed int *a3);
int __fastcall sub_10624(int a1, signed int a2, int a3);
int sub_106DC(); // weak
HwcConfig *__fastcall sub_1076C(HwcConfig *a1, signed int a2, unsigned int a3, const unsigned int *a4, int *a5);
signed int __fastcall sub_10830(HwcConfig *a1, signed int a2, unsigned int *a3, unsigned int *a4);
signed int __fastcall sub_108EC(HwcConfig *a1, signed int a2, int a3, int a4);
int __fastcall hwc_dump(int a1, Hi62xxAccelerator *a2, int a3);
HwcConfig *__fastcall hwc_setLayerStack(HwcConfig *a1, signed int a2, int a3);
int __fastcall sub_10AA4(int result, int a2, int a3);
_QWORD *__fastcall sub_10AE8(_QWORD *a1, int a2);
signed int __fastcall sub_10B40(int a1, unsigned int a2, int a3);
signed int __fastcall is_format_change(int a1, int a2, int a3);
signed int __fastcall sub_10DBC(int a1, unsigned int a2, int a3);
unsigned int __fastcall sub_11548(int a1, int a2, int a3);
unsigned int __fastcall sub_115CA(unsigned int *a1);
_DWORD *__fastcall sub_115E0(_DWORD *a1, int a2, unsigned int **a3);
int __fastcall sub_11614(int a1, int a2);
signed int __fastcall sub_1162C(int a1, int a2, int a3, int a4);
int __fastcall sub_11658(int result);
_DWORD *__fastcall HwcLayerInfo::HwcLayerInfo(_DWORD *a1, const void *a2, int a3);
int __fastcall HwcLayerInfo::HwcLayerInfo(int a1, int a2);
void __fastcall sub_11752(unsigned int *a1);
HwcConfig *__fastcall HwcLayerInfo::UpdateBuffer(HwcLayerInfo *this, int a2, int a3, int a4);
int __fastcall HwcLayerInfo::FeedbackCompositionType(int result, int a2, int a3);
signed int __fastcall HwcLayerInfo::GetAcquireFenceFd(HwcLayerInfo *this);
int __fastcall HwcLayerInfo::CloseAcquireFenceFd(HwcLayerInfo *this);
int __fastcall HwcLayerInfo::SetReleaseFenceFd(HwcLayerInfo *this, int a2, int a3);
void *__fastcall HwcLayerInfo::CalcLayerMaskRect(int a1, int a2);
int __fastcall HwcLayerInfo::IsSame(int a1, int a2);
signed int __fastcall HwcLayerInfo::LayerParameterValid(HwcLayerInfo *this);
int __fastcall HwcLayerInfo::IsAlphaLayer(HwcLayerInfo *this);
signed int __fastcall HwcLayerInfo::IsFormatChange(int a1, int a2, int a3);
int __fastcall HwcCompInfo::CheckLastComposition(int result, const HwcCompInfo *a2);
int __fastcall HwcCompInfo::PostPrepare(int result);
unsigned int **__fastcall android::sp<HwcLayerInfo>::~sp(unsigned int **a1);
int __fastcall sub_11ED6(int a1);
_DWORD *__fastcall sub_11F00(_DWORD *a1);
void *__fastcall sub_11F24(_DWORD *a1);
int __fastcall HwcCompInfo::SetPartialUpdates(HwcCompInfo *this, HwcPartialUpdates *a2);
int __fastcall HwcCompInfo::HwcCompInfo(int a1, int a2, int a3, int a4);
unsigned int **__fastcall android::sp<HwcLayerInfo>::operator=(unsigned int **a1, unsigned int **a2);
unsigned int **__fastcall HwcCompInfo::ClearAcquireFences(HwcCompInfo *this, int a2, int a3);
unsigned int **__fastcall HwcCompInfo::CalcLayerMaskRects(HwcCompInfo *this, int a2, int a3);
unsigned int **__fastcall HwcCompInfo::ResetPartialUpdates(HwcCompInfo *this);
int __fastcall sub_123E6(int a1);
unsigned int **__fastcall HwcCompInfo::UpdateBuffers(HwcCompInfo *this, int a2);
int __fastcall HwcCompInfo::CalcOverlapLayersNum(HwcCompInfo *this);
_DWORD *__fastcall android::sp<_hwcAreaInfo>::~sp(_DWORD *a1);
int __fastcall sub_1268C(int a1);
void *__fastcall sub_126CC(int a1);
int __fastcall sub_126E0(int a1);
void *__fastcall sub_12750(int a1);
HwcCompInfo *__fastcall HwcCompInfo::~HwcCompInfo(HwcCompInfo *this);
int __fastcall android::List<android::sp<_hwcAreaInfo>>::operator=(int a1, int a2);
void __fastcall HwcCompInfo::ConstructOnlineVirtualLayer(int a1, int a2, int a3, int a4);
void *__fastcall HwcConfig::Deinit(HwcConfig *this);
signed int __fastcall HwcConfig::UpdateDebugSetting(HwcConfig *this);
int __fastcall HwcConfig::GetDisplay(HwcConfig *this, int a2);
int __fastcall HwcConfig::GetPlatform(HwcConfig *this);
int __fastcall HwcConfig::GetOnlineResouces(HwcConfig *this, int a2, int a3);
int __fastcall HwcConfig::GetOfflineResouces(HwcConfig *this, int a2, int a3);
int __fastcall HwcConfig::GetFbMem(HwcConfig *this, int a2);
signed int __fastcall HwcConfig::GetRotMemNum(HwcConfig *this);
int __fastcall HwcConfig::GetPolicyMask(HwcConfig *this);
int __fastcall HwcConfig::GetDebugLevel(HwcConfig *this);
signed int __fastcall HwcConfig::Init(HwcConfig *this);
int __fastcall HwcConfig::GetRotMem(HwcConfig *this, int a2, int a3, int a4);
signed int __fastcall HwcConfig::NeedDumpWriteback(HwcConfig *this);
signed int __fastcall HwcConfig::NeedDumpFrame(HwcConfig *this);
signed int __fastcall HwcConfig::NeedDumpBlockRot(HwcConfig *this);
signed int __fastcall HwcConfig::NeedDumpVirtualDisplay(HwcConfig *this);
signed int __fastcall HwcConfig::NeedDumpFrameTarget(HwcConfig *this);
int __fastcall HwcConfig::IsTestMode(HwcConfig *this);
int __fastcall HwcConfig::IsTimeConsumingLogEnabled(HwcConfig *this);
int __fastcall HwcConfig::IsPartialUpdates(HwcConfig *this);
int __fastcall HwcConfig::IsHwcDumpEnabled(HwcConfig *this);
int __fastcall HwcConfig::needAdjustAcceClock(HwcConfig *this);
int __fastcall HwcConfig::NeedCompleteOneTime(HwcConfig *this);
void *__fastcall HwcConfig::GetLcdDirtyRegionLimit(HwcConfig *this);
int __fastcall sub_130F4(int a1);
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
void *__fastcall ChannelMgr::Deinit(ChannelMgr *this);
int __fastcall ChannelMgr::ChannelMgr(int a1, signed int *a2);
ChannelMgr *__fastcall ChannelMgr::~ChannelMgr(ChannelMgr *this);
int __fastcall ChannelMgr::BanChannel(ChannelMgr *this, int a2);
int __fastcall ChannelMgr::UnbanChannel(ChannelMgr *this, int a2);
int __fastcall Channel::Channel(int result, int a2, int a3, int a4, int a5);
void *__fastcall ChannelMgr::Init(unsigned int a1, int a2);
__int64 __fastcall Channel::UintCapsToString(__int64 result, char *a2);
int __fastcall Channel::Dump(__int64 this, int a2);
signed int __fastcall Channel::Request(int a1, int a2, int a3, int a4);
int __fastcall ChannelMgr::RequestSource(ChannelMgr *this, const HwcLayerInfo *a2);
int __fastcall ChannelMgr::RequestIdleSource(ChannelMgr *this, const HwcLayerInfo *a2);
int __fastcall ChannelMgr::RequestWriteback(ChannelMgr *this, const HwcLayerInfo *a2);
int __fastcall Channel::ReRequest(int result, const HwcLayerInfo *a2);
int __fastcall Channel::Reuse(int result);
int __fastcall ChannelMgr::ReuseRequestedChannels(ChannelMgr *this);
int __fastcall Channel::Release(Channel *this);
int __fastcall ChannelMgr::ReleaseRequestedChannels(ChannelMgr *this);
int __fastcall Channel::DoReset(Channel *this);
signed int __fastcall Channel::Set(Channel *this);
int __fastcall Channel::Reset(Channel *this);
int __fastcall Channel::DisableCaps(int result, unsigned int a2);
Channel *__fastcall ChannelMgr::DisableChannelCaps(ChannelMgr *this, int a2, unsigned int a3);
int __fastcall Channel::RestoreCaps(int result);
void __fastcall ChannelMgr::RestoreAllChannelsCaps(ChannelMgr *this);
int __fastcall Channel::RefreshState(int result);
void __fastcall ChannelMgr::RefresheAllChannelsState(ChannelMgr *this);
int __fastcall HwcDisplay::HwcDisplay(int a1, int a2, int a3);
HwcDisplay *__fastcall HwcDisplay::~HwcDisplay(HwcDisplay *this);
signed int __fastcall HwcDisplay::Connect(HwcDisplay *this, int a2);
signed int __fastcall HwcDisplay::EventControl(HwcDisplay *this, int a2, int a3);
signed int __fastcall HwcDisplay::GetConfigs(HwcDisplay *this, unsigned int *a2, unsigned int *a3);
HwcConfig *__fastcall HwcDisplay::GetAttributes(HwcDisplay *this, unsigned int a2, const unsigned int *a3, int *a4);
int __fastcall HwcDisplay::Blank(HwcDisplay *this, int a2);
int __fastcall HwcDisplay::WaitForVsyncEnable(HwcDisplay *this);
int __fastcall HwcDisplay::HandleEvent(int result, int a2, int a3, _BYTE *a4);
int __fastcall HwcDisplay::SetupWriteback(HwcDisplay *this);
int __fastcall HwcDisplay::ReleaseWriteback(HwcDisplay *this);
int __fastcall HwcDisplay::GetPoliciesForPrepare(HwcDisplay *this, int a2);
int __fastcall HwcDisplay::CheckPureLayers(HwcConfig *a1, int a2, int a3);
HwcPureLayerChecker *__fastcall HwcDisplay::ClearPureLayers(HwcDisplay *this);
int __fastcall HwcDisplay::GetPureLayers(HwcDisplay *this, int a2);
_DWORD *__fastcall HwcDisplay::UpdatePureLayerInfo(HwcDisplay *this, const HwcCompInfo *a2, int a3);
_DWORD *__fastcall android::sp<_hwcSubCompInfo>::~sp(_DWORD *a1);
unsigned int **__fastcall android::sp<_hwcSubCompInfo>::operator=(unsigned int **a1, unsigned int **a2);
unsigned int **__fastcall android::sp<_hwcAreaInfo>::operator=(unsigned int **a1, unsigned int **a2);
_DWORD *__fastcall HwcDisplay::SetHardware(HwcDisplay *this, HwcCompInfo *a2);
void *__fastcall HwcPartialUpdates::HwcPartialUpdates(void *a1);
int __fastcall HwcPartialUpdates::UpdateDirtyRegionLcdLimit(int result, int a2);
int __fastcall HwcPartialUpdates::Init(int a1, int a2, int a3, int a4);
signed int __fastcall HwcPartialUpdates::ChangeScaledDirtyRegion(int a1, int a2);
unsigned int __fastcall HwcPartialUpdates::UpdateScaledDirtyRegion(int a1, int a2);
int __fastcall HwcPartialUpdates::ResetDirtyRect(HwcPartialUpdates *this);
int __fastcall HwcPartialUpdates::GetDirtyRect(int *a1, int a2);
int __fastcall HwcPartialUpdates::UpdateDisplayFrame(int a1, int a2, int a3);
int __fastcall HwcPartialUpdates::ResetFbTargetRect(int a1, int a2);
int __fastcall HwcPartialUpdates::TransformLayerSrcRect(int a1, int a2, int a3);
int __fastcall HwcPartialUpdates::RetransformLayerSrcRect(int a1, int a2, int a3);
float __fastcall HwcPartialUpdates::UpdateSourceCrop(float result, float _R1, float a3, float a4);
int __fastcall HwcPartialUpdates::UpdateFbTargetLayer(float a1, float a2, int a3, float a4);
int __fastcall HwcPartialUpdates::UpdateSourceLayer(int a1, int a2);
int __fastcall PrimaryOnlinePolicy::PrimaryOnlinePolicy(int result, int a2);
signed int __fastcall PrimaryOnlinePolicy::Prepare(PrimaryOnlinePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall OfflinePolicy::OfflinePolicy(int result, int a2);
int __fastcall OfflinePolicy::CalcComposeRect(int a1, int a2, int a3, int a4);
int __fastcall OfflinePolicy::ConstructTargetLayer(int a1, _DWORD *a2, int a3, int a4);
signed int __fastcall CheckHasDimCompose(int a1);
int __fastcall sub_150B8(int a1);
void __fastcall sub_150E0(int a1);
int __fastcall OfflinePolicy::CheckNewLayerCanCompose(int, ChannelMgr *this, int, int, int, int); // idb
int __fastcall sub_15378(int a1, unsigned int **a2);
int __fastcall OfflinePolicy::Prepare(OfflinePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall GpuComposePolicy::GpuComposePolicy(int result, int a2);
int __fastcall sub_15C3C(int a1, unsigned int **a2);
int __fastcall GpuComposePolicy::Prepare(GpuComposePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall IdleGpuComposePolicy::Prepare(IdleGpuComposePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall VirtualDisplayPolicy::VirtualDisplayPolicy(int result, int a2);
int __fastcall VirtualDisplayPolicy::Prepare(VirtualDisplayPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall VirtualDisplaySkipPolicy::Prepare(VirtualDisplaySkipPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall VirtualDisplaySkipPolicy::VirtualDisplaySkipPolicy(int result, int a2);
int __fastcall PartialUpdatesResetPolicy::Prepare(PartialUpdatesResetPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall PartialUpdatesResetPolicy::PartialUpdatesResetPolicy(int result, int a2);
signed int __fastcall CapaProvider::request(CapaProvider *this, const HwcLayerInfo *a2, int a3);
int __fastcall CapaProvider::release(int result, const HwcLayerInfo *a2);
signed int __fastcall CapaProvider::set(CapaProvider *this, const HwcLayerInfo *a2);
int __fastcall CapaProvider::reset(int result);
int __fastcall CapaProvider::CapaProvider(int result);
signed int __fastcall IAccelerator::getAccelType(IAccelerator *this);
int __fastcall Segmenter::Segmenter(int result, char a2);
signed int __fastcall Segmenter::CalcAreasByIndex(int a1, unsigned int a2, unsigned int a3, int a4, int a5, int a6, int a7);
HwcConfig *__fastcall HwcMem::HwcMem(HwcConfig *a1, signed int a2, int a3, int a4, int a5);
HwcMem *__fastcall HwcMem::~HwcMem(HwcMem *this);
int __fastcall HwcMem::getBuffer(HwcMem *this);
int __fastcall HwcMem::setReleaseFence(HwcMem *this, int a2, int a3);
int __fastcall HwcMem::swap(HwcMem *this, int a2, int a3, int a4);
int __fastcall HwcMem::width(HwcMem *this);
int __fastcall HwcMem::height(HwcMem *this);
signed int __fastcall HwcMem::configBuffer(HwcMem *this, int a2, int a3, int a4);
int __fastcall HwcIdleMgr::IdleDetectTimeout(HwcIdleMgr *this, sigval a2, int a3);
_BYTE *__fastcall HwcIdleMgr::HwcIdleMgr(_BYTE *a1, int a2);
HwcIdleMgr *__fastcall HwcIdleMgr::~HwcIdleMgr(HwcIdleMgr *this);
signed int __fastcall HwcIdleMgr::CheckIdle(int a1, int a2, int a3);
int __fastcall IdlePolicy::Prepare(IdlePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall IdlePolicy::IdlePolicy(int result, int a2);
int __fastcall BlockRotPolicy::BlockRotPolicy(int result, int a2);
int __fastcall BlockRotPolicy::Prepare(BlockRotPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall sub_17310(int a1);
void *__fastcall sub_17348(int a1);
_DWORD *__fastcall sub_1735A(_DWORD *a1, int a2, int a3);
int __fastcall HwcBandwidth::HwcBandwidth(int a1, int a2, int a3);
HwcBandwidth *__fastcall HwcBandwidth::~HwcBandwidth(HwcBandwidth *this);
int __fastcall HwcBandwidth::InitSegment(int a1, int a2, int a3);
HwcConfig *__fastcall HwcBandwidth::ReCalculate(HwcBandwidth *this, const HwcLayerInfo *a2);
int __fastcall HwcBandwidth::SetBoostDdrRate(HwcBandwidth *this, int a2, int a3);
int __fastcall HwcBandwidth::ClearBoostDdrRate(HwcBandwidth *this);
HwcConfig *__fastcall HwcBandwidth::RequestDdrSatisfy(HwcBandwidth *this, unsigned int a2);
int __fastcall HwcBandwidth::Request(int a1);
void __fastcall HwcBandwidth::ReleaseRequest(HwcBandwidth *this);
void __fastcall HwcBandwidth::SetIdleDdrRate(HwcBandwidth *this);
void __fastcall HwcBandwidth::SetBlankDdrRate(HwcBandwidth *this);
int __fastcall HwcBandwidth::UpdateDelayedDdrRequest(int result, int a2, int a3, int a4);
int __fastcall HwcBandwidth::SetIdleBoostDdrRate(HwcBandwidth *this);
int __fastcall sub_1796C(int result, int a2);
int __fastcall sub_17C04(int a1, int a2, int a3, int a4);
int __fastcall sub_17CBA(tinyxml2::XMLElement *a1, const char *a2, int a3);
int __fastcall sub_17CCC(tinyxml2::XMLElement *a1, int *a2);
int __fastcall sub_17D14(tinyxml2::XMLElement *a1, const char *a2, unsigned int a3);
signed int __fastcall WriteBitmap(const char *a1, const void *a2, unsigned int a3, unsigned int a4, unsigned int a5, int a6);
signed int __fastcall HwcDumpBmp(int a1, int a2);
void HwcTimeConsumeBegin(void);
int __fastcall HwcTimeConsumeLog(const char *a1, int a2, int a3);
int HwcTimeConsumeOutput(void);
signed int HwcCreateDumpDir(void);
int __fastcall HwcDumpBin(const HwcLayerInfo *a1, const char *a2);
int __fastcall HwcDumpHandle(HwcConfig *a1, int a2);
tinyxml2::XMLDocument *__fastcall HwcDumpDisplayContents(HwcConfig *a1, int a2, int a3);
_DWORD *__fastcall HwcPureLayerChecker::HwcPureLayerChecker(_DWORD *a1);
int __fastcall sub_188D8(int a1);
_DWORD *__fastcall sub_18904(_DWORD *a1);
void *__fastcall sub_18928(_DWORD *a1);
HwcPureLayerChecker *__fastcall HwcPureLayerChecker::~HwcPureLayerChecker(HwcPureLayerChecker *this);
int __fastcall HwcPureLayerChecker::Clear(HwcPureLayerChecker *this);
_DWORD *__fastcall sub_18964(_DWORD *a1, int a2);
int __fastcall sub_1898A(int a1, int a2);
unsigned int **__fastcall HwcPureLayerChecker::UpdateLayerInfo(int a1, int a2);
signed int __fastcall HwcPureLayerChecker::Check(int a1, int a2, int a3);
int __fastcall PureLayerPolicy::PureLayerPolicy(int result, int a2);
unsigned int __fastcall PureLayerPolicy::IsAlphaLayer(int a1, unsigned int *a2);
void __fastcall PureLayerPolicy::removePureLayer(HwcConfig *a1, int a2, HwcConfig **a3);
int __fastcall PureLayerPolicy::Prepare(PureLayerPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
signed int __fastcall Hi62xxRot::request(Hi62xxRot *this, const HwcLayerInfo *a2, int a3);
int __fastcall Hi62xxRot::release(Hi62xxRot *this, const HwcLayerInfo *a2);
int __fastcall Hi62xxRot::updateSharedMemory(int result, int a2);
signed int __fastcall Hi62xxScl3::request(Hi62xxScl3 *this, const HwcLayerInfo *a2, int a3);
signed int __fastcall Hi62xxScl2::request(Hi62xxScl2 *this, const HwcLayerInfo *_R1, int a3);
int __fastcall sub_191A8(int a1);
int __fastcall sub_191AC(int a1);
int __fastcall sub_191B0(int a1);
int __fastcall sub_191B4(int a1);
int __fastcall sub_191B8(int a1, int a2, int a3);
Hi62xxPlatform *__fastcall Hi62xxPlatform::~Hi62xxPlatform(Hi62xxPlatform *this);
void __fastcall android::Vector<HwcPolicy *>::do_splat(int a1, _DWORD *a2, _DWORD *a3, int a4);
void *__fastcall android::Vector<HwcPolicy *>::do_move_backward(int a1, void *a2, const void *a3, int a4);
void *__fastcall android::Vector<HwcPolicy *>::do_copy(int a1, void *a2, const void *a3, int a4);
Hi62xxPlatform *__fastcall Hi62xxPlatform::~Hi62xxPlatform(Hi62xxPlatform *this);
android::VectorImpl *__fastcall sub_19270(android::VectorImpl *a1);
android::VectorImpl *__fastcall sub_19290(android::VectorImpl *a1);
int __fastcall Hi62xxPlatform::handleEvent(int, int, int, char *s, int); // idb
_DWORD *__fastcall Hi62xxPlatform::Hi62xxPlatform(_DWORD *a1);
signed int __fastcall Hi62xxPlatform::isAdeFormat(Hi62xxPlatform *this, unsigned int a2);
signed int __fastcall Hi62xxPlatform::formatCanHandle(Hi62xxPlatform *a1, int a2);
signed int __fastcall Hi62xxPlatform::scfCanHandle(int a1, int *a2, _BYTE *a3);
signed int __fastcall Hi62xxPlatform::rotScfCanHandle(int a1, int *a2, int a3);
unsigned int **__fastcall android::sp<HwcLayerInfo>::sp(unsigned int **result, unsigned int **a2);
void __fastcall Hi62xxPlatform::preprocess(Hi62xxPlatform *this, HwcCompInfo *a2);
signed int __fastcall sub_19C04(unsigned int a1);
int __fastcall Hi62xxCommon::commit(int a1, int a2, int a3);
int __fastcall Hi62xxCommon::modifyRectByDirtyRect(int a1, int a2);
signed int __fastcall Hi62xxCommon::calculateSrcRect(HwcConfig *a1, int _R1, int a3, int a4, int a5);
int __fastcall Hi62xxCommon::intersectWithDirtyRect(HwcConfig *a1, int a2);
HwcConfig *__fastcall Hi62xxCommon::setTopResource(int a1, int a2);
Hi62xxCommon *__fastcall Hi62xxCommon::~Hi62xxCommon(Hi62xxCommon *this);
Hi62xxCommon *__fastcall Hi62xxCommon::~Hi62xxCommon(Hi62xxCommon *this);
signed int __fastcall Hi62xxCommon::updateDirtyRegion(int a1, int a2);
signed int __fastcall Hi62xxCommon::waitAllAcquireFenceFd(HwcConfig *a1, int a2, int a3);
signed int __fastcall Hi62xxCommon::commit(int a1, int a2, HwcConfig **a3);
signed int __fastcall Hi62xxCommon::setOverlayLayerInfo(int a1, int a2);
signed int __fastcall Hi62xxCommon::enableVsync(Hi62xxCommon *this, int a2, int a3, int a4);
signed int __fastcall Hi62xxCommon::enableVirtDisp(Hi62xxCommon *this, int a2, int a3, int a4);
int __fastcall Hi62xxCommon::isPartialUpdatesEnabled(Hi62xxCommon *this);
int __fastcall Hi62xxCommon::isCmdPanel(Hi62xxCommon *this);
signed int __fastcall Hi62xxCommon::panDisplay(Hi62xxCommon *this, int a2);
HwcConfig *__fastcall Hi62xxCommon::setClockRate(int a1, int a2, int a3);
int __fastcall Hi62xxCommon::waitSingleAcquireFenceFd(int result, int a2);
_DWORD *__fastcall Hi62xxCommon::Hi62xxCommon(_DWORD *a1);
signed int __fastcall Hi62xxCommon::setScaleFactor(HwcConfig *a1, int _R1, int a3);
int __fastcall Hi62xxCommon::setRectsInternal(float a1, float _R1, float _R2, int _R3, int a5, int a6, int a7);
int __fastcall Hi62xxCommon::setRects(float a1, float a2, float a3, int a4);
signed int __fastcall Hi62xxCommon::detectLayers(HwcConfig *a1, int a2, int a3, int a4);
signed int __fastcall Hi62xxCommon::setRegionInfo(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
signed int __fastcall Hi62xxCommon::setReadBackRegion(HwcConfig *a1, int a2, int a3, int a4, int a5);
signed int __fastcall Hi62xxCommon::setNormalRegion(HwcConfig *a1, int a2, int a3, int a4, int a5, int a6, int a7);
Hi62xxComposer *__fastcall Hi62xxComposer::~Hi62xxComposer(Hi62xxComposer *this);
signed int __fastcall sub_1BC48(HwcConfig *a1);
int __fastcall Hi62xxComposer::Hi62xxComposer(int a1, int a2);
void *__fastcall Hi62xxComposer::resetSelf(Hi62xxComposer *this);
int __fastcall Hi62xxComposer::setSource(Hi62xxComposer *this, int a2, int a3);
signed int __fastcall Hi62xxComposer::Compose(HwcConfig *a1, int a2, int a3, int a4);
signed int __fastcall Hi62xxComposer::setBlkRotLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
signed int __fastcall Hi62xxComposer::setWfdLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
signed int __fastcall Hi62xxComposer::convertLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
Hi62xxOverlay *__fastcall Hi62xxOverlay::~Hi62xxOverlay(Hi62xxOverlay *this);
int __fastcall Hi62xxOverlay::Hi62xxOverlay(int a1, int a2);
void *__fastcall Hi62xxOverlay::resetSelf(Hi62xxOverlay *this);
int __fastcall Hi62xxOverlay::setSource(Hi62xxOverlay *this, int a2, int a3);
int __fastcall Hi62xxOverlay::finishOneArea(Hi62xxOverlay *this, int a2, int a3);
int __fastcall Hi62xxOverlay::play(Hi62xxOverlay *this, int a2, int a3);
int __fastcall Hi62xxAccelerator::isPartialUpdatesEnabled(Hi62xxAccelerator *this);
int __fastcall Hi62xxAccelerator::isCmdPanel(Hi62xxAccelerator *this);
int __fastcall Hi62xxAccelerator::setVirtualDisplayInfo(int a1, int a2, int a3);
int __fastcall Hi62xxAccelerator::enableVsync(Hi62xxAccelerator *this, bool a2);
int __fastcall Hi62xxAccelerator::enableVirtualDisp(Hi62xxAccelerator *this, bool a2);
Hi62xxAccelerator *__fastcall Hi62xxAccelerator::~Hi62xxAccelerator(Hi62xxAccelerator *this);
int __fastcall Hi62xxAccelerator::getEvent(Hi62xxAccelerator *this, int *a2, void *a3, int *a4);
int __fastcall Hi62xxAccelerator::Hi62xxAccelerator(int result, int a2);
int __fastcall Hi62xxAccelerator::setGpuResource(int a1, int a2);
int __fastcall Hi62xxAccelerator::setOnlineResource(int a1, int a2, int a3, unsigned int a4);
int __fastcall Hi62xxAccelerator::setOfflineResource(int a1, int a2, int a3, int a4);
HwcConfig *__fastcall Hi62xxAccelerator::setGlobal(Hi62xxAccelerator *this, const HwcCompInfo *a2);
signed int __fastcall Hi62XXPerf::calcClockRate(Hi62XXPerf *this, const HwcLayerInfo *_R1);
signed int __fastcall Hi62XXPerf::getMaxClockRate(Hi62XXPerf *this);
signed int __fastcall Hi62XXPerf::getBoostDdrRate(Hi62XXPerf *this);
Hi62XXPerf *__fastcall Hi62XXPerf::~Hi62XXPerf(Hi62XXPerf *this);
Hi62XXPerf *__fastcall Hi62XXPerf::~Hi62XXPerf(Hi62XXPerf *this);
unsigned int __fastcall Hi62XXPerf::totalBwToDdrRate(Hi62XXPerf *this, float _R1);
int __fastcall Hi62XXPerf::setGpuBoost(Hi62XXPerf *this, int a2);
int __fastcall Hi62XXPerf::calcLayerBw(Hi62XXPerf *this, const HwcLayerInfo *_R1);
signed int __fastcall Hi62XXPerf::setDdrRate(Hi62XXPerf *this, unsigned int a2);
signed int __fastcall Hi62XXPerf::getCurrentDdrRate(Hi62XXPerf *this, unsigned int *a2);
signed int __fastcall Hi62XXPerf::setClockRate(Hi62XXPerf *this, unsigned int a2);
int __fastcall Hi62XXPerf::Hi62XXPerf(int a1, int a2);
int __fastcall sub_1D594(int a1);
int __fastcall sub_1D598(int a1, int a2, int a3);
Hi363xPlatform *__fastcall Hi363xPlatform::~Hi363xPlatform(Hi363xPlatform *this);
Hi363xPlatform *__fastcall Hi363xPlatform::~Hi363xPlatform(Hi363xPlatform *this);
int __fastcall Hi363xPlatform::handleEvent(int a1, int a2, int a3, const char *a4);
_DWORD *__fastcall Hi363xPlatform::Hi363xPlatform(_DWORD *a1);
signed int __fastcall Hi363xPlatform::ScfCanHandle(int a1, int *a2);
signed int __fastcall Hi363xPlatform::FormatCanHandle(int a1, int a2);
signed int __fastcall Hi363xPlatform::StrideCanHandle(int a1, int a2);
signed int __fastcall Hi363xPlatform::BlockAlgorithmCanHandle(int a1, int a2, int a3);
unsigned int **__fastcall Hi363xPlatform::preprocess(Hi363xPlatform *this, HwcCompInfo *a2);
signed int __fastcall sub_1DB08(signed int a1);
int __fastcall sub_1DB74(int a1);
signed int __fastcall Hi363xComposer::convertLayer(Hi363xComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
Hi363xComposer *__fastcall Hi363xComposer::~Hi363xComposer(Hi363xComposer *this);
Hi363xComposer *__fastcall Hi363xComposer::~Hi363xComposer(Hi363xComposer *this);
signed int __fastcall sub_1DBD4(HwcConfig *a1);
signed int __fastcall Hi363xComposer::setSource(int a1, int a2);
signed int __fastcall Hi363xComposer::Compose(int a1, int a2);
int __fastcall Hi363xComposer::Hi363xComposer(int a1, const char *a2);
Hi363xOverlay *__fastcall Hi363xOverlay::~Hi363xOverlay(Hi363xOverlay *this);
Hi363xOverlay *__fastcall Hi363xOverlay::~Hi363xOverlay(Hi363xOverlay *this);
signed int __fastcall Hi363xOverlay::CheckPureLayer(Hi363xOverlay *this, int a2, bool *a3, bool *a4, unsigned int *a5);
int __fastcall Hi363xOverlay::play(void *a1, int a2, int a3, _DWORD *a4);
int __fastcall Hi363xOverlay::Hi363xOverlay(int a1, const char *a2);
int __fastcall Hi363xOverlay::CalculateReproduction(Hi363xOverlay *this, int *a2, int *a3, unsigned int *_R3, unsigned int *a5);
int __fastcall Hi363xOverlay::CalculateSize(Hi363xOverlay *this, unsigned int _R1, unsigned int _R2, int *a4, int *a5, unsigned int *a6, unsigned int *a7);
signed int __fastcall Hi363xOverlay::setSource(int a1, int a2);
Hi363xAccelerator *__fastcall Hi363xAccelerator::~Hi363xAccelerator(Hi363xAccelerator *this);
Hi363xAccelerator *__fastcall Hi363xAccelerator::~Hi363xAccelerator(Hi363xAccelerator *this);
signed int __fastcall Hi363xAccelerator::isPartialUpdatesEnabled(Hi363xAccelerator *this, int a2);
int __fastcall Hi363xAccelerator::enableVsync(Hi363xAccelerator *this, int a2, int a3);
signed int __fastcall Hi363xAccelerator::getEvent(Hi363xAccelerator *this, int *a2, void *a3, int *a4);
int __fastcall Hi363xAccelerator::isCmdPanel(Hi363xAccelerator *this);
_DWORD *__fastcall Hi363xAccelerator::Hi363xAccelerator(_DWORD *a1);
int __fastcall sub_1F29C(int _R0);
unsigned int __fastcall Hi363xPerf::totalBwToDdrRate(Hi363xPerf *this, float a2, int a3, unsigned int a4);
signed int __fastcall Hi363xPerf::getMaxClockRate(Hi363xPerf *this);
signed int __fastcall Hi363xPerf::getIdleBoostDdrRate(Hi363xPerf *this);
signed int __fastcall Hi363xPerf::setClockRate(Hi363xPerf *this, unsigned int a2);
Hi363xPerf *__fastcall Hi363xPerf::~Hi363xPerf(Hi363xPerf *this);
Hi363xPerf *__fastcall Hi363xPerf::~Hi363xPerf(Hi363xPerf *this);
unsigned int __fastcall Hi363xPerf::calcClockRate(Hi363xPerf *this, const HwcLayerInfo *_R1);
int __fastcall Hi363xPerf::calcLayerBw(Hi363xPerf *this, const HwcLayerInfo *_R1);
signed int __fastcall Hi363xPerf::setDdrRate(Hi363xPerf *this, unsigned int a2);
int __fastcall Hi363xPerf::setGpuBoost(Hi363xPerf *this, int a2);
int __fastcall Hi363xPerf::setCpuBoost(Hi363xPerf *this);
signed int __fastcall Hi363xPerf::getCurrentDdrRate(Hi363xPerf *this, unsigned int *a2);
int __fastcall Hi363xPerf::Hi363xPerf(int a1, int a2);
int __fastcall VirtualDisplayGpuPolicy::Prepare(VirtualDisplayGpuPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall VirtualDisplayGpuPolicy::VirtualDisplayGpuPolicy(int result, int a2);
HwcConfig *__fastcall IdleBoostPolicy::Prepare(IdleBoostPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4);
int __fastcall IdleBoostPolicy::IdleBoostPolicy(int result, int a2);
signed int sub_1FD8C();
signed int sub_1FD90();
signed int sub_1FD94();
signed int sub_1FD98();
signed int sub_1FD9C();
signed int sub_1FDA0();
signed int sub_1FDA4();
signed int sub_1FDA8();
int __fastcall tinyxml2::XMLDocument::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLText::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLComment::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLDeclaration::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLUnknown::Accept(int a1, int a2);
int __fastcall tinyxml2::XMLElement::Accept(int a1, int a2);
signed int sub_1FE66();
signed int sub_1FE6A();
signed int sub_1FE6E();
signed int sub_1FE72();
_DWORD *__fastcall sub_1FE76(_DWORD *result, void *a2);
_DWORD *__fastcall sub_1FE94(_DWORD *result, void *a2);
_DWORD *__fastcall sub_1FEB2(_DWORD *result, void *a2);
_DWORD *__fastcall sub_1FED0(_DWORD *result, void *a2);
void __fastcall sub_1FEEE(int a1, int a2);
int *__fastcall sub_1FF1A(int a1);
int *__fastcall sub_1FFBA(int a1);
int *__fastcall sub_2005A(int a1);
int *__fastcall sub_200FA(int a1);
int __fastcall sub_2019C(int a1);
void *__fastcall sub_201D8(int a1);
_DWORD *__fastcall sub_201EC(_DWORD *a1);
void *__fastcall sub_20228(_DWORD *a1);
_DWORD *__fastcall sub_2023C(_DWORD *a1);
void *__fastcall sub_20278(_DWORD *a1);
_DWORD *__fastcall sub_2028C(_DWORD *a1);
void *__fastcall sub_202C8(_DWORD *a1);
_DWORD *__fastcall sub_202DC(_DWORD *a1);
void *__fastcall sub_20318(_DWORD *a1);
_BYTE *__fastcall sub_2032A(_BYTE *a1);
unsigned int __fastcall sub_20344(_BYTE *a1, _BYTE *a2, int a3);
int __fastcall tinyxml2::StrPair::Reset(tinyxml2::StrPair *this);
tinyxml2::StrPair *__fastcall tinyxml2::StrPair::~StrPair(tinyxml2::StrPair *this);
int __fastcall sub_203AC(int a1);
void *__fastcall sub_203D0(int a1);
int __fastcall tinyxml2::StrPair::SetStr(tinyxml2::StrPair *this, const char *a2, int a3);
int __fastcall tinyxml2::StrPair::ParseText(tinyxml2::StrPair *this, char *a2, const char *a3, int a4);
int __fastcall tinyxml2::StrPair::ParseName(tinyxml2::StrPair *this, char *a2);
int __fastcall tinyxml2::XMLUtil::ReadBOM(int result, const char *a2, bool *a3);
unsigned int __fastcall tinyxml2::XMLUtil::ConvertUTF32ToUTF8(tinyxml2::XMLUtil *this, unsigned __int32 a2, char *a3, int *a4);
char *__fastcall tinyxml2::XMLUtil::GetCharacterRef(tinyxml2::XMLUtil *this, const char *a2, char *a3, int *a4);
int __fastcall tinyxml2::StrPair::GetStr(tinyxml2::StrPair *this);
unsigned int __fastcall tinyxml2::XMLText::ShallowEqual(tinyxml2::XMLText *this, const tinyxml2::XMLNode *a2);
unsigned int __fastcall tinyxml2::XMLComment::ShallowEqual(tinyxml2::XMLComment *this, const tinyxml2::XMLNode *a2);
unsigned int __fastcall tinyxml2::XMLDeclaration::ShallowEqual(tinyxml2::XMLDeclaration *this, const tinyxml2::XMLNode *a2);
unsigned int __fastcall tinyxml2::XMLUnknown::ShallowEqual(tinyxml2::XMLUnknown *this, const tinyxml2::XMLNode *a2);
unsigned int __fastcall tinyxml2::XMLElement::ShallowEqual(tinyxml2::XMLElement *this, const tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, char *a3, int a4);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, unsigned int a2, char *a3, int a4);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, float a2, char *a3, int a4);
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, double a3, char *a4, int a5);
int __fastcall tinyxml2::XMLUtil::ToInt(tinyxml2::XMLUtil *this, const char *a2, int *a3);
int __fastcall tinyxml2::XMLUtil::ToUnsigned(tinyxml2::XMLUtil *this, const char *a2, unsigned int *a3);
unsigned int __fastcall tinyxml2::XMLUtil::ToBool(tinyxml2::XMLUtil *this, const char *a2, bool *a3);
int __fastcall tinyxml2::XMLUtil::ToFloat(tinyxml2::XMLUtil *this, const char *a2, float *a3);
int __fastcall tinyxml2::XMLUtil::ToDouble(tinyxml2::XMLUtil *this, const char *a2, double *a3);
int __fastcall tinyxml2::XMLNode::XMLNode(int result, tinyxml2::XMLDocument *a2);
int __fastcall tinyxml2::XMLNode::SetValue(tinyxml2::XMLNode *this, const char *a2, int a3);
int __fastcall tinyxml2::XMLNode::Unlink(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2);
int __fastcall tinyxml2::XMLNode::DeleteChildren(int result);
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::~XMLNode(tinyxml2::XMLNode *this);
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::~XMLNode(tinyxml2::XMLNode *this);
tinyxml2::XMLNode *__fastcall sub_20B90(tinyxml2::XMLNode *a1);
tinyxml2::XMLNode *__fastcall sub_20BAC(tinyxml2::XMLNode *a1);
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::~XMLComment(tinyxml2::XMLComment *this);
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::~XMLComment(tinyxml2::XMLComment *this);
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::~XMLDeclaration(tinyxml2::XMLDeclaration *this);
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::~XMLDeclaration(tinyxml2::XMLDeclaration *this);
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::~XMLUnknown(tinyxml2::XMLUnknown *this);
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::~XMLUnknown(tinyxml2::XMLUnknown *this);
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::~XMLElement(tinyxml2::XMLElement *this);
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::~XMLElement(tinyxml2::XMLElement *this);
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::~XMLDocument(tinyxml2::XMLDocument *this);
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::~XMLDocument(tinyxml2::XMLDocument *this);
int __fastcall tinyxml2::XMLNode::DeleteChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2);
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::InsertEndChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2);
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::InsertFirstChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2);
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::InsertAfterChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2, tinyxml2::XMLNode *a3);
int __fastcall tinyxml2::XMLNode::FirstChildElement(tinyxml2::XMLNode *this, const char *a2);
int __fastcall tinyxml2::XMLNode::LastChildElement(tinyxml2::XMLNode *this, const char *a2);
int __fastcall tinyxml2::XMLNode::NextSiblingElement(tinyxml2::XMLNode *this, const char *a2);
int __fastcall tinyxml2::XMLNode::PreviousSiblingElement(tinyxml2::XMLNode *this, const char *a2);
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::XMLComment(tinyxml2::XMLComment *this, tinyxml2::XMLDocument *a2);
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::XMLDeclaration(tinyxml2::XMLDeclaration *this, tinyxml2::XMLDocument *a2);
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::XMLUnknown(tinyxml2::XMLUnknown *this, tinyxml2::XMLDocument *a2);
_BYTE *__fastcall tinyxml2::XMLAttribute::ParseDeep(tinyxml2::XMLAttribute *this, char *a2, int a3);
int __fastcall tinyxml2::XMLAttribute::SetName(tinyxml2::XMLAttribute *this, const char *a2);
signed int __fastcall tinyxml2::XMLAttribute::QueryIntValue(tinyxml2::XMLAttribute *this, int *a2);
signed int __fastcall tinyxml2::XMLAttribute::QueryUnsignedValue(tinyxml2::XMLAttribute *this, unsigned int *a2);
signed int __fastcall tinyxml2::XMLAttribute::QueryBoolValue(tinyxml2::XMLAttribute *this, bool *a2);
signed int __fastcall tinyxml2::XMLAttribute::QueryFloatValue(tinyxml2::XMLAttribute *this, float *a2);
signed int __fastcall tinyxml2::XMLAttribute::QueryDoubleValue(tinyxml2::XMLAttribute *this, double *a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, const char *a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, unsigned int a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2, double a3);
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, float a2);
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::XMLElement(tinyxml2::XMLElement *this, tinyxml2::XMLDocument *a2);
_BYTE *__fastcall tinyxml2::XMLDocument::Identify(tinyxml2::XMLDocument *this, char *a2, tinyxml2::XMLNode **a3);
int __fastcall tinyxml2::XMLElement::FindAttribute(tinyxml2::XMLElement *this, const char *a2);
int __fastcall tinyxml2::XMLElement::Attribute(tinyxml2::XMLElement *this, const char *a2, const char *a3);
int __fastcall tinyxml2::XMLElement::GetText(tinyxml2::XMLElement *this);
signed int __fastcall tinyxml2::XMLElement::QueryIntText(tinyxml2::XMLElement *this, int *a2);
signed int __fastcall tinyxml2::XMLElement::QueryUnsignedText(tinyxml2::XMLElement *this, unsigned int *a2);
signed int __fastcall tinyxml2::XMLElement::QueryBoolText(tinyxml2::XMLElement *this, bool *a2);
signed int __fastcall tinyxml2::XMLElement::QueryDoubleText(tinyxml2::XMLElement *this, double *a2);
signed int __fastcall tinyxml2::XMLElement::QueryFloatText(tinyxml2::XMLElement *this, float *a2);
int *__fastcall tinyxml2::XMLElement::FindOrCreateAttribute(tinyxml2::XMLElement *this, const char *a2);
int __fastcall tinyxml2::XMLElement::DeleteAttribute(int result, const char *a2);
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::XMLDocument(tinyxml2::XMLDocument *this, bool a2);
void __fastcall tinyxml2::XMLDocument::InitDocument(tinyxml2::XMLDocument *this);
int *__fastcall tinyxml2::XMLDocument::NewElement(tinyxml2::XMLDocument *this, const char *a2);
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::ShallowClone(tinyxml2::XMLElement *this, tinyxml2::XMLDocument *a2);
int *__fastcall tinyxml2::XMLDocument::NewComment(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall tinyxml2::XMLComment::ShallowClone(tinyxml2::XMLComment *this, tinyxml2::XMLDocument *a2);
int *__fastcall tinyxml2::XMLDocument::NewText(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall tinyxml2::XMLText::ShallowClone(tinyxml2::XMLText *this, tinyxml2::XMLDocument *a2);
int *__fastcall tinyxml2::XMLDocument::NewDeclaration(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall tinyxml2::XMLDeclaration::ShallowClone(tinyxml2::XMLDeclaration *this, tinyxml2::XMLDocument *a2);
int *__fastcall tinyxml2::XMLDocument::NewUnknown(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall tinyxml2::XMLUnknown::ShallowClone(tinyxml2::XMLUnknown *this, tinyxml2::XMLDocument *a2);
int __fastcall tinyxml2::XMLDocument::SetError(int result, int a2, const char *a3, const char *a4);
int __fastcall tinyxml2::XMLText::ParseDeep(tinyxml2::XMLText *this, char *a2, tinyxml2::StrPair *a3);
int __fastcall tinyxml2::XMLComment::ParseDeep(tinyxml2::XMLComment *this, char *a2, tinyxml2::StrPair *a3);
int __fastcall tinyxml2::XMLDeclaration::ParseDeep(tinyxml2::XMLDeclaration *this, char *a2, tinyxml2::StrPair *a3);
int __fastcall tinyxml2::XMLUnknown::ParseDeep(tinyxml2::XMLUnknown *this, char *a2, tinyxml2::StrPair *a3);
int __fastcall tinyxml2::XMLDocument::LoadFile(tinyxml2::XMLNode *a1, FILE *a2);
int __fastcall tinyxml2::XMLDocument::LoadFile(tinyxml2::XMLDocument *this, const char *a2);
int __fastcall tinyxml2::XMLDocument::Parse(tinyxml2::XMLDocument *this, const char *a2);
char *__fastcall tinyxml2::XMLNode::ParseDeep(tinyxml2::XMLNode *this, char *a2, tinyxml2::StrPair *a3, int a4);
int __fastcall tinyxml2::XMLElement::ParseAttributes(tinyxml2::XMLElement *this, char *a2);
char *__fastcall tinyxml2::XMLElement::ParseDeep(tinyxml2::XMLElement *this, char *a2, tinyxml2::StrPair *a3, int a4);
int __fastcall tinyxml2::XMLDocument::PrintError(tinyxml2::XMLDocument *this);
int __fastcall tinyxml2::XMLPrinter::XMLPrinter(int result, int a2, char a3);
int __fastcall tinyxml2::XMLDocument::Print(tinyxml2::XMLDocument *this, tinyxml2::XMLPrinter *a2);
int __fastcall tinyxml2::XMLDocument::SaveFile(int a1, int a2);
int __fastcall tinyxml2::XMLDocument::SaveFile(tinyxml2::XMLDocument *this, const char *a2);
int tinyxml2::XMLPrinter::Print(tinyxml2::XMLPrinter *this, const char *a2, ...);
int __fastcall tinyxml2::XMLPrinter::PrintSpace(int result, int a2);
int __fastcall tinyxml2::XMLPrinter::PrintString(int result, const char *a2, int a3, int a4);
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, const char *a3);
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, int a3);
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, unsigned int a3);
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, int a3);
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, double a3);
int __fastcall tinyxml2::XMLPrinter::CloseElement(tinyxml2::XMLPrinter *this);
signed int __fastcall tinyxml2::XMLPrinter::VisitExit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLElement *a2);
int __fastcall tinyxml2::XMLPrinter::SealElement(tinyxml2::XMLPrinter *this);
int __fastcall tinyxml2::XMLPrinter::OpenElement(tinyxml2::XMLPrinter *this, const char *a2);
signed int __fastcall tinyxml2::XMLPrinter::VisitEnter(tinyxml2::XMLPrinter *this, const tinyxml2::XMLElement *a2, const tinyxml2::XMLAttribute *a3);
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, const char *a2, int a3);
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLText *a2);
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, int a2);
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, unsigned int a2);
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, int a2);
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, float a2);
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, int a2, double a3);
int __fastcall tinyxml2::XMLPrinter::PushComment(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLComment *a2);
int __fastcall tinyxml2::XMLPrinter::PushDeclaration(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
int __fastcall tinyxml2::XMLPrinter::PushHeader(int result, int a2, int a3, int a4);
signed int __fastcall tinyxml2::XMLPrinter::VisitEnter(tinyxml2::XMLPrinter *this, const tinyxml2::XMLDocument *a2);
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLDeclaration *a2);
int __fastcall tinyxml2::XMLPrinter::PushUnknown(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLUnknown *a2);
signed int __fastcall sub_2277C(int a1, int a2, unsigned int a3, unsigned int a4);
signed int __fastcall sub_22AC0(int a1, int a2, unsigned int a3, int a4, int *a5);
signed int __fastcall sub_22B64(int a1, int a2, unsigned int a3, int a4);
signed int __fastcall sub_22C88(int a1, int a2, int a3);
void sub_22CDC();
void sub_22CE4();
signed int __fastcall sub_22D80(int a1, int a2, char a3);
void __fastcall sub_22E98(int a1, int a2, int a3);
int __fastcall sub_22F1C(int a1, int a2, int a3, int a4, int a5);
int __fastcall sub_22F34(int _R0);
int __fastcall sub_22F3C(int _R0);
int __fastcall sub_22F44(int _R0);
void sub_22F4C();
void sub_22F90();
int __fastcall sub_22FA4(int a1);
signed int __fastcall sub_22FF4(int a1, int a2, _DWORD *a3);
signed int __fastcall sub_23024(int a1, int a2, int a3);
signed int __fastcall sub_23068(int a1, int a2, _QWORD *a3);
signed int __fastcall sub_23098(int a1, int a2, int a3, int a4);
int __fastcall sub_230D0(int a1);
signed int __fastcall sub_230D8(int a1, int a2);
signed int __fastcall sub_230F8(int a1);
int __fastcall sub_23110(int a1);
int __fastcall sub_23120(int a1, int a2);
int __fastcall sub_23144(int a1, signed int a2);
int __fastcall sub_231E0(int result, signed int a2, int a3);
int __fastcall sub_23278(int a1, int a2);
__int64 __fastcall sub_2329C(int a1, int a2);
int __fastcall sub_2334C(int a1, int a2, int a3, int a4);
signed int __fastcall sub_23420(int a1);
int __fastcall sub_2346C(int a1, int a2);
void __fastcall sub_234AC(int a1);
int __fastcall sub_234C4(int a1);
signed int __fastcall sub_234CC(int a1, int a2, int a3, _DWORD *a4);
int __fastcall sub_23528(int a1, int a2);
const char *__fastcall sub_23574(int a1, signed int a2);
int __fastcall sub_2357C(int result);
void __fastcall sub_23584(int a1, int a2, int a3, int a4);
int __fastcall sub_235B8(int a1);
int sub_23608(); // weak
int __fastcall sub_23798(int result, int a2, int a3, _DWORD *a4, int a5, int a6, int a7, _DWORD *a8);
int sub_23E70(); // weak
int __fastcall sub_23E84(int _R0);
int __fastcall sub_23E8C(int _R0);
int __fastcall sub_23E94(int _R0);
int __fastcall sub_23E9C(_DWORD *a1);
int __fastcall sub_23EE0(_DWORD *a1);
int _aeabi_ldiv0();
unsigned int __fastcall _fixunssfdi(int a1, int a2, int a3, unsigned int a4);
signed __int64 __fastcall _gnu_ldivmod_helper(signed __int64 a1, signed __int64 a2, _QWORD *a3);
unsigned __int64 __fastcall _gnu_uldivmod_helper(unsigned __int64 a1, unsigned __int64 a2, _QWORD *a3);
int __fastcall _aeabi_drsub(__int64 a1, __int64 a2);
int _subdf3(void); // weak
int __fastcall _aeabi_dadd(__int64 a1, __int64 a2);
int __fastcall _floatunsidf(int result);
int __fastcall _floatsidf(int result);
int __fastcall _extendsfdf2(int a1, int a2, int a3, unsigned int a4);
int __fastcall _floatundidf(__int64 a1);
int __fastcall _floatdidf(__int64 a1);
unsigned int __fastcall _muldf3(unsigned int result, unsigned int a2, unsigned int a3, unsigned int a4);
void __fastcall _divdf3(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int a4);
void __fastcall sub_247DC(int a1, int a2, int a3, unsigned int a4);
unsigned int __fastcall _fixunsdfsi(unsigned int a1, int a2);
unsigned int __fastcall _lshrdi3(unsigned int a1, unsigned int a2, int a3);
HwcConfig *__fastcall j_j_j__ZNK10HwcDisplay13GetAttributesEjPKjPi(HwcDisplay *this, unsigned int a2, const unsigned int *a3, int *a4);
HwcConfig *__fastcall j_HwcDisplay::GetAttributes(HwcDisplay *this, unsigned int a2, const unsigned int *a3, int *a4);
signed int __fastcall j_j_j__ZNK10HwcDisplay10GetConfigsEPjS0_(HwcDisplay *this, unsigned int *a2, unsigned int *a3);
signed int __fastcall j_HwcDisplay::GetConfigs(HwcDisplay *this, unsigned int *a2, unsigned int *a3);
signed int __fastcall j_j_j__ZN10HwcDisplay12EventControlEii(HwcDisplay *this, int a2, int a3);
signed int __fastcall j_HwcDisplay::EventControl(HwcDisplay *this, int a2, int a3);
int __fastcall j_j_j__ZN17Hi62xxAccelerator16requestClockRateEi(Hi62xxAccelerator *this, int a2);
int __fastcall j_Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2);
void __fastcall j_operator delete(void *a1);
void __fastcall operator delete(void *a1);
int j_j_close(int fd);
int j_close(int fd);
int __fastcall j_j_j__ZN6HwcMem15setReleaseFenceEi(HwcMem *this, int a2, int a3);
int __fastcall j_HwcMem::setReleaseFence(HwcMem *this, int a2, int a3);
void *j_j_memset(void *s, int c, size_t n);
void *j_memset(void *s, int c, size_t n);
void *__fastcall j_j_j__ZN10ChannelMgr6DeinitEv(ChannelMgr *this);
void *__fastcall j_ChannelMgr::Deinit(ChannelMgr *this);
int __fastcall j_j_j__ZN7Channel7DoResetEv(Channel *this);
int __fastcall j_Channel::DoReset(Channel *this);
int __fastcall j_j_j__ZN7Channel11DisableCapsEj(Channel *this, unsigned int a2);
int __fastcall j_Channel::DisableCaps(Channel *this, unsigned int a2);
int j_j_pthread_mutex_unlock(pthread_mutex_t *mutex);
int j_pthread_mutex_unlock(pthread_mutex_t *mutex);
int __fastcall j_j_j__ZN19HwcPureLayerChecker5ClearEv(HwcPureLayerChecker *this);
int __fastcall j_HwcPureLayerChecker::Clear(HwcPureLayerChecker *this);
int __fastcall j_j_j__ZN17HwcPartialUpdates25UpdateDirtyRegionLcdLimitEPK21lcd_dirty_region_info(int result, int a2);
int __fastcall j_HwcPartialUpdates::UpdateDirtyRegionLcdLimit(int result, int a2);
int __fastcall j_j_j__ZN17HwcPartialUpdates18UpdateDisplayFrameEP11hwc_layer_1PK8hwc_rect(int a1, int a2, int a3);
int __fastcall j_HwcPartialUpdates::UpdateDisplayFrame(int a1, int a2, int a3);
void __fastcall j_j_j__ZN12HwcBandwidth14ReleaseRequestEv(HwcBandwidth *this);
void __fastcall j_HwcBandwidth::ReleaseRequest(HwcBandwidth *this);
int __fastcall j_j_j__ZN8tinyxml212XMLAttribute12SetAttributeEi(tinyxml2::XMLAttribute *this, int a2);
int __fastcall j_tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2);
int __fastcall j_j_j__ZN8tinyxml212XMLAttribute12SetAttributeEj(tinyxml2::XMLAttribute *this, unsigned int a2);
int __fastcall j_tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, unsigned int a2);
int __fastcall j_j_j__ZN12CapaProvider7releaseEPK12HwcLayerInfo(CapaProvider *this, const HwcLayerInfo *a2);
int __fastcall j_CapaProvider::release(CapaProvider *this, const HwcLayerInfo *a2);
signed int __fastcall j_j_j__ZN12CapaProvider7requestEPK12HwcLayerInfob(CapaProvider *this, const HwcLayerInfo *a2, int a3);
signed int __fastcall j_CapaProvider::request(CapaProvider *this, const HwcLayerInfo *a2, int a3);
void *j_j_memmove(void *dest, const void *src, size_t n);
void *j_memmove(void *dest, const void *src, size_t n);
void *j_j_memcpy(void *dest, const void *src, size_t n);
void *j_memcpy(void *dest, const void *src, size_t n);
signed int __fastcall j_j_j__ZNK14Hi62xxPlatform11isAdeFormatEj(Hi62xxPlatform *this, unsigned int a2);
signed int __fastcall j_Hi62xxPlatform::isAdeFormat(Hi62xxPlatform *this, unsigned int a2);
int __fastcall j_j_sync_wait(int a1, int a2, int a3, int a4);
int __fastcall j_sync_wait(int a1, int a2, int a3, int a4);
signed int __fastcall j_j_j__ZN14Hi62xxComposer14setBlkRotLayerEPK12HwcLayerInfoS2_(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
signed int __fastcall j_Hi62xxComposer::setBlkRotLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
signed int __fastcall j_j_j__ZN14Hi62xxComposer11setWfdLayerEPK12HwcLayerInfoS2_(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
signed int __fastcall j_Hi62xxComposer::setWfdLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3);
int j_j_snprintf(char *s, size_t maxlen, const char *format, ...);
int j_snprintf(char *s, size_t maxlen, const char *format, ...);
int __fastcall j_j_j__ZN8tinyxml27StrPair6SetStrEPKci(tinyxml2::StrPair *this, const char *a2, int a3);
int __fastcall j_tinyxml2::StrPair::SetStr(tinyxml2::StrPair *this, const char *a2, int a3);
tinyxml2::XMLNode *__fastcall j_j_j__ZN8tinyxml27XMLNode14InsertEndChildEPS0_(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2);
tinyxml2::XMLNode *__fastcall j_tinyxml2::XMLNode::InsertEndChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2);
int __fastcall j_j_j__ZN8tinyxml27StrPair6GetStrEv(tinyxml2::StrPair *this);
int __fastcall j_tinyxml2::StrPair::GetStr(tinyxml2::StrPair *this);
int *__fastcall j_j_j__ZN8tinyxml211XMLDocument10NewCommentEPKc(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall j_tinyxml2::XMLDocument::NewComment(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall j_j_j__ZN8tinyxml211XMLDocument14NewDeclarationEPKc(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall j_tinyxml2::XMLDocument::NewDeclaration(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall j_j_j__ZN8tinyxml211XMLDocument10NewUnknownEPKc(tinyxml2::XMLDocument *this, const char *a2);
int *__fastcall j_tinyxml2::XMLDocument::NewUnknown(tinyxml2::XMLDocument *this, const char *a2);
char *__fastcall j_j_j__ZN8tinyxml27XMLNode9ParseDeepEPcPNS_7StrPairE(tinyxml2::XMLNode *this, char *a2, tinyxml2::StrPair *a3, int a4);
char *__fastcall j_tinyxml2::XMLNode::ParseDeep(tinyxml2::XMLNode *this, char *a2, tinyxml2::StrPair *a3, int a4);
int j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz(tinyxml2::XMLPrinter *this, const char *a2, ...);
int j_tinyxml2::XMLPrinter::Print(tinyxml2::XMLPrinter *this, const char *a2, ...);
int __fastcall j_j_j__ZN8tinyxml210XMLPrinter11PrintStringEPKcb(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
int __fastcall j_tinyxml2::XMLPrinter::PrintString(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
int __fastcall j_j_j__ZN8tinyxml210XMLPrinter15PushDeclarationEPKc(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
int __fastcall j_tinyxml2::XMLPrinter::PushDeclaration(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4);
void sub_24DDC();
void sub_24DE0();
int __fastcall sub_24DEC(_DWORD *a1);
int __fastcall sub_24DF0(_DWORD *a1);

//-------------------------------------------------------------------------
// Data declarations

int dword_1F584[2] = { 1440000000, 0 }; // weak
_UNKNOWN loc_22C90; // weak
_UNKNOWN loc_2411C; // weak
_UNKNOWN loc_24178; // weak
_UNKNOWN loc_24398; // weak
_UNKNOWN loc_244C0; // weak
_UNKNOWN loc_24570; // weak
_UNKNOWN loc_245D8; // weak
_UNKNOWN loc_24624; // weak
_UNKNOWN loc_2463C; // weak
_UNKNOWN unk_2650F; // weak
char asc_2A800[2] = "\a"; // weak
_DWORD dword_2B2B8[4] = { 0, 0, 0, 0 }; // idb
char asc_2B2C8[2] = "\b"; // weak
_DWORD dword_2BD78[2] = { 0, 0 }; // idb
_BYTE byte_2C050[8] = { 0, 4, 5, 2, 1, 7, 6, 3 }; // idb
_BYTE byte_2C3A8[8] = { 1, 0, 3, 2, 0, 0, 0, 0 }; // idb
_DWORD dword_2C3F0[16] = { 0, 1, 2, 3, 8, 9, 10, 11, 5, 6, 12, 13, 14, 15, 17, 19 }; // idb
_BYTE byte_2C498[8] = { 1, 0, 3, 2, 0, 0, 0, 0 }; // idb
_DWORD dword_2C500[16] = { 0, 1, 2, 3, 8, 9, 10, 11, 5, 6, 12, 13, 14, 15, 17, 19 }; // idb
_UNKNOWN unk_2C618; // weak
void *off_2DAB0 = (void *)0xFEB9; // weak
void *off_2DAC8 = (void *)0x11F01; // weak
void *off_2DAD8 = (void *)0x1268D; // weak
void *off_2DAE8 = (void *)0x126E1; // weak
char *off_2DAF0[4] =
{
  "/dev/graphics/fb0",
  "change@/devices/platform/k3_fb.1",
  "/dev/graphics/fb1",
  "change@/devices/platform/k3_fb.2"
}; // weak
void *off_2DB10 = (void *)0x17311; // weak
void *off_2DB20 = (void *)0x18905; // weak
void *off_2DB60 = (void *)0x203AD; // weak
void *off_2DB70 = (void *)0x202DD; // weak
void *off_2DB90 = (void *)0x2023D; // weak
void *off_2DBB0 = (void *)0x201ED; // weak
void *off_2DBD0 = (void *)0x2028D; // weak
char off_2DBE8[8] = { '', '', '\x02', '\0', '\x04', '\0', '\0', '\0' }; // idb
void *off_2DC2C = (void *)0x23119; // weak
void *off_2DCA8 = (void *)0xFEB9; // weak
void *off_2DCC0 = (void *)0xFEB9; // weak
void *off_2DCD8 = (void *)0xFEB9; // weak
void *off_2DD08 = (void *)0xFEB9; // weak
void *off_2DD20 = (void *)0xFEB9; // weak
void *off_2DD38 = (void *)0xFEB9; // weak
void *off_2DD50 = (void *)0xFEB9; // weak
void *off_2DD70 = (void *)0xFEB9; // weak
void *off_2DD88 = (void *)0xFEB9; // weak
void *off_2DDA0 = (void *)0xFEB9; // weak
void *off_2DDB8 = (void *)0xFEB9; // weak
void *off_2DE68 = (void *)0x19271; // weak
void *off_2DE90 = (void *)0x191CD; // weak
void *off_2DEC8 = (void *)0x1A0AD; // weak
void *off_2DF48 = (void *)0xFEB9; // weak
void *off_2DF98 = (void *)0xFEB9; // weak
void *off_2DFF8 = (void *)0xFEB9; // weak
void *off_2E070 = (void *)0x1CDF5; // weak
void *off_2E0B8 = (void *)0x1D5AD; // weak
void *off_2E0F0 = (void *)0x1DBA1; // weak
void *off_2E110 = (void *)0x1E53D; // weak
void *off_2E140 = (void *)0x1F049; // weak
void *off_2E170 = (void *)0x1F361; // weak
void *off_2E1B8 = (void *)0xFEB9; // weak
void *off_2E1D0 = (void *)0xFEB9; // weak
void *off_2E208 = (void *)0x2019D; // weak
void *off_2E238 = (void *)0x13121; // weak
void *off_2E288 = (void *)0x13121; // weak
void *off_2E2D8 = (void *)0xFEB9; // weak
void *off_2E328 = (void *)0x13121; // weak
void *off_2E378 = (void *)0x13121; // weak
void *off_2E3C8 = (void *)0x13121; // weak
void *off_2E418 = (void *)0x13121; // weak
int GLOBAL_OFFSET_TABLE_ = 0; // weak
char *off_2F088 = "DPE0-CH0"; // weak
char byte_2F188 = '\x01'; // weak
int dword_2F18C = 4294967295; // weak
int dword_2F190 = 1; // weak
char byte_2F194 = '\x01'; // weak
char *off_2F198 = "CH1"; // weak
int dword_2F238 = 4294967295; // weak
_UNKNOWN Hi62xxRot::mMemValid; // weak
void *off_2F240 = &unk_2FC4C; // weak
void *off_2F540 = &unk_2FCC8; // weak
char *off_2F840 = "Unknown"; // weak
char *off_2F844 = "PDP"; // weak
char *off_2F848 = "SDP"; // weak
char *off_2F84C = "WB"; // weak
char *off_2F850 = "WB"; // weak
char *off_2F854 = "ADP"; // weak
char *off_2F858 = "ADP"; // weak
char *off_2F85C = "Unknown"; // weak
char *off_2F860 = "PDP"; // weak
char *off_2F864 = "SDP"; // weak
char *off_2F868 = "WB"; // weak
char *off_2F86C = "WB"; // weak
char *off_2F870 = "ADP"; // weak
char *off_2F874 = "ADP"; // weak
int dword_2F878; // weak
int dword_2F87C; // weak
int dword_2F880; // weak
int dword_2F884; // weak
int dword_2F888; // weak
char byte_2F88C; // weak
int dword_2F890; // weak
int dword_2F894; // weak
char byte_2F898; // weak
int dword_2F8A0[]; // weak
char byte_2F8B0; // weak
_DWORD dword_2F8B8[10]; // idb
char byte_2F8E0; // weak
int dword_2F8E4; // weak
int dword_2F8E8; // weak
_DWORD dword_2F8F0[10]; // idb
_UNKNOWN unk_2F918; // weak
int dword_2F944; // weak
_UNKNOWN ChannelMgr::m_numOfChannels; // weak
_UNKNOWN ChannelMgr::m_inited; // weak
void *ChannelMgr::m_allChannels; // idb
_UNKNOWN HwcMem::mGrDev; // weak
_UNKNOWN HwcMem::mModule; // weak
HwcConfig *HwcBandwidth::m_permanetData; // idb
HwcConfig *dword_2F960; // idb
_UNKNOWN unk_2F964; // weak
unsigned int dword_2F968; // idb
_UNKNOWN unk_2F96C; // weak
_UNKNOWN unk_2F970; // weak
HwcConfig *dword_2F974; // idb
int dword_2F978; // weak
_UNKNOWN binNamePrefix; // weak
int dword_2FA80[]; // weak
int dword_2FA84; // weak
int dword_2FC00; // weak
int dword_2FC04; // weak
_UNKNOWN Hi62xxRot::mMemRequested; // weak
int dword_2FC8C; // weak
_UNKNOWN unk_2FD20; // weak
// extern int _stack_chk_guard; idb
// extern _UNKNOWN atrace_is_ready; weak
// extern _UNKNOWN atrace_enabled_tags; weak
// extern _UNKNOWN atrace_marker_fd; weak
// extern struct _IO_FILE *stdout;
// extern struct _IO_FILE *stderr;


//----- (0000DF20) --------------------------------------------------------
int __fastcall HwcConfig::GetDebugLevel(HwcConfig *this)
{
  return HwcConfig::GetDebugLevel(this);
}

//----- (0000DF44) --------------------------------------------------------
int __fastcall HwcConfig::GetPlatform(HwcConfig *this)
{
  return HwcConfig::GetPlatform(this);
}

//----- (0000DF5C) --------------------------------------------------------
void *__fastcall HwcConfig::Deinit(HwcConfig *this)
{
  return HwcConfig::Deinit(this);
}

//----- (0000DF68) --------------------------------------------------------
HwcIdleMgr *__fastcall HwcIdleMgr::~HwcIdleMgr(HwcIdleMgr *this)
{
  return HwcIdleMgr::~HwcIdleMgr(this);
}

//----- (0000DFA4) --------------------------------------------------------
signed int __fastcall HwcConfig::Init(HwcConfig *this)
{
  return HwcConfig::Init(this);
}

//----- (0000DFB0) --------------------------------------------------------
int __fastcall HwcConfig::GetDisplay(HwcConfig *this, int a2)
{
  return HwcConfig::GetDisplay(this, a2);
}

//----- (0000DFC8) --------------------------------------------------------
_BYTE *__fastcall HwcIdleMgr::HwcIdleMgr(_BYTE *a1, int a2)
{
  return HwcIdleMgr::HwcIdleMgr(a1, a2);
}

//----- (0000DFD4) --------------------------------------------------------
int __fastcall HwcConfig::IsTestMode(HwcConfig *this)
{
  return HwcConfig::IsTestMode(this);
}

//----- (0000DFF8) --------------------------------------------------------
int __fastcall HwcBandwidth::HwcBandwidth(HwcBandwidth *this, int a2, int a3)
{
  return HwcBandwidth::HwcBandwidth((int)this, a2, a3);
}

//----- (0000E004) --------------------------------------------------------
void __fastcall HwcBandwidth::SetBlankDdrRate(HwcBandwidth *this)
{
  HwcBandwidth::SetBlankDdrRate(this);
}

//----- (0000E010) --------------------------------------------------------
HwcBandwidth *__fastcall HwcBandwidth::~HwcBandwidth(HwcBandwidth *this)
{
  return HwcBandwidth::~HwcBandwidth(this);
}

//----- (0000E01C) --------------------------------------------------------
int __fastcall HwcDisplay::Blank(HwcDisplay *this, int a2)
{
  return HwcDisplay::Blank(this, a2);
}

//----- (0000E028) --------------------------------------------------------
HwcConfig *__fastcall HwcDisplay::GetAttributes(HwcDisplay *this, unsigned int a2, const unsigned int *a3, int *a4)
{
  return HwcDisplay::GetAttributes(this, a2, a3, a4);
}

//----- (0000E034) --------------------------------------------------------
signed int __fastcall HwcDisplay::GetConfigs(HwcDisplay *this, unsigned int *a2, unsigned int *a3)
{
  return HwcDisplay::GetConfigs(this, a2, a3);
}

//----- (0000E040) --------------------------------------------------------
signed int __fastcall HwcDisplay::EventControl(HwcDisplay *this, int a2, int a3)
{
  return HwcDisplay::EventControl(this, a2, a3);
}

//----- (0000E04C) --------------------------------------------------------
signed int __fastcall HwcConfig::UpdateDebugSetting(HwcConfig *this)
{
  return HwcConfig::UpdateDebugSetting(this);
}

//----- (0000E058) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000E088) --------------------------------------------------------
int __fastcall HwcTimeConsumeLog(const char *a1, int a2, int a3)
{
  return HwcTimeConsumeLog(a1, a2, a3);
}

//----- (0000E094) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpFrame(HwcConfig *this)
{
  return HwcConfig::NeedDumpFrame(this);
}

//----- (0000E0A0) --------------------------------------------------------
tinyxml2::XMLDocument *__fastcall HwcDumpDisplayContents(HwcConfig *a1, int a2, int a3)
{
  return HwcDumpDisplayContents(a1, a2, a3);
}

//----- (0000E0AC) --------------------------------------------------------
unsigned int **__fastcall HwcCompInfo::UpdateBuffers(HwcCompInfo *this, int a2)
{
  return HwcCompInfo::UpdateBuffers(this, a2);
}

//----- (0000E0D0) --------------------------------------------------------
_DWORD *__fastcall HwcDisplay::SetHardware(HwcDisplay *this, HwcCompInfo *a2)
{
  return HwcDisplay::SetHardware(this, a2);
}

//----- (0000E0DC) --------------------------------------------------------
unsigned int **__fastcall HwcCompInfo::ClearAcquireFences(HwcCompInfo *this, int a2, int a3)
{
  return HwcCompInfo::ClearAcquireFences(this, a2, a3);
}

//----- (0000E0E8) --------------------------------------------------------
int HwcTimeConsumeOutput(void)
{
  return HwcTimeConsumeOutput();
}

//----- (0000E0F4) --------------------------------------------------------
void __fastcall HwcBandwidth::SetIdleDdrRate(HwcBandwidth *this)
{
  HwcBandwidth::SetIdleDdrRate(this);
}

//----- (0000E100) --------------------------------------------------------
signed int __fastcall HwcLayerInfo::IsFormatChange(int a1, int a2, int a3)
{
  return HwcLayerInfo::IsFormatChange(a1, a2, a3);
}

//----- (0000E10C) --------------------------------------------------------
void HwcTimeConsumeBegin(void)
{
  HwcTimeConsumeBegin();
}

//----- (0000E118) --------------------------------------------------------
signed int __fastcall HwcIdleMgr::CheckIdle(int a1, int a2, int a3)
{
  return HwcIdleMgr::CheckIdle(a1, a2, a3);
}

//----- (0000E124) --------------------------------------------------------
void *__fastcall HwcPartialUpdates::HwcPartialUpdates(HwcPartialUpdates *this)
{
  return HwcPartialUpdates::HwcPartialUpdates((void *)this);
}

//----- (0000E130) --------------------------------------------------------
int __fastcall HwcConfig::IsPartialUpdates(HwcConfig *this)
{
  return HwcConfig::IsPartialUpdates(this);
}

//----- (0000E13C) --------------------------------------------------------
int __fastcall HwcPartialUpdates::Init(int a1, int a2, int a3, int a4)
{
  return HwcPartialUpdates::Init(a1, a2, a3, a4);
}

//----- (0000E148) --------------------------------------------------------
unsigned int __fastcall HwcPartialUpdates::UpdateScaledDirtyRegion(int a1, int a2)
{
  return HwcPartialUpdates::UpdateScaledDirtyRegion(a1, a2);
}

//----- (0000E154) --------------------------------------------------------
int __fastcall HwcPartialUpdates::GetDirtyRect(int *a1, int a2)
{
  return HwcPartialUpdates::GetDirtyRect(a1, a2);
}

//----- (0000E160) --------------------------------------------------------
signed int __fastcall is_format_change(int a1, int a2, int a3)
{
  return is_format_change(a1, a2, a3);
}

//----- (0000E16C) --------------------------------------------------------
int __fastcall HwcDisplay::CheckPureLayers(HwcConfig *a1, int a2, int a3)
{
  return HwcDisplay::CheckPureLayers(a1, a2, a3);
}

//----- (0000E178) --------------------------------------------------------
int __fastcall HwcBandwidth::SetBoostDdrRate(HwcBandwidth *this, int a2, int a3)
{
  return HwcBandwidth::SetBoostDdrRate(this, a2, a3);
}

//----- (0000E184) --------------------------------------------------------
int __fastcall HwcBandwidth::ClearBoostDdrRate(HwcBandwidth *this)
{
  return HwcBandwidth::ClearBoostDdrRate(this);
}

//----- (0000E190) --------------------------------------------------------
HwcCompInfo *__fastcall HwcCompInfo::~HwcCompInfo(HwcCompInfo *this)
{
  return HwcCompInfo::~HwcCompInfo(this);
}

//----- (0000E19C) --------------------------------------------------------
int __fastcall HwcCompInfo::HwcCompInfo(int a1, int a2, int a3, int a4)
{
  return HwcCompInfo::HwcCompInfo(a1, a2, a3, a4);
}

//----- (0000E1A8) --------------------------------------------------------
int __fastcall HwcCompInfo::CheckLastComposition(HwcCompInfo *this, const HwcCompInfo *a2)
{
  return HwcCompInfo::CheckLastComposition((int)this, a2);
}

//----- (0000E1B4) --------------------------------------------------------
int __fastcall HwcCompInfo::SetPartialUpdates(HwcCompInfo *this, HwcPartialUpdates *a2)
{
  return HwcCompInfo::SetPartialUpdates(this, a2);
}

//----- (0000E1C0) --------------------------------------------------------
int __fastcall HwcCompInfo::CalcOverlapLayersNum(HwcCompInfo *this)
{
  return HwcCompInfo::CalcOverlapLayersNum(this);
}

//----- (0000E1CC) --------------------------------------------------------
unsigned int **__fastcall HwcCompInfo::CalcLayerMaskRects(HwcCompInfo *this, int a2, int a3)
{
  return HwcCompInfo::CalcLayerMaskRects(this, a2, a3);
}

//----- (0000E1D8) --------------------------------------------------------
_DWORD *__fastcall HwcDisplay::UpdatePureLayerInfo(HwcDisplay *this, const HwcCompInfo *a2, int a3)
{
  return HwcDisplay::UpdatePureLayerInfo(this, a2, a3);
}

//----- (0000E1E4) --------------------------------------------------------
void __fastcall ChannelMgr::RestoreAllChannelsCaps(ChannelMgr *this)
{
  ChannelMgr::RestoreAllChannelsCaps(this);
}

//----- (0000E1F0) --------------------------------------------------------
void __fastcall ChannelMgr::RefresheAllChannelsState(ChannelMgr *this)
{
  ChannelMgr::RefresheAllChannelsState(this);
}

//----- (0000E1FC) --------------------------------------------------------
HwcPureLayerChecker *__fastcall HwcDisplay::ClearPureLayers(HwcDisplay *this)
{
  return HwcDisplay::ClearPureLayers(this);
}

//----- (0000E208) --------------------------------------------------------
int __fastcall HwcCompInfo::PostPrepare(HwcCompInfo *this)
{
  return HwcCompInfo::PostPrepare((int)this);
}

//----- (0000E214) --------------------------------------------------------
int __fastcall HwcLayerInfo::FeedbackCompositionType(HwcLayerInfo *this, int a2, int a3)
{
  return HwcLayerInfo::FeedbackCompositionType((int)this, a2, a3);
}

//----- (0000E220) --------------------------------------------------------
int __fastcall HwcConfig::GetFbMem(HwcConfig *this, int a2)
{
  return HwcConfig::GetFbMem(this, a2);
}

//----- (0000E22C) --------------------------------------------------------
int __fastcall HwcBandwidth::UpdateDelayedDdrRequest(HwcBandwidth *this, int a2, int a3, int a4)
{
  return HwcBandwidth::UpdateDelayedDdrRequest((int)this, a2, a3, a4);
}

//----- (0000E28C) --------------------------------------------------------
int android::Vector<HwcPolicy *>::do_construct()
{
  return android::Vector<HwcPolicy *>::do_construct();
}
// FEB8: using guessed type int android::Vector<HwcPolicy *>::do_construct(void);

//----- (0000E298) --------------------------------------------------------
int __fastcall HwcMem::getBuffer(HwcMem *this)
{
  return HwcMem::getBuffer(this);
}

//----- (0000E2A4) --------------------------------------------------------
int __fastcall HwcMem::setReleaseFence(HwcMem *this, int a2, int a3)
{
  return HwcMem::setReleaseFence(this, a2, a3);
}

//----- (0000E304) --------------------------------------------------------
unsigned int **__fastcall android::sp<HwcLayerInfo>::~sp(unsigned int **a1)
{
  return android::sp<HwcLayerInfo>::~sp(a1);
}

//----- (0000E31C) --------------------------------------------------------
int __fastcall HwcPartialUpdates::ResetFbTargetRect(int a1, int a2)
{
  return HwcPartialUpdates::ResetFbTargetRect(a1, a2);
}

//----- (0000E334) --------------------------------------------------------
int __fastcall HwcPartialUpdates::ResetDirtyRect(HwcPartialUpdates *this)
{
  return HwcPartialUpdates::ResetDirtyRect(this);
}

//----- (0000E340) --------------------------------------------------------
int __fastcall HwcPartialUpdates::UpdateSourceLayer(int a1, int a2)
{
  return HwcPartialUpdates::UpdateSourceLayer(a1, a2);
}

//----- (0000E34C) --------------------------------------------------------
int __fastcall HwcPartialUpdates::UpdateFbTargetLayer(float a1, float a2, int a3, float a4)
{
  return HwcPartialUpdates::UpdateFbTargetLayer(a1, a2, a3, a4);
}

//----- (0000E364) --------------------------------------------------------
_DWORD *__fastcall HwcLayerInfo::HwcLayerInfo(_DWORD *a1, const void *a2, int a3)
{
  return HwcLayerInfo::HwcLayerInfo(a1, a2, a3);
}

//----- (0000E370) --------------------------------------------------------
signed int __fastcall HwcLayerInfo::LayerParameterValid(HwcLayerInfo *this)
{
  return HwcLayerInfo::LayerParameterValid(this);
}

//----- (0000E37C) --------------------------------------------------------
unsigned int **__fastcall android::sp<HwcLayerInfo>::operator=(unsigned int **a1, unsigned int **a2)
{
  return android::sp<HwcLayerInfo>::operator=(a1, a2);
}

//----- (0000E388) --------------------------------------------------------
void *__fastcall HwcLayerInfo::CalcLayerMaskRect(int a1, int a2)
{
  return HwcLayerInfo::CalcLayerMaskRect(a1, a2);
}

//----- (0000E394) --------------------------------------------------------
int __fastcall HwcMem::swap(HwcMem *this, int a2, int a3, int a4)
{
  return HwcMem::swap(this, a2, a3, a4);
}

//----- (0000E3A0) --------------------------------------------------------
HwcConfig *__fastcall HwcLayerInfo::UpdateBuffer(HwcLayerInfo *this, int a2, int a3, int a4)
{
  return HwcLayerInfo::UpdateBuffer(this, a2, a3, a4);
}

//----- (0000E3B8) --------------------------------------------------------
_DWORD *__fastcall android::sp<_hwcAreaInfo>::~sp(_DWORD *a1)
{
  return android::sp<_hwcAreaInfo>::~sp(a1);
}

//----- (0000E3C4) --------------------------------------------------------
int __fastcall android::List<android::sp<_hwcAreaInfo>>::operator=(int a1, int a2)
{
  return android::List<android::sp<_hwcAreaInfo>>::operator=(a1, a2);
}

//----- (0000E3D0) --------------------------------------------------------
HwcDisplay *__fastcall HwcDisplay::~HwcDisplay(HwcDisplay *this)
{
  return HwcDisplay::~HwcDisplay(this);
}

//----- (0000E3DC) --------------------------------------------------------
ChannelMgr *__fastcall ChannelMgr::~ChannelMgr(ChannelMgr *this)
{
  return ChannelMgr::~ChannelMgr(this);
}

//----- (0000E3E8) --------------------------------------------------------
void *__fastcall ChannelMgr::Deinit(ChannelMgr *this)
{
  return ChannelMgr::Deinit(this);
}

//----- (0000E40C) --------------------------------------------------------
int __fastcall ChannelMgr::BanChannel(ChannelMgr *this, int a2)
{
  return ChannelMgr::BanChannel(this, a2);
}

//----- (0000E418) --------------------------------------------------------
int __fastcall ChannelMgr::UnbanChannel(ChannelMgr *this, int a2)
{
  return ChannelMgr::UnbanChannel(this, a2);
}

//----- (0000E430) --------------------------------------------------------
signed int __fastcall IAccelerator::getAccelType(IAccelerator *this)
{
  return IAccelerator::getAccelType(this);
}

//----- (0000E43C) --------------------------------------------------------
void *__fastcall ChannelMgr::Init(unsigned int a1, int a2)
{
  return ChannelMgr::Init(a1, a2);
}

//----- (0000E448) --------------------------------------------------------
int __fastcall ChannelMgr::ChannelMgr(int a1, signed int *a2)
{
  return ChannelMgr::ChannelMgr(a1, a2);
}

//----- (0000E454) --------------------------------------------------------
int __fastcall HwcDisplay::HwcDisplay(int a1, int a2, int a3)
{
  return HwcDisplay::HwcDisplay(a1, a2, a3);
}

//----- (0000E460) --------------------------------------------------------
signed int __fastcall HwcDisplay::Connect(HwcDisplay *this, int a2)
{
  return HwcDisplay::Connect(this, a2);
}

//----- (0000E484) --------------------------------------------------------
_DWORD *__fastcall Hi62xxPlatform::Hi62xxPlatform(Hi62xxPlatform *this)
{
  return Hi62xxPlatform::Hi62xxPlatform(this);
}

//----- (0000E490) --------------------------------------------------------
_DWORD *__fastcall Hi363xPlatform::Hi363xPlatform(Hi363xPlatform *this)
{
  return Hi363xPlatform::Hi363xPlatform(this);
}

//----- (0000E49C) --------------------------------------------------------
int __fastcall Channel::Channel(int result, int a2, int a3, int a4, int a5)
{
  return Channel::Channel(result, a2, a3, a4, a5);
}

//----- (0000E4A8) --------------------------------------------------------
__int64 __fastcall Channel::UintCapsToString(__int64 this, char *a2)
{
  return Channel::UintCapsToString(this, a2);
}

//----- (0000E4C0) --------------------------------------------------------
signed int __fastcall Channel::Request(int a1, int a2, int a3, int a4)
{
  return Channel::Request(a1, a2, a3, a4);
}

//----- (0000E4CC) --------------------------------------------------------
int __fastcall Channel::Reuse(Channel *this)
{
  return Channel::Reuse((int)this);
}

//----- (0000E4D8) --------------------------------------------------------
int __fastcall Channel::Release(Channel *this)
{
  return Channel::Release(this);
}

//----- (0000E4E4) --------------------------------------------------------
int __fastcall Channel::DoReset(Channel *this)
{
  return Channel::DoReset(this);
}

//----- (0000E4F0) --------------------------------------------------------
int __fastcall Channel::DisableCaps(Channel *this, unsigned int a2)
{
  return Channel::DisableCaps((int)this, a2);
}

//----- (0000E4FC) --------------------------------------------------------
int __fastcall Channel::RestoreCaps(Channel *this)
{
  return Channel::RestoreCaps((int)this);
}

//----- (0000E508) --------------------------------------------------------
int __fastcall Channel::RefreshState(Channel *this)
{
  return Channel::RefreshState((int)this);
}

//----- (0000E58C) --------------------------------------------------------
signed int __fastcall HwcPureLayerChecker::Check(int a1, int a2, int a3)
{
  return HwcPureLayerChecker::Check(a1, a2, a3);
}

//----- (0000E598) --------------------------------------------------------
int __fastcall HwcPureLayerChecker::Clear(HwcPureLayerChecker *this)
{
  return HwcPureLayerChecker::Clear(this);
}

//----- (0000E5A4) --------------------------------------------------------
unsigned int **__fastcall HwcPureLayerChecker::UpdateLayerInfo(int a1, int a2)
{
  return HwcPureLayerChecker::UpdateLayerInfo(a1, a2);
}

//----- (0000E5B0) --------------------------------------------------------
unsigned int **__fastcall android::sp<_hwcSubCompInfo>::operator=(unsigned int **a1, unsigned int **a2)
{
  return android::sp<_hwcSubCompInfo>::operator=(a1, a2);
}

//----- (0000E5BC) --------------------------------------------------------
_DWORD *__fastcall android::sp<_hwcSubCompInfo>::~sp(_DWORD *a1)
{
  return android::sp<_hwcSubCompInfo>::~sp(a1);
}

//----- (0000E5C8) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpBlockRot(HwcConfig *this)
{
  return HwcConfig::NeedDumpBlockRot(this);
}

//----- (0000E5D4) --------------------------------------------------------
int __fastcall HwcDumpBin(const HwcLayerInfo *a1, const char *a2)
{
  return HwcDumpBin(a1, a2);
}

//----- (0000E5E0) --------------------------------------------------------
unsigned int **__fastcall android::sp<_hwcAreaInfo>::operator=(unsigned int **a1, unsigned int **a2)
{
  return android::sp<_hwcAreaInfo>::operator=(a1, a2);
}

//----- (0000E5EC) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpWriteback(HwcConfig *this)
{
  return HwcConfig::NeedDumpWriteback(this);
}

//----- (0000E5F8) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpFrameTarget(HwcConfig *this)
{
  return HwcConfig::NeedDumpFrameTarget(this);
}

//----- (0000E610) --------------------------------------------------------
int __fastcall HwcLayerInfo::SetReleaseFenceFd(HwcLayerInfo *this, int a2, int a3)
{
  return HwcLayerInfo::SetReleaseFenceFd(this, a2, a3);
}

//----- (0000E61C) --------------------------------------------------------
void *__fastcall HwcConfig::GetLcdDirtyRegionLimit(HwcConfig *this)
{
  return HwcConfig::GetLcdDirtyRegionLimit(this);
}

//----- (0000E628) --------------------------------------------------------
int __fastcall HwcPartialUpdates::UpdateDirtyRegionLcdLimit(int result, int a2)
{
  return HwcPartialUpdates::UpdateDirtyRegionLcdLimit(result, a2);
}

//----- (0000E64C) --------------------------------------------------------
signed int __fastcall HwcPartialUpdates::ChangeScaledDirtyRegion(int a1, int a2)
{
  return HwcPartialUpdates::ChangeScaledDirtyRegion(a1, a2);
}

//----- (0000E658) --------------------------------------------------------
int __fastcall HwcPartialUpdates::TransformLayerSrcRect(int a1, int a2, int a3)
{
  return HwcPartialUpdates::TransformLayerSrcRect(a1, a2, a3);
}

//----- (0000E664) --------------------------------------------------------
int __fastcall HwcPartialUpdates::RetransformLayerSrcRect(int a1, int a2, int a3)
{
  return HwcPartialUpdates::RetransformLayerSrcRect(a1, a2, a3);
}

//----- (0000E670) --------------------------------------------------------
float __fastcall HwcPartialUpdates::UpdateSourceCrop(float result, float _R1, float a3, float a4)
{
  return HwcPartialUpdates::UpdateSourceCrop(result, _R1, a3, a4);
}

//----- (0000E67C) --------------------------------------------------------
int __fastcall HwcPartialUpdates::UpdateDisplayFrame(int a1, int a2, int a3)
{
  return HwcPartialUpdates::UpdateDisplayFrame(a1, a2, a3);
}

//----- (0000E694) --------------------------------------------------------
int __fastcall HwcConfig::GetPolicyMask(HwcConfig *this)
{
  return HwcConfig::GetPolicyMask(this);
}

//----- (0000E6A0) --------------------------------------------------------
int __fastcall HwcConfig::GetOnlineResouces(HwcConfig *this, int a2, int a3)
{
  return HwcConfig::GetOnlineResouces(this, a2, a3);
}

//----- (0000E6AC) --------------------------------------------------------
int __fastcall Channel::ReRequest(Channel *this, const HwcLayerInfo *a2)
{
  return Channel::ReRequest((int)this, a2);
}

//----- (0000E6B8) --------------------------------------------------------
int __fastcall ChannelMgr::RequestSource(ChannelMgr *this, const HwcLayerInfo *a2)
{
  return ChannelMgr::RequestSource(this, a2);
}

//----- (0000E6C4) --------------------------------------------------------
int __fastcall ChannelMgr::ReuseRequestedChannels(ChannelMgr *this)
{
  return ChannelMgr::ReuseRequestedChannels(this);
}

//----- (0000E6D0) --------------------------------------------------------
HwcConfig *__fastcall HwcBandwidth::ReCalculate(HwcBandwidth *this, const HwcLayerInfo *a2)
{
  return HwcBandwidth::ReCalculate(this, a2);
}

//----- (0000E6DC) --------------------------------------------------------
int __fastcall HwcBandwidth::Request(int a1)
{
  return HwcBandwidth::Request(a1);
}

//----- (0000E6E8) --------------------------------------------------------
void __fastcall HwcCompInfo::ConstructOnlineVirtualLayer(int a1, int a2, int a3, int a4)
{
  HwcCompInfo::ConstructOnlineVirtualLayer(a1, a2, a3, a4);
}

//----- (0000E6F4) --------------------------------------------------------
int __fastcall ChannelMgr::ReleaseRequestedChannels(ChannelMgr *this)
{
  return ChannelMgr::ReleaseRequestedChannels(this);
}

//----- (0000E700) --------------------------------------------------------
signed int __fastcall PrimaryOnlinePolicy::Prepare(PrimaryOnlinePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return PrimaryOnlinePolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E70C) --------------------------------------------------------
int __fastcall OfflinePolicy::CalcComposeRect(int a1, int a2, int a3, int a4)
{
  return OfflinePolicy::CalcComposeRect(a1, a2, a3, a4);
}

//----- (0000E718) --------------------------------------------------------
int __fastcall ChannelMgr::RequestIdleSource(ChannelMgr *this, const HwcLayerInfo *a2)
{
  return ChannelMgr::RequestIdleSource(this, a2);
}

//----- (0000E724) --------------------------------------------------------
int __fastcall HwcConfig::GetOfflineResouces(HwcConfig *this, int a2, int a3)
{
  return HwcConfig::GetOfflineResouces(this, a2, a3);
}

//----- (0000E730) --------------------------------------------------------
int __fastcall OfflinePolicy::CheckNewLayerCanCompose(int a1, ChannelMgr *this, int a3, int a4, int a5, int a6)
{
  return OfflinePolicy::CheckNewLayerCanCompose(a1, this, a3, a4, a5, a6);
}

//----- (0000E73C) --------------------------------------------------------
int __fastcall OfflinePolicy::ConstructTargetLayer(int a1, _DWORD *a2, int a3, int a4)
{
  return OfflinePolicy::ConstructTargetLayer(a1, a2, a3, a4);
}

//----- (0000E748) --------------------------------------------------------
signed int __fastcall CheckHasDimCompose(int a1)
{
  return CheckHasDimCompose(a1);
}

//----- (0000E754) --------------------------------------------------------
int __fastcall HwcLayerInfo::HwcLayerInfo(int a1, int a2)
{
  return HwcLayerInfo::HwcLayerInfo(a1, a2);
}

//----- (0000E760) --------------------------------------------------------
int __fastcall ChannelMgr::RequestWriteback(ChannelMgr *this, const HwcLayerInfo *a2)
{
  return ChannelMgr::RequestWriteback(this, a2);
}

//----- (0000E76C) --------------------------------------------------------
int __fastcall HwcConfig::NeedCompleteOneTime(HwcConfig *this)
{
  return HwcConfig::NeedCompleteOneTime(this);
}

//----- (0000E778) --------------------------------------------------------
int __fastcall OfflinePolicy::Prepare(OfflinePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return OfflinePolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E784) --------------------------------------------------------
int __fastcall GpuComposePolicy::Prepare(GpuComposePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return GpuComposePolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E790) --------------------------------------------------------
int __fastcall IdleGpuComposePolicy::Prepare(IdleGpuComposePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return IdleGpuComposePolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E79C) --------------------------------------------------------
int __fastcall VirtualDisplayPolicy::Prepare(VirtualDisplayPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return VirtualDisplayPolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E7A8) --------------------------------------------------------
int __fastcall VirtualDisplaySkipPolicy::Prepare(VirtualDisplaySkipPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return VirtualDisplaySkipPolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E7B4) --------------------------------------------------------
unsigned int **__fastcall HwcCompInfo::ResetPartialUpdates(HwcCompInfo *this)
{
  return HwcCompInfo::ResetPartialUpdates(this);
}

//----- (0000E7C0) --------------------------------------------------------
int __fastcall PartialUpdatesResetPolicy::Prepare(PartialUpdatesResetPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return PartialUpdatesResetPolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E7CC) --------------------------------------------------------
signed int __fastcall CapaProvider::request(CapaProvider *this, const HwcLayerInfo *a2, int a3)
{
  return CapaProvider::request(this, a2, a3);
}

//----- (0000E7D8) --------------------------------------------------------
int __fastcall CapaProvider::release(CapaProvider *this, const HwcLayerInfo *a2)
{
  return CapaProvider::release((int)this, a2);
}

//----- (0000E7E4) --------------------------------------------------------
signed int __fastcall CapaProvider::set(CapaProvider *this, const HwcLayerInfo *a2)
{
  return CapaProvider::set(this, a2);
}

//----- (0000E7F0) --------------------------------------------------------
int __fastcall CapaProvider::reset(CapaProvider *this)
{
  return CapaProvider::reset((int)this);
}

//----- (0000E7FC) --------------------------------------------------------
signed int __fastcall Segmenter::CalcAreasByIndex(int a1, unsigned int a2, unsigned int a3, int a4, int a5, int a6, int a7)
{
  return Segmenter::CalcAreasByIndex(a1, a2, a3, a4, a5, a6, a7);
}

//----- (0000E820) --------------------------------------------------------
int __fastcall HwcLayerInfo::IsSame(int a1, int a2)
{
  return HwcLayerInfo::IsSame(a1, a2);
}

//----- (0000E850) --------------------------------------------------------
int __fastcall IdlePolicy::Prepare(IdlePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return IdlePolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E85C) --------------------------------------------------------
signed int __fastcall HwcConfig::GetRotMemNum(HwcConfig *this)
{
  return HwcConfig::GetRotMemNum(this);
}

//----- (0000E868) --------------------------------------------------------
int __fastcall HwcConfig::GetRotMem(HwcConfig *this, int a2, int a3, int a4)
{
  return HwcConfig::GetRotMem(this, a2, a3, a4);
}

//----- (0000E874) --------------------------------------------------------
signed int __fastcall HwcMem::configBuffer(HwcMem *this, int a2, int a3, int a4)
{
  return HwcMem::configBuffer(this, a2, a3, a4);
}

//----- (0000E880) --------------------------------------------------------
int __fastcall BlockRotPolicy::Prepare(BlockRotPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return BlockRotPolicy::Prepare(this, a2, a3, a4);
}

//----- (0000E88C) --------------------------------------------------------
int __fastcall HwcBandwidth::InitSegment(int a1, int a2, int a3)
{
  return HwcBandwidth::InitSegment(a1, a2, a3);
}

//----- (0000E8A4) --------------------------------------------------------
HwcConfig *__fastcall HwcBandwidth::RequestDdrSatisfy(HwcBandwidth *this, unsigned int a2)
{
  return HwcBandwidth::RequestDdrSatisfy(this, a2);
}

//----- (0000E8B0) --------------------------------------------------------
void __fastcall HwcBandwidth::ReleaseRequest(HwcBandwidth *this)
{
  HwcBandwidth::ReleaseRequest(this);
}

//----- (0000E8E0) --------------------------------------------------------
int *__fastcall tinyxml2::XMLElement::FindOrCreateAttribute(tinyxml2::XMLElement *this, const char *a2)
{
  return tinyxml2::XMLElement::FindOrCreateAttribute(this, a2);
}

//----- (0000E8EC) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2)
{
  return tinyxml2::XMLAttribute::SetAttribute(this, a2);
}

//----- (0000E8F8) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, unsigned int a2)
{
  return tinyxml2::XMLAttribute::SetAttribute(this, a2);
}

//----- (0000E910) --------------------------------------------------------
signed int __fastcall WriteBitmap(const char *a1, const void *a2, unsigned int a3, unsigned int a4, unsigned int a5, int a6)
{
  return WriteBitmap(a1, a2, a3, a4, a5, a6);
}

//----- (0000E91C) --------------------------------------------------------
int __fastcall HwcConfig::IsTimeConsumingLogEnabled(HwcConfig *this)
{
  return HwcConfig::IsTimeConsumingLogEnabled(this);
}

//----- (0000E940) --------------------------------------------------------
int __fastcall HwcConfig::IsHwcDumpEnabled(HwcConfig *this)
{
  return HwcConfig::IsHwcDumpEnabled(this);
}

//----- (0000E94C) --------------------------------------------------------
signed int HwcCreateDumpDir(void)
{
  return HwcCreateDumpDir();
}

//----- (0000E994) --------------------------------------------------------
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::XMLDocument(tinyxml2::XMLDocument *this, bool a2)
{
  return tinyxml2::XMLDocument::XMLDocument(this, a2);
}

//----- (0000E9A0) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewElement(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::NewElement(this, a2);
}

//----- (0000E9AC) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, const char *a2)
{
  return tinyxml2::XMLAttribute::SetAttribute(this, a2);
}

//----- (0000E9B8) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::InsertEndChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2)
{
  return tinyxml2::XMLNode::InsertEndChild(this, a2);
}

//----- (0000E9C4) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2, double a3)
{
  return tinyxml2::XMLAttribute::SetAttribute(this, a2, a3);
}

//----- (0000E9D0) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::FirstChildElement(tinyxml2::XMLNode *this, const char *a2)
{
  return tinyxml2::XMLNode::FirstChildElement(this, a2);
}

//----- (0000E9DC) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::Attribute(tinyxml2::XMLElement *this, const char *a2, const char *a3)
{
  return tinyxml2::XMLElement::Attribute(this, a2, a3);
}

//----- (0000EA18) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::SaveFile(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::SaveFile(this, a2);
}

//----- (0000EA24) --------------------------------------------------------
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::~XMLDocument(tinyxml2::XMLDocument *this)
{
  return tinyxml2::XMLDocument::~XMLDocument(this);
}

//----- (0000EA30) --------------------------------------------------------
int __fastcall HwcDisplay::GetPureLayers(HwcDisplay *this, int a2)
{
  return HwcDisplay::GetPureLayers(this, a2);
}

//----- (0000EA3C) --------------------------------------------------------
unsigned int __fastcall PureLayerPolicy::IsAlphaLayer(int a1, unsigned int *a2)
{
  return PureLayerPolicy::IsAlphaLayer(a1, a2);
}

//----- (0000EA48) --------------------------------------------------------
void __fastcall PureLayerPolicy::removePureLayer(HwcConfig *a1, int a2, HwcConfig **a3)
{
  PureLayerPolicy::removePureLayer(a1, a2, a3);
}

//----- (0000EA54) --------------------------------------------------------
int __fastcall PureLayerPolicy::Prepare(PureLayerPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return PureLayerPolicy::Prepare(this, a2, a3, a4);
}

//----- (0000EA60) --------------------------------------------------------
int __fastcall CapaProvider::CapaProvider(int result)
{
  return CapaProvider::CapaProvider(result);
}

//----- (0000EA78) --------------------------------------------------------
int __fastcall CapaProvider::CapaProvider(int result)
{
  return CapaProvider::CapaProvider(result);
}

//----- (0000EA84) --------------------------------------------------------
signed int __fastcall Hi62xxRot::request(Hi62xxRot *this, const HwcLayerInfo *a2, int a3)
{
  return Hi62xxRot::request(this, a2, a3);
}

//----- (0000EA90) --------------------------------------------------------
int __fastcall Hi62xxRot::release(Hi62xxRot *this, const HwcLayerInfo *a2)
{
  return Hi62xxRot::release(this, a2);
}

//----- (0000EA9C) --------------------------------------------------------
signed int __fastcall Hi62xxScl3::request(Hi62xxScl3 *this, const HwcLayerInfo *a2, int a3)
{
  return Hi62xxScl3::request(this, a2, a3);
}

//----- (0000EAA8) --------------------------------------------------------
signed int __fastcall Hi62xxScl2::request(Hi62xxScl2 *this, const HwcLayerInfo *_R1, int a3)
{
  return Hi62xxScl2::request(this, _R1, a3);
}

//----- (0000EAC0) --------------------------------------------------------
Hi62xxPlatform *__fastcall Hi62xxPlatform::~Hi62xxPlatform(Hi62xxPlatform *this)
{
  return Hi62xxPlatform::~Hi62xxPlatform(this);
}

//----- (0000EB20) --------------------------------------------------------
_DWORD *__fastcall Hi62xxCommon::Hi62xxCommon(Hi62xxCommon *this)
{
  return Hi62xxCommon::Hi62xxCommon(this);
}

//----- (0000EB2C) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::Hi62xxAccelerator(int result, int a2)
{
  return Hi62xxAccelerator::Hi62xxAccelerator(result, a2);
}

//----- (0000EB38) --------------------------------------------------------
int __fastcall Hi62xxOverlay::Hi62xxOverlay(Hi62xxOverlay *this, Hi62xxCommon *a2)
{
  return Hi62xxOverlay::Hi62xxOverlay((int)this, (int)a2);
}

//----- (0000EB44) --------------------------------------------------------
int __fastcall Hi62xxComposer::Hi62xxComposer(Hi62xxComposer *this, Hi62xxCommon *a2)
{
  return Hi62xxComposer::Hi62xxComposer((int)this, (int)a2);
}

//----- (0000EB50) --------------------------------------------------------
int __fastcall Hi62XXPerf::Hi62XXPerf(Hi62XXPerf *this, Hi62xxCommon *a2)
{
  return Hi62XXPerf::Hi62XXPerf((int)this, (int)a2);
}

//----- (0000EB5C) --------------------------------------------------------
int __fastcall Segmenter::Segmenter(Segmenter *this, bool a2)
{
  return Segmenter::Segmenter((int)this, a2);
}

//----- (0000EB74) --------------------------------------------------------
signed int __fastcall Hi62xxPlatform::isAdeFormat(Hi62xxPlatform *this, unsigned int a2)
{
  return Hi62xxPlatform::isAdeFormat(this, a2);
}

//----- (0000EB80) --------------------------------------------------------
int __fastcall Hi62xxRot::updateSharedMemory(Hi62xxRot *this, int a2)
{
  return Hi62xxRot::updateSharedMemory((int)this, a2);
}

//----- (0000EB8C) --------------------------------------------------------
Channel *__fastcall ChannelMgr::DisableChannelCaps(ChannelMgr *this, int a2, unsigned int a3)
{
  return ChannelMgr::DisableChannelCaps(this, a2, a3);
}

//----- (0000EB98) --------------------------------------------------------
unsigned int **__fastcall android::sp<HwcLayerInfo>::sp(unsigned int **result, unsigned int **a2)
{
  return android::sp<HwcLayerInfo>::sp(result, a2);
}

//----- (0000EBA4) --------------------------------------------------------
signed int __fastcall Hi62xxPlatform::formatCanHandle(Hi62xxPlatform *a1, int a2)
{
  return Hi62xxPlatform::formatCanHandle(a1, a2);
}

//----- (0000EBB0) --------------------------------------------------------
signed int __fastcall Hi62xxPlatform::scfCanHandle(int a1, int *a2, _BYTE *a3)
{
  return Hi62xxPlatform::scfCanHandle(a1, a2, a3);
}

//----- (0000EBBC) --------------------------------------------------------
signed int __fastcall Hi62xxPlatform::rotScfCanHandle(int a1, int *a2, int a3)
{
  return Hi62xxPlatform::rotScfCanHandle(a1, a2, a3);
}

//----- (0000EBC8) --------------------------------------------------------
int __fastcall HwcLayerInfo::IsAlphaLayer(HwcLayerInfo *this)
{
  return HwcLayerInfo::IsAlphaLayer(this);
}

//----- (0000EBD4) --------------------------------------------------------
int __fastcall GpuComposePolicy::GpuComposePolicy(int result, int a2)
{
  return GpuComposePolicy::GpuComposePolicy(result, a2);
}

//----- (0000EBE0) --------------------------------------------------------
int __fastcall PrimaryOnlinePolicy::PrimaryOnlinePolicy(int result, int a2)
{
  return PrimaryOnlinePolicy::PrimaryOnlinePolicy(result, a2);
}

//----- (0000EBEC) --------------------------------------------------------
int __fastcall OfflinePolicy::OfflinePolicy(int result, int a2)
{
  return OfflinePolicy::OfflinePolicy(result, a2);
}

//----- (0000EBF8) --------------------------------------------------------
int __fastcall IdlePolicy::IdlePolicy(int result, int a2)
{
  return IdlePolicy::IdlePolicy(result, a2);
}

//----- (0000EC04) --------------------------------------------------------
int __fastcall PartialUpdatesResetPolicy::PartialUpdatesResetPolicy(int result, int a2)
{
  return PartialUpdatesResetPolicy::PartialUpdatesResetPolicy(result, a2);
}

//----- (0000EC10) --------------------------------------------------------
int __fastcall BlockRotPolicy::BlockRotPolicy(int result, int a2)
{
  return BlockRotPolicy::BlockRotPolicy(result, a2);
}

//----- (0000EC1C) --------------------------------------------------------
int __fastcall GpuComposePolicy::GpuComposePolicy(int result, int a2)
{
  return GpuComposePolicy::GpuComposePolicy(result, a2);
}

//----- (0000EC28) --------------------------------------------------------
int __fastcall VirtualDisplayPolicy::VirtualDisplayPolicy(int result, int a2)
{
  return VirtualDisplayPolicy::VirtualDisplayPolicy(result, a2);
}

//----- (0000EC34) --------------------------------------------------------
int __fastcall VirtualDisplaySkipPolicy::VirtualDisplaySkipPolicy(int result, int a2)
{
  return VirtualDisplaySkipPolicy::VirtualDisplaySkipPolicy(result, a2);
}

//----- (0000EC40) --------------------------------------------------------
int android::Vector<HwcPolicy *>::do_construct()
{
  return android::Vector<HwcPolicy *>::do_construct();
}
// FEB8: using guessed type int android::Vector<HwcPolicy *>::do_construct(void);

//----- (0000EC4C) --------------------------------------------------------
int android::Vector<HwcPolicy *>::do_construct()
{
  return android::Vector<HwcPolicy *>::do_construct();
}
// FEB8: using guessed type int android::Vector<HwcPolicy *>::do_construct(void);

//----- (0000EC58) --------------------------------------------------------
void *__fastcall android::Vector<HwcPolicy *>::do_copy(int a1, void *a2, const void *a3, int a4)
{
  return android::Vector<HwcPolicy *>::do_copy(a1, a2, a3, a4);
}

//----- (0000EC64) --------------------------------------------------------
void __fastcall android::Vector<HwcPolicy *>::do_splat(int a1, _DWORD *a2, _DWORD *a3, int a4)
{
  android::Vector<HwcPolicy *>::do_splat(a1, a2, a3, a4);
}

//----- (0000EC70) --------------------------------------------------------
void *__fastcall android::Vector<HwcPolicy *>::do_move_backward(int a1, void *a2, const void *a3, int a4)
{
  return android::Vector<HwcPolicy *>::do_move_backward(a1, a2, a3, a4);
}

//----- (0000EC7C) --------------------------------------------------------
void *__fastcall android::Vector<HwcPolicy *>::do_move_backward(int a1, void *a2, const void *a3, int a4)
{
  return android::Vector<HwcPolicy *>::do_move_backward(a1, a2, a3, a4);
}

//----- (0000EC88) --------------------------------------------------------
Hi62xxPlatform *__fastcall Hi62xxPlatform::~Hi62xxPlatform(Hi62xxPlatform *this)
{
  return Hi62xxPlatform::~Hi62xxPlatform(this);
}

//----- (0000EC94) --------------------------------------------------------
void __fastcall Hi62xxPlatform::preprocess(Hi62xxPlatform *this, HwcCompInfo *a2)
{
  Hi62xxPlatform::preprocess(this, a2);
}

//----- (0000ECA0) --------------------------------------------------------
int __fastcall Hi62xxPlatform::handleEvent(int a1, int a2, int a3, char *s, int a5)
{
  return Hi62xxPlatform::handleEvent(a1, a2, a3, s, a5);
}

//----- (0000ECAC) --------------------------------------------------------
Hi62xxCommon *__fastcall Hi62xxCommon::~Hi62xxCommon(Hi62xxCommon *this)
{
  return Hi62xxCommon::~Hi62xxCommon(this);
}

//----- (0000ECB8) --------------------------------------------------------
int __fastcall Hi62xxCommon::setRectsInternal(float a1, float _R1, float _R2, int _R3, int a5, int a6, int a7)
{
  return Hi62xxCommon::setRectsInternal(a1, _R1, _R2, _R3, a5, a6, a7);
}

//----- (0000ECC4) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setScaleFactor(HwcConfig *a1, int _R1, int a3)
{
  return Hi62xxCommon::setScaleFactor(a1, _R1, a3);
}

//----- (0000ECD0) --------------------------------------------------------
int __fastcall Hi62xxCommon::setRects(float a1, float a2, float a3, int a4)
{
  return Hi62xxCommon::setRects(a1, a2, a3, a4);
}

//----- (0000ECDC) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setRegionInfo(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  return Hi62xxCommon::setRegionInfo(a1, a2, a3, a4, a5, a6, a7, a8, a9);
}

//----- (0000ECE8) --------------------------------------------------------
Hi62xxCommon *__fastcall Hi62xxCommon::~Hi62xxCommon(Hi62xxCommon *this)
{
  return Hi62xxCommon::~Hi62xxCommon(this);
}

//----- (0000ECF4) --------------------------------------------------------
int __fastcall Hi62xxCommon::commit(int a1, int a2, int a3)
{
  return Hi62xxCommon::commit(a1, a2, a3);
}

//----- (0000ED00) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::commit(int a1, int a2, HwcConfig **a3)
{
  return Hi62xxCommon::commit(a1, a2, a3);
}

//----- (0000ED0C) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::detectLayers(HwcConfig *a1, int a2, int a3, int a4)
{
  return Hi62xxCommon::detectLayers(a1, a2, a3, a4);
}

//----- (0000ED18) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::calculateSrcRect(HwcConfig *a1, int _R1, int a3, int a4, int a5)
{
  return Hi62xxCommon::calculateSrcRect(a1, _R1, a3, a4, a5);
}

//----- (0000ED24) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setNormalRegion(HwcConfig *a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  return Hi62xxCommon::setNormalRegion(a1, a2, a3, a4, a5, a6, a7);
}

//----- (0000ED30) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setOverlayLayerInfo(int a1, int a2)
{
  return Hi62xxCommon::setOverlayLayerInfo(a1, a2);
}

//----- (0000ED3C) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setReadBackRegion(HwcConfig *a1, int a2, int a3, int a4, int a5)
{
  return Hi62xxCommon::setReadBackRegion(a1, a2, a3, a4, a5);
}

//----- (0000ED48) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::waitAllAcquireFenceFd(HwcConfig *a1, int a2, int a3)
{
  return Hi62xxCommon::waitAllAcquireFenceFd(a1, a2, a3);
}

//----- (0000ED54) --------------------------------------------------------
int __fastcall Hi62xxCommon::waitSingleAcquireFenceFd(Hi62xxCommon *this, int a2)
{
  return Hi62xxCommon::waitSingleAcquireFenceFd((int)this, a2);
}

//----- (0000ED60) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::enableVsync(Hi62xxCommon *this, int a2, int a3, int a4)
{
  return Hi62xxCommon::enableVsync(this, a2, a3, a4);
}

//----- (0000ED6C) --------------------------------------------------------
int __fastcall Hi62xxCommon::isPartialUpdatesEnabled(Hi62xxCommon *this)
{
  return Hi62xxCommon::isPartialUpdatesEnabled(this);
}

//----- (0000ED78) --------------------------------------------------------
int __fastcall Hi62xxCommon::isCmdPanel(Hi62xxCommon *this)
{
  return Hi62xxCommon::isCmdPanel(this);
}

//----- (0000ED84) --------------------------------------------------------
HwcConfig *__fastcall Hi62xxCommon::setTopResource(int a1, int a2)
{
  return Hi62xxCommon::setTopResource(a1, a2);
}

//----- (0000ED90) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::updateDirtyRegion(int a1, int a2)
{
  return Hi62xxCommon::updateDirtyRegion(a1, a2);
}

//----- (0000ED9C) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::panDisplay(Hi62xxCommon *this, int a2)
{
  return Hi62xxCommon::panDisplay(this, a2);
}

//----- (0000EDA8) --------------------------------------------------------
HwcConfig *__fastcall Hi62xxCommon::setClockRate(int a1, int a2, int a3)
{
  return Hi62xxCommon::setClockRate(a1, a2, a3);
}

//----- (0000EDB4) --------------------------------------------------------
int __fastcall Hi62xxCommon::modifyRectByDirtyRect(int a1, int a2)
{
  return Hi62xxCommon::modifyRectByDirtyRect(a1, a2);
}

//----- (0000EDC0) --------------------------------------------------------
int __fastcall Hi62xxCommon::intersectWithDirtyRect(HwcConfig *a1, int a2)
{
  return Hi62xxCommon::intersectWithDirtyRect(a1, a2);
}

//----- (0000EDCC) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::enableVirtDisp(Hi62xxCommon *this, int a2, int a3, int a4)
{
  return Hi62xxCommon::enableVirtDisp(this, a2, a3, a4);
}

//----- (0000EDD8) --------------------------------------------------------
int android::Vector<HwcPolicy *>::do_construct()
{
  return android::Vector<HwcPolicy *>::do_construct();
}
// FEB8: using guessed type int android::Vector<HwcPolicy *>::do_construct(void);

//----- (0000EDE4) --------------------------------------------------------
void *__fastcall Hi62xxComposer::resetSelf(Hi62xxComposer *this)
{
  return Hi62xxComposer::resetSelf(this);
}

//----- (0000EDF0) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpVirtualDisplay(HwcConfig *this)
{
  return HwcConfig::NeedDumpVirtualDisplay(this);
}

//----- (0000EDFC) --------------------------------------------------------
int __fastcall HwcDumpHandle(HwcConfig *a1, int a2)
{
  return HwcDumpHandle(a1, a2);
}

//----- (0000EE08) --------------------------------------------------------
signed int __fastcall HwcLayerInfo::GetAcquireFenceFd(HwcLayerInfo *this)
{
  return HwcLayerInfo::GetAcquireFenceFd(this);
}

//----- (0000EE14) --------------------------------------------------------
signed int __fastcall Hi62xxComposer::setBlkRotLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return Hi62xxComposer::setBlkRotLayer(this, a2, a3);
}

//----- (0000EE20) --------------------------------------------------------
signed int __fastcall Hi62xxComposer::setWfdLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return Hi62xxComposer::setWfdLayer(this, a2, a3);
}

//----- (0000EE2C) --------------------------------------------------------
Hi62xxComposer *__fastcall Hi62xxComposer::~Hi62xxComposer(Hi62xxComposer *this)
{
  return Hi62xxComposer::~Hi62xxComposer(this);
}

//----- (0000EE38) --------------------------------------------------------
int __fastcall Hi62xxComposer::setSource(Hi62xxComposer *this, int a2, int a3)
{
  return Hi62xxComposer::setSource(this, a2, a3);
}

//----- (0000EE44) --------------------------------------------------------
signed int __fastcall Hi62xxComposer::Compose(HwcConfig *a1, int a2, int a3, int a4)
{
  return Hi62xxComposer::Compose(a1, a2, a3, a4);
}

//----- (0000EE50) --------------------------------------------------------
signed int __fastcall Hi62xxComposer::convertLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return Hi62xxComposer::convertLayer(this, a2, a3);
}

//----- (0000EE5C) --------------------------------------------------------
int android::Vector<HwcPolicy *>::do_construct()
{
  return android::Vector<HwcPolicy *>::do_construct();
}
// FEB8: using guessed type int android::Vector<HwcPolicy *>::do_construct(void);

//----- (0000EE68) --------------------------------------------------------
void *__fastcall Hi62xxOverlay::resetSelf(Hi62xxOverlay *this)
{
  return Hi62xxOverlay::resetSelf(this);
}

//----- (0000EE74) --------------------------------------------------------
Hi62xxOverlay *__fastcall Hi62xxOverlay::~Hi62xxOverlay(Hi62xxOverlay *this)
{
  return Hi62xxOverlay::~Hi62xxOverlay(this);
}

//----- (0000EE80) --------------------------------------------------------
int __fastcall Hi62xxOverlay::setSource(Hi62xxOverlay *this, int a2, int a3)
{
  return Hi62xxOverlay::setSource(this, a2, a3);
}

//----- (0000EE8C) --------------------------------------------------------
int __fastcall Hi62xxOverlay::finishOneArea(Hi62xxOverlay *this, int a2, int a3)
{
  return Hi62xxOverlay::finishOneArea(this, a2, a3);
}

//----- (0000EE98) --------------------------------------------------------
int __fastcall Hi62xxOverlay::play(Hi62xxOverlay *this, int a2, int a3)
{
  return Hi62xxOverlay::play(this, a2, a3);
}

//----- (0000EEA4) --------------------------------------------------------
int android::Vector<HwcPolicy *>::do_construct()
{
  return android::Vector<HwcPolicy *>::do_construct();
}
// FEB8: using guessed type int android::Vector<HwcPolicy *>::do_construct(void);

//----- (0000EEC8) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::setOfflineResource(int a1, int a2, int a3, int a4)
{
  return Hi62xxAccelerator::setOfflineResource(a1, a2, a3, a4);
}

//----- (0000EED4) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::setOnlineResource(int a1, int a2, int a3, unsigned int a4)
{
  return Hi62xxAccelerator::setOnlineResource(a1, a2, a3, a4);
}

//----- (0000EEE0) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::setGpuResource(int a1, int a2)
{
  return Hi62xxAccelerator::setGpuResource(a1, a2);
}

//----- (0000EEEC) --------------------------------------------------------
Hi62xxAccelerator *__fastcall Hi62xxAccelerator::~Hi62xxAccelerator(Hi62xxAccelerator *this)
{
  return Hi62xxAccelerator::~Hi62xxAccelerator(this);
}

//----- (0000EEF8) --------------------------------------------------------
HwcConfig *__fastcall Hi62xxAccelerator::setGlobal(Hi62xxAccelerator *this, const HwcCompInfo *a2)
{
  return Hi62xxAccelerator::setGlobal(this, a2);
}

//----- (0000EF04) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::enableVsync(Hi62xxAccelerator *this, bool a2)
{
  return Hi62xxAccelerator::enableVsync(this, a2);
}

//----- (0000EF10) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::getEvent(Hi62xxAccelerator *this, int *a2, void *a3, int *a4)
{
  return Hi62xxAccelerator::getEvent(this, a2, a3, a4);
}

//----- (0000EF1C) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000EF28) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::isPartialUpdatesEnabled(Hi62xxAccelerator *this)
{
  return Hi62xxAccelerator::isPartialUpdatesEnabled(this);
}

//----- (0000EF34) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::isCmdPanel(Hi62xxAccelerator *this)
{
  return Hi62xxAccelerator::isCmdPanel(this);
}

//----- (0000EF40) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::setVirtualDisplayInfo(int a1, int a2, int a3)
{
  return Hi62xxAccelerator::setVirtualDisplayInfo(a1, a2, a3);
}

//----- (0000EF4C) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::enableVirtualDisp(Hi62xxAccelerator *this, bool a2)
{
  return Hi62xxAccelerator::enableVirtualDisp(this, a2);
}

//----- (0000EF58) --------------------------------------------------------
Hi62XXPerf *__fastcall Hi62XXPerf::~Hi62XXPerf(Hi62XXPerf *this)
{
  return Hi62XXPerf::~Hi62XXPerf(this);
}

//----- (0000EF7C) --------------------------------------------------------
int __fastcall HwcConfig::needAdjustAcceClock(HwcConfig *this)
{
  return HwcConfig::needAdjustAcceClock(this);
}

//----- (0000EF88) --------------------------------------------------------
Hi62XXPerf *__fastcall Hi62XXPerf::~Hi62XXPerf(Hi62XXPerf *this)
{
  return Hi62XXPerf::~Hi62XXPerf(this);
}

//----- (0000EF94) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::setDdrRate(Hi62XXPerf *this, unsigned int a2)
{
  return Hi62XXPerf::setDdrRate(this, a2);
}

//----- (0000EFA0) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::getCurrentDdrRate(Hi62XXPerf *this, unsigned int *a2)
{
  return Hi62XXPerf::getCurrentDdrRate(this, a2);
}

//----- (0000EFAC) --------------------------------------------------------
int __fastcall Hi62XXPerf::setGpuBoost(Hi62XXPerf *this, int a2)
{
  return Hi62XXPerf::setGpuBoost(this, a2);
}

//----- (0000EFB8) --------------------------------------------------------
int android::Vector<HwcPolicy *>::do_construct()
{
  return android::Vector<HwcPolicy *>::do_construct();
}
// FEB8: using guessed type int android::Vector<HwcPolicy *>::do_construct(void);

//----- (0000EFC4) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::setClockRate(Hi62XXPerf *this, unsigned int a2)
{
  return Hi62XXPerf::setClockRate(this, a2);
}

//----- (0000EFD0) --------------------------------------------------------
int __fastcall Hi62XXPerf::calcLayerBw(Hi62XXPerf *this, const HwcLayerInfo *_R1)
{
  return Hi62XXPerf::calcLayerBw(this, _R1);
}

//----- (0000EFDC) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::calcClockRate(Hi62XXPerf *this, const HwcLayerInfo *_R1)
{
  return Hi62XXPerf::calcClockRate(this, _R1);
}

//----- (0000EFE8) --------------------------------------------------------
unsigned int __fastcall Hi62XXPerf::totalBwToDdrRate(Hi62XXPerf *this, float _R1)
{
  return Hi62XXPerf::totalBwToDdrRate(this, _R1);
}

//----- (0000EFF4) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::getMaxClockRate(Hi62XXPerf *this)
{
  return Hi62XXPerf::getMaxClockRate(this);
}

//----- (0000F000) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::getBoostDdrRate(Hi62XXPerf *this)
{
  return Hi62XXPerf::getBoostDdrRate(this);
}

//----- (0000F00C) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F018) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F024) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F030) --------------------------------------------------------
HwcPureLayerChecker *__fastcall HwcPureLayerChecker::~HwcPureLayerChecker(HwcPureLayerChecker *this)
{
  return HwcPureLayerChecker::~HwcPureLayerChecker(this);
}

//----- (0000F03C) --------------------------------------------------------
Hi363xPlatform *__fastcall Hi363xPlatform::~Hi363xPlatform(Hi363xPlatform *this)
{
  return Hi363xPlatform::~Hi363xPlatform(this);
}

//----- (0000F054) --------------------------------------------------------
_DWORD *__fastcall Hi363xAccelerator::Hi363xAccelerator(Hi363xAccelerator *this)
{
  return Hi363xAccelerator::Hi363xAccelerator(this);
}

//----- (0000F060) --------------------------------------------------------
int __fastcall Hi363xOverlay::Hi363xOverlay(Hi363xOverlay *this, const char *a2)
{
  return Hi363xOverlay::Hi363xOverlay((int)this, a2);
}

//----- (0000F06C) --------------------------------------------------------
int __fastcall Hi363xComposer::Hi363xComposer(Hi363xComposer *this, const char *a2)
{
  return Hi363xComposer::Hi363xComposer((int)this, a2);
}

//----- (0000F078) --------------------------------------------------------
int __fastcall Hi363xPerf::Hi363xPerf(Hi363xPerf *this, int a2)
{
  return Hi363xPerf::Hi363xPerf((int)this, a2);
}

//----- (0000F084) --------------------------------------------------------
_DWORD *__fastcall HwcPureLayerChecker::HwcPureLayerChecker(_DWORD *a1)
{
  return HwcPureLayerChecker::HwcPureLayerChecker(a1);
}

//----- (0000F090) --------------------------------------------------------
signed int __fastcall Hi363xPlatform::ScfCanHandle(int a1, int *a2)
{
  return Hi363xPlatform::ScfCanHandle(a1, a2);
}

//----- (0000F09C) --------------------------------------------------------
signed int __fastcall Hi363xPlatform::FormatCanHandle(int a1, int a2)
{
  return Hi363xPlatform::FormatCanHandle(a1, a2);
}

//----- (0000F0A8) --------------------------------------------------------
signed int __fastcall Hi363xPlatform::StrideCanHandle(int a1, int a2)
{
  return Hi363xPlatform::StrideCanHandle(a1, a2);
}

//----- (0000F0B4) --------------------------------------------------------
signed int __fastcall Hi363xPlatform::BlockAlgorithmCanHandle(int a1, int a2, int a3)
{
  return Hi363xPlatform::BlockAlgorithmCanHandle(a1, a2, a3);
}

//----- (0000F0C0) --------------------------------------------------------
int __fastcall PureLayerPolicy::PureLayerPolicy(int result, int a2)
{
  return PureLayerPolicy::PureLayerPolicy(result, a2);
}

//----- (0000F0CC) --------------------------------------------------------
int __fastcall IdleBoostPolicy::IdleBoostPolicy(IdleBoostPolicy *this, unsigned int a2)
{
  return IdleBoostPolicy::IdleBoostPolicy((int)this, a2);
}

//----- (0000F0D8) --------------------------------------------------------
int __fastcall VirtualDisplayGpuPolicy::VirtualDisplayGpuPolicy(VirtualDisplayGpuPolicy *this, unsigned int a2)
{
  return VirtualDisplayGpuPolicy::VirtualDisplayGpuPolicy((int)this, a2);
}

//----- (0000F0E4) --------------------------------------------------------
Hi363xPlatform *__fastcall Hi363xPlatform::~Hi363xPlatform(Hi363xPlatform *this)
{
  return Hi363xPlatform::~Hi363xPlatform(this);
}

//----- (0000F0F0) --------------------------------------------------------
unsigned int **__fastcall Hi363xPlatform::preprocess(Hi363xPlatform *this, HwcCompInfo *a2)
{
  return Hi363xPlatform::preprocess(this, a2);
}

//----- (0000F0FC) --------------------------------------------------------
int __fastcall Hi363xPlatform::handleEvent(int a1, int a2, int a3, const char *a4)
{
  return Hi363xPlatform::handleEvent(a1, a2, a3, a4);
}

//----- (0000F108) --------------------------------------------------------
Hi363xComposer *__fastcall Hi363xComposer::~Hi363xComposer(Hi363xComposer *this)
{
  return Hi363xComposer::~Hi363xComposer(this);
}

//----- (0000F114) --------------------------------------------------------
Hi363xComposer *__fastcall Hi363xComposer::~Hi363xComposer(Hi363xComposer *this)
{
  return Hi363xComposer::~Hi363xComposer(this);
}

//----- (0000F120) --------------------------------------------------------
signed int __fastcall Hi363xComposer::setSource(int a1, int a2)
{
  return Hi363xComposer::setSource(a1, a2);
}

//----- (0000F12C) --------------------------------------------------------
signed int __fastcall Hi363xComposer::Compose(int a1, int a2)
{
  return Hi363xComposer::Compose(a1, a2);
}

//----- (0000F138) --------------------------------------------------------
signed int __fastcall Hi363xComposer::convertLayer(Hi363xComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return Hi363xComposer::convertLayer(this, a2, a3);
}

//----- (0000F144) --------------------------------------------------------
Hi363xOverlay *__fastcall Hi363xOverlay::~Hi363xOverlay(Hi363xOverlay *this)
{
  return Hi363xOverlay::~Hi363xOverlay(this);
}

//----- (0000F15C) --------------------------------------------------------
int __fastcall Hi363xOverlay::CalculateSize(Hi363xOverlay *this, unsigned int _R1, unsigned int _R2, int *a4, int *a5, unsigned int *a6, unsigned int *a7)
{
  return Hi363xOverlay::CalculateSize(this, _R1, _R2, a4, a5, a6, a7);
}

//----- (0000F168) --------------------------------------------------------
int __fastcall Hi363xOverlay::CalculateReproduction(Hi363xOverlay *this, int *a2, int *a3, unsigned int *_R3, unsigned int *a5)
{
  return Hi363xOverlay::CalculateReproduction(this, a2, a3, _R3, a5);
}

//----- (0000F174) --------------------------------------------------------
Hi363xOverlay *__fastcall Hi363xOverlay::~Hi363xOverlay(Hi363xOverlay *this)
{
  return Hi363xOverlay::~Hi363xOverlay(this);
}

//----- (0000F180) --------------------------------------------------------
signed int __fastcall Hi363xOverlay::setSource(int a1, int a2)
{
  return Hi363xOverlay::setSource(a1, a2);
}

//----- (0000F18C) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F198) --------------------------------------------------------
int __fastcall Hi363xOverlay::play(void *a1, int a2, int a3, _DWORD *a4)
{
  return Hi363xOverlay::play(a1, a2, a3, a4);
}

//----- (0000F1A4) --------------------------------------------------------
signed int __fastcall Hi363xOverlay::CheckPureLayer(Hi363xOverlay *this, int a2, bool *a3, bool *a4, unsigned int *a5)
{
  return Hi363xOverlay::CheckPureLayer(this, a2, a3, a4, a5);
}

//----- (0000F1B0) --------------------------------------------------------
Hi363xAccelerator *__fastcall Hi363xAccelerator::~Hi363xAccelerator(Hi363xAccelerator *this)
{
  return Hi363xAccelerator::~Hi363xAccelerator(this);
}

//----- (0000F1C8) --------------------------------------------------------
Hi363xAccelerator *__fastcall Hi363xAccelerator::~Hi363xAccelerator(Hi363xAccelerator *this)
{
  return Hi363xAccelerator::~Hi363xAccelerator(this);
}

//----- (0000F1D4) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F1E0) --------------------------------------------------------
int __fastcall Hi363xAccelerator::enableVsync(Hi363xAccelerator *this, int a2, int a3)
{
  return Hi363xAccelerator::enableVsync(this, a2, a3);
}

//----- (0000F1EC) --------------------------------------------------------
signed int __fastcall Hi363xAccelerator::getEvent(Hi363xAccelerator *this, int *a2, void *a3, int *a4)
{
  return Hi363xAccelerator::getEvent(this, a2, a3, a4);
}

//----- (0000F1F8) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F204) --------------------------------------------------------
signed int __fastcall Hi363xAccelerator::isPartialUpdatesEnabled(Hi363xAccelerator *this, int a2)
{
  return Hi363xAccelerator::isPartialUpdatesEnabled(this, a2);
}

//----- (0000F210) --------------------------------------------------------
int __fastcall Hi363xAccelerator::isCmdPanel(Hi363xAccelerator *this)
{
  return Hi363xAccelerator::isCmdPanel(this);
}

//----- (0000F21C) --------------------------------------------------------
int android::Vector<HwcPolicy *>::do_construct()
{
  return android::Vector<HwcPolicy *>::do_construct();
}
// FEB8: using guessed type int android::Vector<HwcPolicy *>::do_construct(void);

//----- (0000F228) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F234) --------------------------------------------------------
unsigned int __fastcall j___fixunssfdi(int a1, int a2, int a3, unsigned int a4)
{
  return _fixunssfdi(a1, a2, a3, a4);
}

//----- (0000F240) --------------------------------------------------------
Hi363xPerf *__fastcall Hi363xPerf::~Hi363xPerf(Hi363xPerf *this)
{
  return Hi363xPerf::~Hi363xPerf(this);
}

//----- (0000F258) --------------------------------------------------------
Hi363xPerf *__fastcall Hi363xPerf::~Hi363xPerf(Hi363xPerf *this)
{
  return Hi363xPerf::~Hi363xPerf(this);
}

//----- (0000F264) --------------------------------------------------------
signed int __fastcall Hi363xPerf::setDdrRate(Hi363xPerf *this, unsigned int a2)
{
  return Hi363xPerf::setDdrRate(this, a2);
}

//----- (0000F270) --------------------------------------------------------
signed int __fastcall Hi363xPerf::getCurrentDdrRate(Hi363xPerf *this, unsigned int *a2)
{
  return Hi363xPerf::getCurrentDdrRate(this, a2);
}

//----- (0000F27C) --------------------------------------------------------
int __fastcall Hi363xPerf::setGpuBoost(Hi363xPerf *this, int a2)
{
  return Hi363xPerf::setGpuBoost(this, a2);
}

//----- (0000F288) --------------------------------------------------------
int __fastcall Hi363xPerf::setCpuBoost(Hi363xPerf *this)
{
  return Hi363xPerf::setCpuBoost(this);
}

//----- (0000F294) --------------------------------------------------------
signed int __fastcall Hi363xPerf::setClockRate(Hi363xPerf *this, unsigned int a2)
{
  return Hi363xPerf::setClockRate(this, a2);
}

//----- (0000F2A0) --------------------------------------------------------
int __fastcall Hi363xPerf::calcLayerBw(Hi363xPerf *this, const HwcLayerInfo *_R1)
{
  return Hi363xPerf::calcLayerBw(this, _R1);
}

//----- (0000F2AC) --------------------------------------------------------
unsigned int __fastcall Hi363xPerf::calcClockRate(Hi363xPerf *this, const HwcLayerInfo *_R1)
{
  return Hi363xPerf::calcClockRate(this, _R1);
}

//----- (0000F2B8) --------------------------------------------------------
unsigned int __fastcall Hi363xPerf::totalBwToDdrRate(Hi363xPerf *this, float a2, int a3, unsigned int a4)
{
  return Hi363xPerf::totalBwToDdrRate(this, a2, a3, a4);
}

//----- (0000F2C4) --------------------------------------------------------
signed int __fastcall Hi363xPerf::getMaxClockRate(Hi363xPerf *this)
{
  return Hi363xPerf::getMaxClockRate(this);
}

//----- (0000F2D0) --------------------------------------------------------
signed int __fastcall Hi363xPerf::getIdleBoostDdrRate(Hi363xPerf *this)
{
  return Hi363xPerf::getIdleBoostDdrRate(this);
}

//----- (0000F2DC) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F2E8) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (0000F2F4) --------------------------------------------------------
signed int __fastcall Hi363xPerf::getIdleBoostDdrRate(Hi363xPerf *this)
{
  return Hi363xPerf::getIdleBoostDdrRate(this);
}

//----- (0000F300) --------------------------------------------------------
int __fastcall VirtualDisplayGpuPolicy::Prepare(VirtualDisplayGpuPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return VirtualDisplayGpuPolicy::Prepare(this, a2, a3, a4);
}

//----- (0000F30C) --------------------------------------------------------
int __fastcall HwcBandwidth::SetIdleBoostDdrRate(HwcBandwidth *this)
{
  return HwcBandwidth::SetIdleBoostDdrRate(this);
}

//----- (0000F318) --------------------------------------------------------
HwcConfig *__fastcall IdleBoostPolicy::Prepare(IdleBoostPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  return IdleBoostPolicy::Prepare(this, a2, a3, a4);
}

//----- (0000F330) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::Reset(tinyxml2::StrPair *this)
{
  return tinyxml2::StrPair::Reset(this);
}

//----- (0000F33C) --------------------------------------------------------
tinyxml2::StrPair *__fastcall tinyxml2::StrPair::~StrPair(tinyxml2::StrPair *this)
{
  return tinyxml2::StrPair::~StrPair(this);
}

//----- (0000F378) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLUtil::ConvertUTF32ToUTF8(tinyxml2::XMLUtil *this, unsigned __int32 a2, char *a3, int *a4)
{
  return tinyxml2::XMLUtil::ConvertUTF32ToUTF8(this, a2, a3, a4);
}

//----- (0000F384) --------------------------------------------------------
char *__fastcall tinyxml2::XMLUtil::GetCharacterRef(tinyxml2::XMLUtil *this, const char *a2, char *a3, int *a4)
{
  return tinyxml2::XMLUtil::GetCharacterRef(this, a2, a3, a4);
}

//----- (0000F390) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::GetStr(tinyxml2::StrPair *this)
{
  return tinyxml2::StrPair::GetStr(this);
}

//----- (0000F3A8) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToInt(tinyxml2::XMLUtil *this, const char *a2, int *a3)
{
  return tinyxml2::XMLUtil::ToInt(this, a2, a3);
}

//----- (0000F3B4) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::SetStr(tinyxml2::StrPair *this, const char *a2, int a3)
{
  return tinyxml2::StrPair::SetStr(this, a2, a3);
}

//----- (0000F3C0) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::Unlink(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2)
{
  return tinyxml2::XMLNode::Unlink(this, a2);
}

//----- (0000F3CC) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::DeleteChildren(tinyxml2::XMLNode *this)
{
  return tinyxml2::XMLNode::DeleteChildren((int)this);
}

//----- (0000F3D8) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::~XMLNode(tinyxml2::XMLNode *this)
{
  return tinyxml2::XMLNode::~XMLNode(this);
}

//----- (0000F3E4) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::~XMLNode(tinyxml2::XMLNode *this)
{
  return tinyxml2::XMLNode::~XMLNode(this);
}

//----- (0000F3F0) --------------------------------------------------------
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::~XMLComment(tinyxml2::XMLComment *this)
{
  return tinyxml2::XMLComment::~XMLComment(this);
}

//----- (0000F3FC) --------------------------------------------------------
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::~XMLDeclaration(tinyxml2::XMLDeclaration *this)
{
  return tinyxml2::XMLDeclaration::~XMLDeclaration(this);
}

//----- (0000F408) --------------------------------------------------------
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::~XMLUnknown(tinyxml2::XMLUnknown *this)
{
  return tinyxml2::XMLUnknown::~XMLUnknown(this);
}

//----- (0000F414) --------------------------------------------------------
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::~XMLElement(tinyxml2::XMLElement *this)
{
  return tinyxml2::XMLElement::~XMLElement(this);
}

//----- (0000F420) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::XMLNode(tinyxml2::XMLNode *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLNode::XMLNode((int)this, a2);
}

//----- (0000F42C) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::ParseName(tinyxml2::StrPair *this, char *a2)
{
  return tinyxml2::StrPair::ParseName(this, a2);
}

//----- (0000F438) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::ParseText(tinyxml2::StrPair *this, char *a2, const char *a3, int a4)
{
  return tinyxml2::StrPair::ParseText(this, a2, a3, a4);
}

//----- (0000F444) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToUnsigned(tinyxml2::XMLUtil *this, const char *a2, unsigned int *a3)
{
  return tinyxml2::XMLUtil::ToUnsigned(this, a2, a3);
}

//----- (0000F450) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLUtil::ToBool(tinyxml2::XMLUtil *this, const char *a2, bool *a3)
{
  return tinyxml2::XMLUtil::ToBool(this, a2, a3);
}

//----- (0000F45C) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToFloat(tinyxml2::XMLUtil *this, const char *a2, float *a3)
{
  return tinyxml2::XMLUtil::ToFloat(this, a2, a3);
}

//----- (0000F468) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToDouble(tinyxml2::XMLUtil *this, const char *a2, double *a3)
{
  return tinyxml2::XMLUtil::ToDouble(this, a2, a3);
}

//----- (0000F474) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, char *a3, int a4)
{
  return tinyxml2::XMLUtil::ToStr(this, a2, a3, a4);
}

//----- (0000F480) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, unsigned int a2, char *a3, int a4)
{
  return tinyxml2::XMLUtil::ToStr(this, a2, a3, a4);
}

//----- (0000F48C) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, char *a3, int a4)
{
  return tinyxml2::XMLUtil::ToStr(this, a2, a3, a4);
}

//----- (0000F498) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, double a3, char *a4, int a5)
{
  return tinyxml2::XMLUtil::ToStr(this, a2, a3, a4, a5);
}

//----- (0000F4A4) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, float a2, char *a3, int a4)
{
  return tinyxml2::XMLUtil::ToStr(this, a2, a3, a4);
}

//----- (0000F4B0) --------------------------------------------------------
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::XMLDeclaration(tinyxml2::XMLDeclaration *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLDeclaration::XMLDeclaration(this, a2);
}

//----- (0000F4BC) --------------------------------------------------------
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::XMLComment(tinyxml2::XMLComment *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLComment::XMLComment(this, a2);
}

//----- (0000F4C8) --------------------------------------------------------
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::XMLUnknown(tinyxml2::XMLUnknown *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLUnknown::XMLUnknown(this, a2);
}

//----- (0000F4D4) --------------------------------------------------------
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::XMLElement(tinyxml2::XMLElement *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLElement::XMLElement(this, a2);
}

//----- (0000F4E0) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::FindAttribute(tinyxml2::XMLElement *this, const char *a2)
{
  return tinyxml2::XMLElement::FindAttribute(this, a2);
}

//----- (0000F4EC) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetName(tinyxml2::XMLAttribute *this, const char *a2)
{
  return tinyxml2::XMLAttribute::SetName(this, a2);
}

//----- (0000F4F8) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::SetValue(tinyxml2::XMLNode *this, const char *a2, int a3)
{
  return tinyxml2::XMLNode::SetValue(this, a2, a3);
}

//----- (0000F504) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewComment(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::NewComment(this, a2);
}

//----- (0000F510) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewText(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::NewText(this, a2);
}

//----- (0000F51C) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewDeclaration(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::NewDeclaration(this, a2);
}

//----- (0000F528) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewUnknown(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::NewUnknown(this, a2);
}

//----- (0000F534) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::SetError(tinyxml2::XMLDocument *this, int a2, const char *a3, const char *a4)
{
  return tinyxml2::XMLDocument::SetError((int)this, a2, a3, a4);
}

//----- (0000F540) --------------------------------------------------------
void __fastcall tinyxml2::XMLDocument::InitDocument(tinyxml2::XMLDocument *this)
{
  tinyxml2::XMLDocument::InitDocument(this);
}

//----- (0000F570) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ReadBOM(tinyxml2::XMLUtil *this, const char *a2, bool *a3)
{
  return tinyxml2::XMLUtil::ReadBOM((int)this, a2, a3);
}

//----- (0000F57C) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::LoadFile(tinyxml2::XMLNode *a1, FILE *a2)
{
  return tinyxml2::XMLDocument::LoadFile(a1, a2);
}

//----- (0000F588) --------------------------------------------------------
_BYTE *__fastcall tinyxml2::XMLDocument::Identify(tinyxml2::XMLDocument *this, char *a2, tinyxml2::XMLNode **a3)
{
  return tinyxml2::XMLDocument::Identify(this, a2, a3);
}

//----- (0000F594) --------------------------------------------------------
_BYTE *__fastcall tinyxml2::XMLAttribute::ParseDeep(tinyxml2::XMLAttribute *this, char *a2, int a3)
{
  return tinyxml2::XMLAttribute::ParseDeep(this, a2, a3);
}

//----- (0000F5A0) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::ParseAttributes(tinyxml2::XMLElement *this, char *a2)
{
  return tinyxml2::XMLElement::ParseAttributes(this, a2);
}

//----- (0000F5AC) --------------------------------------------------------
char *__fastcall tinyxml2::XMLNode::ParseDeep(tinyxml2::XMLNode *this, char *a2, tinyxml2::StrPair *a3, int a4)
{
  return tinyxml2::XMLNode::ParseDeep(this, a2, a3, a4);
}

//----- (0000F5C4) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::XMLPrinter(int result, int a2, char a3)
{
  return tinyxml2::XMLPrinter::XMLPrinter(result, a2, a3);
}

//----- (0000F5D0) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::Print(tinyxml2::XMLDocument *this, tinyxml2::XMLPrinter *a2)
{
  return tinyxml2::XMLDocument::Print(this, a2);
}

//----- (0000F5E8) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::SaveFile(int a1, int a2)
{
  return tinyxml2::XMLDocument::SaveFile(a1, a2);
}

//----- (0000F60C) --------------------------------------------------------
int tinyxml2::XMLPrinter::Print(tinyxml2::XMLPrinter *this, const char *a2, ...)
{
  return tinyxml2::XMLPrinter::Print(this, a2);
}

//----- (0000F618) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PrintString(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  return tinyxml2::XMLPrinter::PrintString((int)this, a2, a3, a4);
}

//----- (0000F624) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, const char *a3)
{
  return tinyxml2::XMLPrinter::PushAttribute(this, a2, a3);
}

//----- (0000F630) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PrintSpace(tinyxml2::XMLPrinter *this, int a2)
{
  return tinyxml2::XMLPrinter::PrintSpace((int)this, a2);
}

//----- (0000F63C) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::CloseElement(tinyxml2::XMLPrinter *this)
{
  return tinyxml2::XMLPrinter::CloseElement(this);
}

//----- (0000F648) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::SealElement(tinyxml2::XMLPrinter *this)
{
  return tinyxml2::XMLPrinter::SealElement(this);
}

//----- (0000F654) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::OpenElement(tinyxml2::XMLPrinter *this, const char *a2)
{
  return tinyxml2::XMLPrinter::OpenElement(this, a2);
}

//----- (0000F660) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, const char *a2, int a3)
{
  return tinyxml2::XMLPrinter::PushText(this, a2, a3);
}

//----- (0000F66C) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushComment(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  return tinyxml2::XMLPrinter::PushComment(this, a2, a3, a4);
}

//----- (0000F678) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushDeclaration(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  return tinyxml2::XMLPrinter::PushDeclaration(this, a2, a3, a4);
}

//----- (0000F684) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushHeader(tinyxml2::XMLPrinter *this, int a2, int a3, int a4)
{
  return tinyxml2::XMLPrinter::PushHeader((int)this, a2, a3, a4);
}

//----- (0000F690) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushUnknown(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  return tinyxml2::XMLPrinter::PushUnknown(this, a2, a3, a4);
}

//----- (0000F69C) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::VisitEnter(tinyxml2::XMLPrinter *this, const tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLPrinter::VisitEnter(this, a2);
}

//----- (0000F6A8) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::VisitEnter(tinyxml2::XMLPrinter *this, const tinyxml2::XMLElement *a2, const tinyxml2::XMLAttribute *a3)
{
  return tinyxml2::XMLPrinter::VisitEnter(this, a2, a3);
}

//----- (0000F6B4) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::VisitExit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLElement *a2)
{
  return tinyxml2::XMLPrinter::VisitExit(this, a2);
}

//----- (0000F6C0) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLDeclaration *a2)
{
  return tinyxml2::XMLPrinter::Visit(this, a2);
}

//----- (0000F6CC) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLText *a2)
{
  return tinyxml2::XMLPrinter::Visit(this, a2);
}

//----- (0000F6D8) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLComment *a2)
{
  return tinyxml2::XMLPrinter::Visit(this, a2);
}

//----- (0000F6E4) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLUnknown *a2)
{
  return tinyxml2::XMLPrinter::Visit(this, a2);
}

//----- (0000F6F0) --------------------------------------------------------
int *__fastcall tinyxml2::XMLComment::ShallowClone(tinyxml2::XMLComment *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLComment::ShallowClone(this, a2);
}

//----- (0000F6FC) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLComment::ShallowEqual(tinyxml2::XMLComment *this, const tinyxml2::XMLNode *a2)
{
  return tinyxml2::XMLComment::ShallowEqual(this, a2);
}

//----- (0000F708) --------------------------------------------------------
int __fastcall tinyxml2::XMLComment::Accept(int a1, int a2)
{
  return tinyxml2::XMLComment::Accept(a1, a2);
}

//----- (0000F714) --------------------------------------------------------
int __fastcall tinyxml2::XMLComment::ParseDeep(tinyxml2::XMLComment *this, char *a2, tinyxml2::StrPair *a3)
{
  return tinyxml2::XMLComment::ParseDeep(this, a2, a3);
}

//----- (0000F720) --------------------------------------------------------
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::~XMLComment(tinyxml2::XMLComment *this)
{
  return tinyxml2::XMLComment::~XMLComment(this);
}

//----- (0000F72C) --------------------------------------------------------
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::ShallowClone(tinyxml2::XMLElement *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLElement::ShallowClone(this, a2);
}

//----- (0000F738) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLElement::ShallowEqual(tinyxml2::XMLElement *this, const tinyxml2::XMLNode *a2)
{
  return tinyxml2::XMLElement::ShallowEqual(this, a2);
}

//----- (0000F744) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::Accept(int a1, int a2)
{
  return tinyxml2::XMLElement::Accept(a1, a2);
}

//----- (0000F750) --------------------------------------------------------
char *__fastcall tinyxml2::XMLElement::ParseDeep(tinyxml2::XMLElement *this, char *a2, tinyxml2::StrPair *a3, int a4)
{
  return tinyxml2::XMLElement::ParseDeep(this, a2, a3, a4);
}

//----- (0000F75C) --------------------------------------------------------
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::~XMLElement(tinyxml2::XMLElement *this)
{
  return tinyxml2::XMLElement::~XMLElement(this);
}

//----- (0000F768) --------------------------------------------------------
int *__fastcall tinyxml2::XMLText::ShallowClone(tinyxml2::XMLText *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLText::ShallowClone(this, a2);
}

//----- (0000F774) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLText::ShallowEqual(tinyxml2::XMLText *this, const tinyxml2::XMLNode *a2)
{
  return tinyxml2::XMLText::ShallowEqual(this, a2);
}

//----- (0000F780) --------------------------------------------------------
int __fastcall tinyxml2::XMLText::Accept(int a1, int a2)
{
  return tinyxml2::XMLText::Accept(a1, a2);
}

//----- (0000F78C) --------------------------------------------------------
int __fastcall tinyxml2::XMLText::ParseDeep(tinyxml2::XMLText *this, char *a2, tinyxml2::StrPair *a3)
{
  return tinyxml2::XMLText::ParseDeep(this, a2, a3);
}

//----- (0000F798) --------------------------------------------------------
int *__fastcall tinyxml2::XMLUnknown::ShallowClone(tinyxml2::XMLUnknown *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLUnknown::ShallowClone(this, a2);
}

//----- (0000F7A4) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLUnknown::ShallowEqual(tinyxml2::XMLUnknown *this, const tinyxml2::XMLNode *a2)
{
  return tinyxml2::XMLUnknown::ShallowEqual(this, a2);
}

//----- (0000F7B0) --------------------------------------------------------
int __fastcall tinyxml2::XMLUnknown::Accept(int a1, int a2)
{
  return tinyxml2::XMLUnknown::Accept(a1, a2);
}

//----- (0000F7BC) --------------------------------------------------------
int __fastcall tinyxml2::XMLUnknown::ParseDeep(tinyxml2::XMLUnknown *this, char *a2, tinyxml2::StrPair *a3)
{
  return tinyxml2::XMLUnknown::ParseDeep(this, a2, a3);
}

//----- (0000F7C8) --------------------------------------------------------
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::~XMLUnknown(tinyxml2::XMLUnknown *this)
{
  return tinyxml2::XMLUnknown::~XMLUnknown(this);
}

//----- (0000F7D4) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDeclaration::ShallowClone(tinyxml2::XMLDeclaration *this, tinyxml2::XMLDocument *a2)
{
  return tinyxml2::XMLDeclaration::ShallowClone(this, a2);
}

//----- (0000F7E0) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLDeclaration::ShallowEqual(tinyxml2::XMLDeclaration *this, const tinyxml2::XMLNode *a2)
{
  return tinyxml2::XMLDeclaration::ShallowEqual(this, a2);
}

//----- (0000F7EC) --------------------------------------------------------
int __fastcall tinyxml2::XMLDeclaration::Accept(int a1, int a2)
{
  return tinyxml2::XMLDeclaration::Accept(a1, a2);
}

//----- (0000F7F8) --------------------------------------------------------
int __fastcall tinyxml2::XMLDeclaration::ParseDeep(tinyxml2::XMLDeclaration *this, char *a2, tinyxml2::StrPair *a3)
{
  return tinyxml2::XMLDeclaration::ParseDeep(this, a2, a3);
}

//----- (0000F804) --------------------------------------------------------
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::~XMLDeclaration(tinyxml2::XMLDeclaration *this)
{
  return tinyxml2::XMLDeclaration::~XMLDeclaration(this);
}

//----- (0000F810) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::Accept(int a1, int a2)
{
  return tinyxml2::XMLDocument::Accept(a1, a2);
}

//----- (0000F81C) --------------------------------------------------------
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::~XMLDocument(tinyxml2::XMLDocument *this)
{
  return tinyxml2::XMLDocument::~XMLDocument(this);
}

//----- (0000F87C) --------------------------------------------------------
int j___aeabi_ldiv0()
{
  return _aeabi_ldiv0();
}

//----- (0000F888) --------------------------------------------------------
unsigned __int64 __fastcall j___gnu_uldivmod_helper(unsigned __int64 a1, unsigned __int64 a2, _QWORD *a3)
{
  return _gnu_uldivmod_helper(a1, a2, a3);
}

//----- (0000F8A0) --------------------------------------------------------
int __fastcall j___extendsfdf2(int a1, int a2, int a3, unsigned int a4)
{
  return _extendsfdf2(a1, a2, a3, a4);
}

//----- (0000F8AC) --------------------------------------------------------
unsigned int __fastcall j___muldf3(unsigned int result, unsigned int a2, unsigned int a3, unsigned int a4)
{
  return _muldf3(result, a2, a3, a4);
}

//----- (0000F8B8) --------------------------------------------------------
unsigned int __fastcall j___fixunsdfsi(unsigned int a1, int a2)
{
  return _fixunsdfsi(a1, a2);
}

//----- (0000F8C4) --------------------------------------------------------
int __fastcall j___floatunsidf(int result)
{
  return _floatunsidf(result);
}

//----- (0000F8D0) --------------------------------------------------------
int j___subdf3()
{
  return _subdf3();
}
// 2402C: using guessed type int _subdf3(void);

//----- (0000F900) --------------------------------------------------------
unsigned int __fastcall j___lshrdi3(unsigned int a1, unsigned int a2, int a3)
{
  return _lshrdi3(a1, a2, a3);
}

//----- (0000FEBA) --------------------------------------------------------
int (**__fastcall sub_FEBA(int a1))(void)
{
  int (**result)(void); // r0@1

  result = *(int (***)(void))(a1 + 4);
  if ( result )
  {
    if ( *result )
      result = (int (**)(void))(*result)();
  }
  return result;
}

//----- (0000FED0) --------------------------------------------------------
int __fastcall hwc_setOrientation(int a1, int a2, int a3, int a4)
{
  int v4; // r4@1
  int v5; // r6@1
  int result; // r0@2
  signed int v7; // r4@5
  signed int v8; // r5@8
  HwcConfig *v9; // r0@15
  int v10; // [sp+4h] [bp-1Ch]@1
  int v11; // [sp+8h] [bp-18h]@1
  int v12; // [sp+Ch] [bp-14h]@1

  v10 = a2;
  v11 = a3;
  v12 = a4;
  v4 = a2;
  v5 = a1;
  if ( a1 )
  {
    switch ( a2 )
    {
      case 1:
        v7 = 4;
        goto LABEL_14;
      case 2:
        v7 = 3;
        goto LABEL_12;
      case 3:
        v7 = 7;
        goto LABEL_12;
      case 4:
        v8 = *(_DWORD *)(a1 + 388);
        v7 = *(_DWORD *)(a1 + 384);
        break;
      case 0:
        v7 = 0;
LABEL_12:
        v8 = 4;
        break;
      default:
        a1 = HwcConfig::GetDebugLevel((HwcConfig *)a1);
        if ( a1 > 0 )
          a1 = _android_log_print(
                 5,
                 "hwcomposer",
                 "%s:%d: Unsupported orientation(%d).",
                 "hwc_setOrientation",
                 1043,
                 v4,
                 v11,
                 v12);
        v7 = 0;
LABEL_14:
        v8 = v7;
        break;
    }
    v9 = (HwcConfig *)HwcConfig::GetDebugLevel((HwcConfig *)a1);
    if ( (signed int)v9 > 2 )
      v9 = (HwcConfig *)_android_log_print(
                          3,
                          "hwcomposer",
                          "%s:%d: Screen record Orientation is changed: old=%d, new=%d.",
                          "hwc_setOrientation",
                          1047,
                          *(_DWORD *)(v5 + 388),
                          v8,
                          v12);
    result = HwcConfig::GetDebugLevel(v9);
    if ( result > 2 )
      result = _android_log_print(
                 3,
                 "hwcomposer",
                 "%s:%d: Virtual display Orientation is changed: old=%d, new=%d.",
                 "hwc_setOrientation",
                 1048,
                 *(_DWORD *)(v5 + 384),
                 v7,
                 v12);
    *(_DWORD *)(v5 + 388) = v8;
    *(_DWORD *)(v5 + 384) = v7;
  }
  else
  {
    result = HwcConfig::GetDebugLevel(0);
    if ( result >= 0 )
      result = _android_log_print(6, "hwcomposer", "%s:%d: Invalid device!", "hwc_setOrientation", 1017, v10, v11, v12);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010098) --------------------------------------------------------
HwcConfig *__fastcall hwc_addVirtualDisplay(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r4@1
  HwcConfig *result; // r0@2
  const char *v5; // r2@3
  const char *v6; // r3@3
  const char *v7; // r1@3
  HwcConfig *v8; // r0@4
  int v9; // r0@6
  int v10; // r0@6
  signed int v11; // [sp+0h] [bp-20h]@3

  v2 = a2;
  v3 = a1;
  if ( !a1 )
  {
    result = (HwcConfig *)HwcConfig::GetDebugLevel(0);
    if ( (signed int)result < 0 )
      return result;
    v11 = 1068;
    v5 = "%s:%d: Null Pointer";
    v6 = "hwc_addVirtualDisplay";
    v7 = "hwcomposer";
    return (HwcConfig *)_android_log_print(6, v7, v5, v6, v11);
  }
  ++*(_DWORD *)(a1 + 380);
  v8 = (HwcConfig *)HwcConfig::GetDebugLevel((HwcConfig *)a1);
  if ( (signed int)v8 > 2 )
    v8 = (HwcConfig *)_android_log_print(
                        3,
                        "hwcomposer",
                        "%s:%d: displayId[%d], virtualDispCount[%d]",
                        "hwc_addVirtualDisplay",
                        1073,
                        v2,
                        *(_DWORD *)(v3 + 380));
  v9 = HwcConfig::GetPlatform(v8);
  v10 = (*(int (**)(void))(*(_DWORD *)v9 + 8))();
  result = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v10 + 36))();
  if ( result )
  {
    result = (HwcConfig *)HwcConfig::GetDebugLevel(result);
    if ( (signed int)result >= 0 )
    {
      v11 = 1075;
      v7 = "hwcomposer";
      v5 = "%s:%d: addVirtualDisplay is error \n";
      v6 = "hwc_addVirtualDisplay";
      return (HwcConfig *)_android_log_print(6, v7, v5, v6, v11);
    }
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010150) --------------------------------------------------------
HwcConfig *__fastcall hwc_removeVirtualDisplay(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r4@1
  HwcConfig *result; // r0@2
  const char *v5; // r2@3
  const char *v6; // r3@3
  const char *v7; // r1@3
  HwcConfig *v8; // r0@4
  HwcConfig *v9; // r0@4
  int v10; // r0@6
  int v11; // r0@6
  signed int v12; // [sp+0h] [bp-20h]@3

  v2 = a2;
  v3 = a1;
  if ( !a1 )
  {
    result = (HwcConfig *)HwcConfig::GetDebugLevel(0);
    if ( (signed int)result < 0 )
      return result;
    v12 = 1083;
    v5 = "%s:%d: Null Pointer";
    v6 = "hwc_removeVirtualDisplay";
    v7 = "hwcomposer";
    return (HwcConfig *)_android_log_print(6, v7, v5, v6, v12);
  }
  v8 = (HwcConfig *)(*(_DWORD *)(a1 + 380) - 1);
  *(_DWORD *)(v3 + 380) = v8;
  v9 = (HwcConfig *)HwcConfig::GetDebugLevel(v8);
  if ( (signed int)v9 > 2 )
    v9 = (HwcConfig *)_android_log_print(
                        3,
                        "hwcomposer",
                        "%s:%d: displayId[%d], virtualDispCount[%d]",
                        "hwc_removeVirtualDisplay",
                        1088,
                        v2,
                        *(_DWORD *)(v3 + 380));
  v10 = HwcConfig::GetPlatform(v9);
  v11 = (*(int (**)(void))(*(_DWORD *)v10 + 8))();
  result = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v11 + 36))();
  if ( result )
  {
    result = (HwcConfig *)HwcConfig::GetDebugLevel(result);
    if ( (signed int)result >= 0 )
    {
      v12 = 1090;
      v7 = "hwcomposer";
      v5 = "%s:%d: removeVirtualDisplay is error \n";
      v6 = "hwc_removeVirtualDisplay";
      return (HwcConfig *)_android_log_print(6, v7, v5, v6, v12);
    }
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010208) --------------------------------------------------------
void *__fastcall sub_10208(void *a1)
{
  void *v1; // r4@1

  v1 = a1;
  operator delete(a1);
  return v1;
}

//----- (00010214) --------------------------------------------------------
int __fastcall sub_10214(HwcConfig *a1)
{
  HwcConfig *v1; // r4@1
  void *v2; // r5@2
  int v3; // r0@4

  v1 = a1;
  if ( a1 )
  {
    HwcConfig::Deinit(a1);
    v2 = (void *)*((_DWORD *)v1 + 92);
    if ( v2 )
    {
      HwcIdleMgr::~HwcIdleMgr(*((HwcIdleMgr **)v1 + 92));
      operator delete(v2);
    }
    v3 = *((_DWORD *)v1 + 91);
    if ( v3 )
      (*(void (**)(void))(*(_DWORD *)v3 + 4))();
    free((void *)v1);
  }
  return 0;
}

//----- (00010248) --------------------------------------------------------
signed int __fastcall sub_10248(HwcConfig *a1, const char *a2, _DWORD *a3)
{
  HwcConfig *v3; // r8@1
  const char *v4; // r4@1
  _DWORD *v5; // r7@1
  HwcConfig *v6; // r6@3
  void *v7; // r0@4
  void *v8; // r4@4
  HwcConfig *v9; // r0@7
  int v10; // r1@7
  const char *v11; // r1@9
  const char *v12; // r3@9
  const char *v13; // r2@9
  int v14; // r8@10
  int v15; // r0@11
  _QWORD *v16; // r0@16
  _BYTE *v17; // r0@16
  _BYTE *v18; // r5@16
  HwcConfig *v19; // r0@16
  HwcConfig *v20; // r0@17
  signed int v22; // [sp+0h] [bp-20h]@9
  const char *v23; // [sp+4h] [bp-1Ch]@1

  v23 = a2;
  v3 = a1;
  v4 = a2;
  v5 = a3;
  if ( HwcConfig::GetDebugLevel(a1) > 1 )
    _android_log_print(4, "hwcomposer", "%s:%d: hwc_device_open %s", "hwc_device_open", 1102, v4);
  v6 = (HwcConfig *)strcmp(v4, "composer");
  if ( v6 )
    return -22;
  v7 = malloc(0x18Cu);
  v8 = v7;
  if ( !v7 )
  {
    if ( HwcConfig::GetDebugLevel(0) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: fail to alloc device!", "hwc_device_open", 1107, v23);
    return -22;
  }
  memset(v7, 0, 0x18Cu);
  *((_DWORD *)v8 + 2) = v3;
  *(_DWORD *)v8 = 1213678676;
  *((_DWORD *)v8 + 1) = 17039361;
  *((_DWORD *)v8 + 15) = sub_10214;
  *((_DWORD *)v8 + 16) = sub_10DBC;
  *((_DWORD *)v8 + 17) = sub_10B40;
  *((_DWORD *)v8 + 18) = sub_108EC;
  *((_DWORD *)v8 + 23) = sub_10830;
  *((_DWORD *)v8 + 24) = sub_1076C;
  *((_DWORD *)v8 + 21) = sub_10AA4;
  *((_DWORD *)v8 + 20) = sub_10564;
  *((_DWORD *)v8 + 29) = sub_104EC;
  *((_DWORD *)v8 + 22) = hwc_dump;
  *((_DWORD *)v8 + 19) = sub_106DC;
  *((_DWORD *)v8 + 36) = hwc_setReproductionHeightRatio;
  *((_DWORD *)v8 + 35) = hwc_setReproductionWidthRatio;
  *((_DWORD *)v8 + 34) = hwc_setTransformChanged;
  *((_DWORD *)v8 + 37) = hwc_enableFullScreen;
  *((_DWORD *)v8 + 38) = hwc_enableHDMIDisplay;
  *((_DWORD *)v8 + 31) = hwc_setLayerStack;
  *((_DWORD *)v8 + 30) = hwc_setOrientation;
  *((_DWORD *)v8 + 32) = hwc_addVirtualDisplay;
  *((_DWORD *)v8 + 33) = hwc_removeVirtualDisplay;
  *((_DWORD *)v8 + 39) = hwc_setScreenRecord;
  v9 = (HwcConfig *)HwcConfig::Init((HwcConfig *)hwc_setScreenRecord);
  if ( (signed int)v9 >= 0 )
  {
    v14 = (int)v8 + 304;
    do
    {
      v15 = HwcConfig::GetDisplay(v6, v10);
      *(_DWORD *)(v14 + 4) = v15;
      v14 += 4;
      if ( !v15 )
      {
        if ( HwcConfig::GetDebugLevel(0) < 0 )
          goto LABEL_21;
        v22 = 1153;
        v11 = "hwcomposer";
        v13 = "%s:%d: Failed to create display instance, low memory?";
        v12 = "hwc_device_open";
        goto LABEL_14;
      }
      v6 = (HwcConfig *)((char *)v6 + 1);
    }
    while ( v6 != (HwcConfig *)3 );
    *((_DWORD *)v8 + 87) = 0;
    *((_BYTE *)v8 + 353) = 0;
    *((_BYTE *)v8 + 352) = 0;
    *((_BYTE *)v8 + 354) = 0;
    v16 = (_QWORD *)operator new(8u);
    *v16 = (unsigned int)&off_2DAB0;
    *((_DWORD *)v8 + 91) = v16;
    v17 = (_BYTE *)operator new(0x10u);
    v18 = v17;
    v19 = (HwcConfig *)HwcIdleMgr::HwcIdleMgr(v17, *((_DWORD *)v8 + 91));
    *((_DWORD *)v8 + 92) = v18;
    if ( HwcConfig::IsTestMode(v19)
      || (v20 = (HwcConfig *)pthread_create((pthread_t *)v8 + 90, 0, (void *(*)(void *))sub_FFD8, v8)) == 0 )
    {
      *v5 = v8;
      return 0;
    }
    if ( HwcConfig::GetDebugLevel(v20) < 0 )
      goto LABEL_21;
    v22 = 1170;
    v11 = "hwcomposer";
    v13 = "%s:%d: Failed to start vsync thread";
    v12 = "hwc_device_open";
    goto LABEL_14;
  }
  if ( HwcConfig::GetDebugLevel(v9) >= 0 )
  {
    v22 = 1145;
    v11 = "hwcomposer";
    v12 = "hwc_device_open";
    v13 = "%s:%d: config not initialized!";
LABEL_14:
    _android_log_print(6, v11, v13, v12, v22, v23);
  }
LABEL_21:
  free(v8);
  return -22;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// FEC6: using guessed type int hwc_setReproductionHeightRatio();
// FEC8: using guessed type int hwc_setReproductionWidthRatio();
// FECA: using guessed type int hwc_setTransformChanged();
// FECC: using guessed type int hwc_enableFullScreen();
// FECE: using guessed type int hwc_enableHDMIDisplay();
// FFD8: using guessed type int sub_FFD8();
// 106DC: using guessed type int sub_106DC();
// 2DAB0: using guessed type void *off_2DAB0;

//----- (000104EC) --------------------------------------------------------
int __fastcall sub_104EC(int result, int a2, int a3)
{
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@1

  v3 = a2;
  v4 = a3;
  if ( result )
  {
    *(_BYTE *)(result + 393) = a2;
  }
  else
  {
    result = HwcConfig::GetDebugLevel(0);
    if ( result >= 0 )
      result = _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_setWfdComposer", 758, v3, v4);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010528) --------------------------------------------------------
int __fastcall hwc_setScreenRecord(int result, int a2, int a3)
{
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@1

  v3 = a2;
  v4 = a3;
  if ( result )
  {
    *(_BYTE *)(result + 394) = a2;
  }
  else
  {
    result = HwcConfig::GetDebugLevel(0);
    if ( result >= 0 )
      result = _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_setScreenRecord", 1057, v3, v4);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010564) --------------------------------------------------------
signed int __fastcall sub_10564(HwcConfig *a1, int a2, signed int *a3)
{
  signed int *v3; // r5@1
  HwcConfig *v4; // r4@1
  signed int v5; // r4@8
  signed int v6; // r2@10
  bool v7; // cf@10

  v3 = a3;
  v4 = a1;
  if ( !a1 || !a3 )
  {
    if ( HwcConfig::GetDebugLevel(a1) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer, pdev = %p, value = %p", "hwc_query", 798, v4, v3);
    return -22;
  }
  if ( a2 == 2 )
  {
    v5 = 3;
    goto LABEL_18;
  }
  if ( a2 == 3 )
  {
    clock_gettime(1, (struct timespec *)&dword_2F880);
    v6 = (dword_2F884 - dword_2F87C) / 1000000 + 1000 * (dword_2F880 - dword_2F878);
    v7 = 1;
    if ( !(v6 >> 31) )
      v7 = (unsigned int)v6 >= 0x1F;
    if ( v7 )
    {
      *((_BYTE *)v4 + 392) = 1;
      clock_gettime(1, (struct timespec *)&dword_2F878);
    }
    else
    {
      *((_BYTE *)v4 + 392) = 0;
    }
    if ( *((_BYTE *)v4 + 393) )
      *((_BYTE *)v4 + 392) = 1;
    v5 = *((_BYTE *)v4 + 392);
    goto LABEL_18;
  }
  if ( !a2 )
  {
    v5 = 1;
LABEL_18:
    *v3 = v5;
    return 0;
  }
  return -22;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 2F878: using guessed type int dword_2F878;
// 2F87C: using guessed type int dword_2F87C;
// 2F880: using guessed type int dword_2F880;
// 2F884: using guessed type int dword_2F884;

//----- (00010624) --------------------------------------------------------
int __fastcall sub_10624(int a1, signed int a2, int a3)
{
  signed int v3; // r5@1
  int v4; // r6@1
  int v5; // r4@1
  int result; // r0@11
  char v7; // [sp+8h] [bp-30h]@10

  v3 = a2;
  v4 = a3;
  v5 = a1;
  if ( !a1 )
  {
    if ( HwcConfig::GetDebugLevel(0) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_blank", 714);
    return -22;
  }
  if ( a2 > 2 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: Unknown display type %d", "hwc_blank", 720, v3);
    return -22;
  }
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      if ( *(_DWORD *)(a1 + 312) )
        result = 0;
      else
        result = -22;
      return result;
    }
    return -22;
  }
  if ( !*(_DWORD *)(a1 + 308) )
    return -22;
  if ( a3 )
  {
    HwcBandwidth::HwcBandwidth((HwcBandwidth *)&v7, 0, *(_DWORD *)(a1 + 348));
    HwcBandwidth::SetBlankDdrRate((HwcBandwidth *)&v7);
    HwcBandwidth::~HwcBandwidth((HwcBandwidth *)&v7);
  }
  return HwcDisplay::Blank(*(HwcDisplay **)(v5 + 308), v4);
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001076C) --------------------------------------------------------
HwcConfig *__fastcall sub_1076C(HwcConfig *a1, signed int a2, unsigned int a3, const unsigned int *a4, int *a5)
{
  signed int v5; // r5@1
  unsigned int v6; // r8@1
  const unsigned int *v7; // r7@1
  HwcConfig *v8; // r4@1
  HwcConfig *v9; // r0@4
  HwcDisplay *v10; // r0@9
  signed int v12; // [sp+4h] [bp-1Ch]@1

  v12 = a2;
  v5 = a2;
  v6 = a3;
  v7 = a4;
  v8 = a1;
  if ( a1 )
  {
    v9 = (HwcConfig *)HwcConfig::GetDebugLevel(a1);
    if ( (signed int)v9 > 1 )
      v9 = (HwcConfig *)_android_log_print(4, "hwcomposer", "%s:%d: disp is %d", "hwc_getDisplayAttributes", 673, v5);
    if ( v5 <= 2 )
    {
      v10 = (HwcDisplay *)*((_DWORD *)v8 + v5 + 77);
      if ( v10 )
        return j_j_j__ZNK10HwcDisplay13GetAttributesEjPKjPi(v10, v6, v7, a5);
    }
    else if ( HwcConfig::GetDebugLevel(v9) >= 0 )
    {
      _android_log_print(6, "hwcomposer", "%s:%d: Unknown display type %d", "hwc_getDisplayAttributes", 677, v5);
    }
  }
  else if ( HwcConfig::GetDebugLevel(0) >= 0 )
  {
    _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_getDisplayAttributes", 669, v12);
  }
  return (HwcConfig *)-22;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010830) --------------------------------------------------------
signed int __fastcall sub_10830(HwcConfig *a1, signed int a2, unsigned int *a3, unsigned int *a4)
{
  signed int v4; // r5@1
  unsigned int *v5; // r7@1
  unsigned int *v6; // r6@1
  HwcConfig *v7; // r4@1
  HwcConfig *v8; // r0@4
  HwcDisplay *v9; // r0@9
  signed int v11; // [sp+4h] [bp-1Ch]@1
  unsigned int *v12; // [sp+8h] [bp-18h]@1

  v11 = a2;
  v12 = a3;
  v4 = a2;
  v5 = a3;
  v6 = a4;
  v7 = a1;
  if ( a1 )
  {
    v8 = (HwcConfig *)HwcConfig::GetDebugLevel(a1);
    if ( (signed int)v8 > 1 )
      v8 = (HwcConfig *)_android_log_print(4, "hwcomposer", "%s:%d: disp is %d", "hwc_getDisplayConfigs", 645, v4, v12);
    if ( v4 <= 2 )
    {
      v9 = (HwcDisplay *)*((_DWORD *)v7 + v4 + 77);
      if ( v9 )
        return j_j_j__ZNK10HwcDisplay10GetConfigsEPjS0_(v9, v5, v6);
    }
    else if ( HwcConfig::GetDebugLevel(v8) >= 0 )
    {
      _android_log_print(6, "hwcomposer", "%s:%d: Unknown display type %d", "hwc_getDisplayConfigs", 649, v4, v12);
    }
  }
  else if ( HwcConfig::GetDebugLevel(0) >= 0 )
  {
    _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_getDisplayConfigs", 641, v11, v12);
  }
  return -22;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (000108EC) --------------------------------------------------------
signed int __fastcall sub_108EC(HwcConfig *a1, signed int a2, int a3, int a4)
{
  signed int v4; // r5@1
  int v5; // r7@1
  int v6; // r6@1
  HwcConfig *v7; // r4@1
  HwcConfig *v8; // r0@4
  HwcDisplay *v9; // r0@9

  v4 = a2;
  v5 = a3;
  v6 = a4;
  v7 = a1;
  if ( a1 )
  {
    v8 = (HwcConfig *)HwcConfig::GetDebugLevel(a1);
    if ( (signed int)v8 > 2 )
      v8 = (HwcConfig *)_android_log_print(
                          3,
                          "hwcomposer",
                          "%s:%d: hwc_eventControl %d %d %d",
                          "hwc_eventControl",
                          617,
                          v4,
                          v5,
                          v6);
    if ( v4 <= 2 )
    {
      v9 = (HwcDisplay *)*((_DWORD *)v7 + v4 + 77);
      if ( v9 )
        return j_j_j__ZN10HwcDisplay12EventControlEii(v9, v5, v6);
    }
    else if ( HwcConfig::GetDebugLevel(v8) >= 0 )
    {
      _android_log_print(6, "hwcomposer", "%s:%d: Unknown display type %d", "hwc_eventControl", 621, v4);
    }
  }
  else if ( HwcConfig::GetDebugLevel(0) >= 0 )
  {
    _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_eventControl", 613);
  }
  return -22;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (000109AC) --------------------------------------------------------
int __fastcall hwc_dump(int a1, Hi62xxAccelerator *a2, int a3)
{
  Hi62xxAccelerator *v3; // r6@1
  int v4; // r5@1
  int result; // r0@2
  Hi62xxAccelerator *v6; // [sp+4h] [bp-14h]@1

  v6 = a2;
  v3 = a2;
  v4 = a3;
  if ( a1 )
  {
    *(_BYTE *)(a1 + 354) = HwcConfig::UpdateDebugSetting((HwcConfig *)a1);
    result = j_j_j__ZN17Hi62xxAccelerator16requestClockRateEi(v3, v4);
  }
  else
  {
    result = HwcConfig::GetDebugLevel(0);
    if ( result >= 0 )
      result = _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_dump", 909, v6);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010A00) --------------------------------------------------------
HwcConfig *__fastcall hwc_setLayerStack(HwcConfig *a1, signed int a2, int a3)
{
  signed int v3; // r4@1
  HwcConfig *result; // r0@2
  const char *v5; // r1@6
  const char *v6; // r3@6
  const char *v7; // r2@6
  int v8; // r3@7
  signed int v9; // [sp+0h] [bp-10h]@6
  signed int v10; // [sp+4h] [bp-Ch]@1
  signed int v11; // [sp+4h] [bp-Ch]@6

  v10 = a2;
  v3 = a2;
  if ( a1 )
  {
    if ( a2 <= 2 )
    {
      result = (HwcConfig *)((char *)a1 + 4 * a2);
      v8 = *((_DWORD *)result + 77);
      if ( v8 )
      {
        *(_DWORD *)(v8 + 84) = a3;
        return result;
      }
      result = (HwcConfig *)HwcConfig::GetDebugLevel(result);
      if ( (signed int)result < 0 )
        return result;
      v9 = 996;
      v11 = v3;
      v7 = "%s:%d: display(%d) not supported!";
      v6 = "hwc_setLayerStack";
      v5 = "hwcomposer";
    }
    else
    {
      result = (HwcConfig *)HwcConfig::GetDebugLevel(a1);
      if ( (signed int)result < 0 )
        return result;
      v9 = 990;
      v11 = v3;
      v5 = "hwcomposer";
      v6 = "hwc_setLayerStack";
      v7 = "%s:%d: Invalid disp(%d) parameters!";
    }
    return (HwcConfig *)_android_log_print(6, v5, v7, v6, v9, v11);
  }
  result = (HwcConfig *)HwcConfig::GetDebugLevel(0);
  if ( (signed int)result >= 0 )
    result = (HwcConfig *)_android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_setLayerStack", 985, v10);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010AA4) --------------------------------------------------------
int __fastcall sub_10AA4(int result, int a2, int a3)
{
  int v3; // r3@4
  int v4; // [sp+4h] [bp-Ch]@1
  int v5; // [sp+8h] [bp-8h]@1

  v4 = a2;
  v5 = a3;
  if ( result )
  {
    v3 = *(_DWORD *)(result + 364);
    *(_DWORD *)(result + 356) = a2;
    *(_DWORD *)(v3 + 4) = a2;
  }
  else
  {
    result = HwcConfig::GetDebugLevel(0);
    if ( result >= 0 )
      result = _android_log_print(6, "hwcomposer", "%s:%d: Null Pointer", "hwc_registerProcs", 696, v4, v5);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00010AE8) --------------------------------------------------------
_QWORD *__fastcall sub_10AE8(_QWORD *a1, int a2)
{
  _QWORD *v2; // r6@1
  __int64 v3; // r4@1
  int v4; // r0@1
  int v6; // [sp+4h] [bp-14h]@1

  v6 = a2;
  v2 = a1;
  v3 = *a1;
  v4 = atrace_is_ready;
  __dmb();
  if ( !v4 )
    atrace_setup(0, a2);
  if ( v3 & atrace_enabled_tags )
  {
    BYTE3(v6) = 69;
    write(atrace_marker_fd, (char *)&v6 + 3, 1u);
  }
  return v2;
}
// E064: using guessed type int __cdecl atrace_setup(_DWORD, _DWORD);

//----- (00010B40) --------------------------------------------------------
signed int __fastcall sub_10B40(int a1, unsigned int a2, int a3)
{
  int v3; // r6@1
  int v4; // r4@1
  unsigned int v5; // r9@1
  HwcConfig *v6; // r0@1
  void *v7; // r1@3
  int v8; // r2@3
  int v9; // r1@7
  HwcConfig *v10; // r0@9
  HwcConfig *v11; // r0@9
  int v12; // r0@15
  void (*v13)(void); // r7@15
  int v14; // r1@15
  int v15; // r2@15
  int v16; // r8@17
  HwcCompInfo **v17; // r5@17
  int v18; // r7@17
  const char *v19; // r1@17
  void (*v20)(void); // r2@17
  int v21; // r0@18
  int v22; // r1@18
  int v23; // r2@18
  int v24; // t1@19
  int v25; // r2@23
  int v26; // r3@23
  HwcConfig *v27; // r0@23
  int v28; // r1@25
  int v29; // r2@25
  int v30; // r1@28
  int v31; // r2@28
  int v32; // r1@28
  int v33; // r2@28
  HwcConfig *v34; // r0@28
  void (**v35)(void); // r0@29
  int v36; // r1@34
  signed int v37; // r4@22
  __int64 v39; // [sp+28h] [bp-50h]@1
  char v40; // [sp+30h] [bp-48h]@41

  v3 = a3;
  v4 = a1;
  v5 = a2;
  v39 = 2LL;
  v6 = (HwcConfig *)atrace_is_ready;
  __dmb();
  if ( !v6 )
    v6 = (HwcConfig *)atrace_setup(0, a2);
  v7 = &atrace_enabled_tags;
  v8 = atrace_enabled_tags & 2;
  if ( atrace_enabled_tags & 2 )
    v6 = (HwcConfig *)atrace_begin_body("hwc_set");
  if ( v4 && v3 )
  {
    v10 = (HwcConfig *)HwcTimeConsumeLog("set+", (int)v7, v8);
    v11 = (HwcConfig *)HwcConfig::NeedDumpFrame(v10);
    if ( v11 )
      v11 = HwcDumpDisplayContents((HwcConfig *)"hwc_set", v5, v3);
    if ( v5 > 2 && *(_DWORD *)(v3 + 8) && *(_BYTE *)(v4 + 392) )
    {
      if ( *(_BYTE *)(v4 + 394) )
      {
        v12 = HwcConfig::GetPlatform(v11);
        v13 = *(void (**)(void))(*(_DWORD *)(*(int (**)(void))(*(_DWORD *)v12 + 8))() + 32);
        v14 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + 4);
        v15 = *(_DWORD *)(v4 + 388);
      }
      else
      {
        v21 = HwcConfig::GetPlatform(v11);
        v13 = *(void (**)(void))(*(_DWORD *)(*(int (**)(void))(*(_DWORD *)v21 + 8))() + 32);
        v22 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + 4);
        v23 = *(_DWORD *)(v4 + 384);
      }
      v13();
    }
    v16 = v3 - 4;
    v17 = (HwcCompInfo **)(v4 + 332);
    v18 = 0;
    v19 = "hwc_err";
    v20 = (void (*)(void))"hwcomposer";
    while ( v18 != v5 )
    {
      v24 = *(_DWORD *)(v16 + 4);
      v16 += 4;
      if ( v24 )
      {
        HwcCompInfo::UpdateBuffers(*v17, v18);
        v27 = *(HwcConfig **)(*(_DWORD *)v16 + 8);
        if ( (signed int)v27 > 0 )
        {
          sync_wait(v27, 5000, v25, v26);
          close(*(_DWORD *)(*(_DWORD *)v16 + 8));
          v27 = *(HwcConfig **)v16;
          *(_DWORD *)(*(_DWORD *)v16 + 8) = -1;
        }
        v28 = v4 + v18;
        v29 = *(_BYTE *)(v4 + v18 + 344);
        if ( !*(_BYTE *)(v4 + v18 + 344) && HwcConfig::GetDebugLevel(v27) > 2 )
          _android_log_print(3, "hwcomposer", "%s:%d: geometry of display[%zu] is not changed", "hwc_set", 567, v18);
        HwcTimeConsumeLog("sethardware+", v28, v29);
        HwcDisplay::SetHardware(*(v17 - 6), *v17);
        HwcTimeConsumeLog("sethardware-", v30, v31);
        v34 = (HwcConfig *)HwcCompInfo::ClearAcquireFences(*v17, v32, v33);
        if ( *((_BYTE *)*v17 + 93) )
        {
          v35 = *(void (***)(void))(v4 + 356);
          if ( v35 )
          {
            v20 = *v35;
            if ( *v35 )
              v20();
          }
          v34 = *(HwcConfig **)(v4 + 368);
          *(_BYTE *)v34 = 1;
        }
        if ( !v18 )
        {
          v36 = *(_DWORD *)(v4 + 332);
          v20 = *(void (**)(void))v36;
          if ( *(_DWORD *)v36 == 2 || v20 == (void (*)(void))1 && (v34 = (HwcConfig *)*(_BYTE *)(v36 + 93)) == 0 )
          {
            HwcBandwidth::HwcBandwidth((HwcBandwidth *)&v40, 0, *(_DWORD *)(v4 + 348));
            HwcBandwidth::SetIdleDdrRate((HwcBandwidth *)&v40);
            v34 = HwcBandwidth::~HwcBandwidth((HwcBandwidth *)&v40);
          }
        }
        v19 = (const char *)*((_BYTE *)*v17 + 92);
        if ( *((_BYTE *)*v17 + 92) && !HwcConfig::IsTestMode(v34) )
        {
          HwcDumpDisplayContents((HwcConfig *)"hwc_err", v5, v3);
          *((_BYTE *)*v17 + 92) = 0;
        }
      }
      ++v18;
      ++v17;
    }
    v37 = 0;
    HwcTimeConsumeLog("set-", (int)v19, (int)v20);
    HwcTimeConsumeOutput();
  }
  else
  {
    if ( HwcConfig::GetDebugLevel(v6) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: NULL Pointer, pdev = %p, displays = %p", "hwc_set", 526, v4, v3);
    v37 = -22;
  }
  sub_10AE8(&v39, v9);
  return v37;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E064: using guessed type int __cdecl atrace_setup(_DWORD, _DWORD);
// E07C: using guessed type int __fastcall atrace_begin_body(_DWORD);
// E0B8: using guessed type int __cdecl sync_wait(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00010D94) --------------------------------------------------------
signed int __fastcall is_format_change(int a1, int a2, int a3)
{
  int v3; // r6@1
  int v4; // r5@1
  int i; // r4@1
  int v6; // r1@3
  signed int result; // r0@3

  v3 = a1;
  v4 = a2 + 20;
  for ( i = *(_DWORD *)(*(_DWORD *)(a1 + 8) + 8); i != *(_DWORD *)(v3 + 8); i = *(_DWORD *)(i + 8) )
  {
    v6 = v4;
    v4 += 112;
    result = HwcLayerInfo::IsFormatChange(*(_DWORD *)i, v6, a3);
    if ( result )
      return result;
  }
  return 0;
}

//----- (00010DBC) --------------------------------------------------------
signed int __fastcall sub_10DBC(int a1, unsigned int a2, int a3)
{
  int v3; // r6@1
  int v4; // r4@1
  unsigned int v5; // r8@1
  int v6; // r0@1
  int v7; // r1@5
  int v8; // r2@5
  HwcConfig *v9; // r0@5
  HwcConfig *v10; // r0@5
  int v11; // r1@9
  int v12; // r0@11
  signed int v13; // r3@13
  int v14; // r3@18
  int v15; // r3@20
  signed int v16; // r5@22
  int v17; // r0@29
  int v18; // r0@29
  int v19; // r3@30
  unsigned int v20; // r2@31
  int v21; // r5@32
  unsigned int v23; // r9@32
  int v24; // r1@35
  int v35; // r7@50
  signed int v36; // r1@52
  signed int v37; // r7@54
  int *v38; // r5@56
  int v39; // r6@56
  HwcConfig *v40; // r7@56
  ChannelMgr *v41; // r0@56
  int v42; // r11@58
  int v43; // t1@58
  int v44; // r10@59
  HwcConfig *v45; // r0@59
  int v47; // r11@61
  int v48; // r3@63
  int v49; // r1@69
  int v50; // ST40_4@71
  int v51; // ST44_4@71
  int v52; // ST48_4@71
  int v53; // ST4C_4@71
  int v54; // r2@73
  int v55; // r3@73
  HwcConfig *v56; // r0@73
  int v57; // r0@76
  int v58; // r3@85
  void *v59; // r11@96
  int v60; // r10@98
  int v61; // r3@98
  int v62; // r2@102
  HwcConfig *v63; // r0@103
  int v64; // r0@103
  int v65; // r1@103
  int v66; // r1@103
  int v67; // r2@103
  HwcConfig *v68; // r0@104
  int v69; // r0@104
  int v70; // r2@104
  int v71; // r0@104
  int v72; // r10@104
  signed int v73; // r4@108
  ChannelMgr *v74; // r0@108
  int v75; // r1@108
  int v76; // r2@108
  int v77; // r11@111
  int i; // r9@111
  int v79; // r3@113
  int v80; // r2@113
  int j; // r11@119
  int v82; // r1@120
  int v83; // r0@128
  int v84; // r9@128
  int v85; // r0@128
  void (*v86)(void); // r2@128
  int v87; // r3@128
  int v88; // r0@129
  int v89; // r0@129
  int v90; // r0@130
  int v91; // r0@130
  int v92; // r2@132
  HwcConfig *v94; // [sp+50h] [bp-B0h]@56
  int v95; // [sp+54h] [bp-ACh]@54
  signed int v96; // [sp+58h] [bp-A8h]@56
  int v97; // [sp+70h] [bp-90h]@70
  int v98; // [sp+74h] [bp-8Ch]@70
  __int64 v99; // [sp+78h] [bp-88h]@1
  int v100; // [sp+84h] [bp-7Ch]@73
  int v101; // [sp+88h] [bp-78h]@78
  int v102; // [sp+8Ch] [bp-74h]@77
  HwcConfig *v103; // [sp+90h] [bp-70h]@79
  char v104; // [sp+94h] [bp-6Ch]@85
  char v105; // [sp+B4h] [bp-4Ch]@50

  v3 = a3;
  v4 = a1;
  v5 = a2;
  v99 = 2LL;
  v6 = atrace_is_ready;
  __dmb();
  if ( !v6 )
    atrace_setup(0, a2);
  if ( atrace_enabled_tags & 2 )
    atrace_begin_body("hwc_prepare");
  HwcTimeConsumeBegin();
  v9 = (HwcConfig *)HwcTimeConsumeLog("prepare+", v7, v8);
  v10 = (HwcConfig *)HwcConfig::IsTestMode(v9);
  if ( v10 )
    v10 = (HwcConfig *)HwcConfig::UpdateDebugSetting(v10);
  if ( v4 && v3 )
  {
    v12 = HwcConfig::IsTestMode(v10);
    if ( v12 )
    {
      if ( v5 <= 2 )
      {
        *(_BYTE *)(v4 + 376) = 0;
        goto LABEL_27;
      }
    }
    else
    {
      v12 = HwcIdleMgr::CheckIdle(*(_DWORD *)(v4 + 368), *(_DWORD *)(v4 + 332), *(_DWORD *)v3);
      *(_BYTE *)(v4 + 352) = v12;
      if ( v5 <= 2 )
        goto LABEL_13;
    }
    if ( *(_DWORD *)(v3 + 8) )
    {
      v13 = 1;
LABEL_16:
      *(_BYTE *)(v4 + 376) = v13;
      if ( v13 )
      {
        if ( v5 > 2 )
        {
          v14 = *(_DWORD *)(v3 + 8);
          if ( v14 )
          {
            v12 = *(_DWORD *)(v4 + 308);
            if ( *(_DWORD *)(v12 + 84) != *(_DWORD *)(*(_DWORD *)(v4 + 316) + 84) )
            {
              v16 = 6;
LABEL_46:
              if ( *(_DWORD *)(v4 + 348) != v16 )
              {
                if ( HwcConfig::GetDebugLevel((HwcConfig *)v12) > 1 )
                  _android_log_print(
                    4,
                    "hwcomposer",
                    "%s:%d: scene switch [%d] --> [%d]",
                    "hwc_scene_switch",
                    233,
                    *(_DWORD *)(v4 + 348),
                    v16);
                *(_DWORD *)(v4 + 348) = v16;
                *(_BYTE *)(v4 + 353) = 1;
              }
              v35 = *(_DWORD *)(v4 + 348);
              HwcPartialUpdates::HwcPartialUpdates((HwcPartialUpdates *)&v105);
              if ( (unsigned int)(v35 - 3) <= 1 || (unsigned int)(v35 - 6) <= 1 )
                v36 = 1;
              else
                v36 = (unsigned __int8)(HwcConfig::IsPartialUpdates((HwcConfig *)(v35 - 6)) ^ 1);
              v37 = *(_BYTE *)(v4 + 354);
              v95 = v36;
              if ( *(_BYTE *)(v4 + 354) )
              {
                v37 = 1;
                *(_BYTE *)(v4 + 354) = 0;
              }
              v96 = v37;
              v38 = (int *)(v4 + 332);
              v39 = v3 - 4;
              v94 = (HwcConfig *)(v4 + 344);
              v40 = 0;
              v41 = (ChannelMgr *)"%s:%d: no policies for display[%zu] scene[%d]";
              while ( 1 )
              {
                if ( v40 == (HwcConfig *)v5 )
                {
                  *(_BYTE *)(v4 + 353) = 0;
                  v73 = 0;
                  ChannelMgr::RestoreAllChannelsCaps(v41);
                  ChannelMgr::RefresheAllChannelsState(v74);
                  HwcTimeConsumeLog("prepare-", v75, v76);
                  goto LABEL_138;
                }
                v43 = *(_DWORD *)(v39 + 4);
                v39 += 4;
                v42 = v43;
                if ( !v43 )
                  goto LABEL_107;
                v44 = *(_DWORD *)(v42 + 16);
                v45 = (HwcConfig *)HwcConfig::GetDebugLevel(v41);
                if ( (signed int)v45 > 1 )
                  v45 = (HwcConfig *)_android_log_print(
                                       4,
                                       "hwcomposer",
                                       "%s:%d: dump layers of display %d",
                                       "dump_layers",
                                       154,
                                       v40);
                _R9 = v42 + 56;
                v47 = 0;
                while ( v47 != v44 )
                {
                  v48 = *(_DWORD *)(_R9 - 24);
                  if ( !v48 )
                    goto LABEL_69;
                  v45 = *(HwcConfig **)v48;
                  if ( *(_DWORD *)v48 != 12
                    || *(_DWORD *)(v48 + 8) != 48
                    || *(_DWORD *)(v48 + 4) != 1
                    || (v45 = *(HwcConfig **)(v48 + 16), v45 != (HwcConfig *)51647890) )
                  {
                    v48 = 0;
LABEL_69:
                    v49 = v48;
                    goto LABEL_70;
                  }
                  v49 = *(_DWORD *)(v48 + 96);
                  if ( !v49 )
                    v49 = *(_DWORD *)(v48 + 116);
                  v48 = *(_DWORD *)(v48 + 20);
LABEL_70:
                  v98 = v48;
                  v97 = v49;
                  v45 = (HwcConfig *)HwcConfig::GetDebugLevel(v45);
                  if ( (signed int)v45 > 1 )
                  {
                    __asm
                    {
                      VLDR            S11, [R9,#-0xC]
                      VCVT.F64.F32    D16, S11
                      VSTR            D16, [SP,#0x100+var_E0]
                      VLDR            S12, [R9,#-8]
                      VCVT.F64.F32    D17, S12
                      VSTR            D17, [SP,#0x100+var_D8]
                      VLDR            S13, [R9,#-4]
                      VCVT.F64.F32    D18, S13
                      VSTR            D18, [SP,#0x100+var_D0]
                      VLDR            S15, [R9]
                      VCVT.F64.F32    D19, S15
                      VSTR            D19, [SP,#0x100+var_C8]
                    }
                    v50 = *(_DWORD *)(_R9 + 4);
                    v51 = *(_DWORD *)(_R9 + 8);
                    v52 = *(_DWORD *)(_R9 + 12);
                    v53 = *(_DWORD *)(_R9 + 16);
                    v45 = (HwcConfig *)_android_log_print(
                                         4,
                                         "hwcomposer",
                                         "%s:%d: \ttype=%d, flags=%08x, handle=%p, addr=%08x, tr=%02x, blend=%04x, format"
                                         "=%d,{%f,%f,%f,%f}, {%d,%d,%d,%d}",
                                         "dump_layer",
                                         149,
                                         *(_DWORD *)(_R9 - 36),
                                         *(_DWORD *)(_R9 - 28),
                                         *(_DWORD *)(_R9 - 24),
                                         v97,
                                         *(_DWORD *)(_R9 - 20),
                                         *(_DWORD *)(_R9 - 16),
                                         v98);
                  }
                  ++v47;
                  _R9 += 112;
                }
                HwcPartialUpdates::Init((int)&v105, *(v38 - 6), *(_DWORD *)v39, v95);
                HwcPartialUpdates::UpdateScaledDirtyRegion((int)&v105, *(_DWORD *)v39);
                HwcPartialUpdates::GetDirtyRect((int *)&v105, (int)&v100);
                v55 = *(_DWORD *)(*(_DWORD *)v39 + 12);
                v56 = (HwcConfig *)(v55 << 31);
                if ( !(v55 & 1) )
                {
                  v56 = (HwcConfig *)*v38;
                  if ( *v38 )
                  {
                    if ( is_format_change((int)v56, *(_DWORD *)v39, v54)
                      || (v57 = *v38, v100 != *(_DWORD *)(*v38 + 60))
                      || v102 != *(_DWORD *)(v57 + 68)
                      || v101 != *(_DWORD *)(v57 + 64)
                      || (v56 = *(HwcConfig **)(v57 + 72), v103 != v56) )
                    {
                      *(_DWORD *)(*(_DWORD *)v39 + 12) |= 1u;
                      v56 = HwcDisplay::ClearPureLayers((HwcDisplay *)*(v38 - 6));
                    }
                  }
                }
                if ( !*(_BYTE *)(v4 + 352) )
                  v56 = (HwcConfig *)HwcDisplay::CheckPureLayers((HwcConfig *)*(v38 - 6), *v38, *(_DWORD *)v39);
                if ( !v40 )
                {
                  if ( HwcConfig::GetDebugLevel(v56) > 2 )
                    _android_log_print(
                      3,
                      "hwcomposer",
                      "%s:%d: animation = %d",
                      "hwc_prepare",
                      382,
                      (*(_DWORD *)(*(_DWORD *)v39 + 12) >> 2) & 1);
                  HwcBandwidth::HwcBandwidth((HwcBandwidth *)&v104, 0, *(_DWORD *)(v4 + 348));
                  v58 = *(_DWORD *)(*(_DWORD *)v39 + 12);
                  if ( v58 & 4 )
                    HwcBandwidth::SetBoostDdrRate(
                      (HwcBandwidth *)&v104,
                      *(_DWORD *)v39,
                      *(_DWORD *)(*(_DWORD *)v39 + 12) << 29);
                  else
                    HwcBandwidth::ClearBoostDdrRate((HwcBandwidth *)&v104);
                  HwcBandwidth::~HwcBandwidth((HwcBandwidth *)&v104);
                }
                if ( *(_DWORD *)(*(_DWORD *)v39 + 12) & 1
                  || *v38 && *(_BYTE *)(*v38 + 108)
                  || v96
                  || *(_BYTE *)(v4 + 353)
                  || v40 == (HwcConfig *)2 && *(_BYTE *)(v4 + 344) )
                {
                  v59 = (void *)*(v38 - 3);
                  if ( v59 )
                  {
                    HwcCompInfo::~HwcCompInfo((HwcCompInfo *)*(v38 - 3));
                    operator delete(v59);
                  }
                  *(v38 - 3) = *v38;
                  v60 = operator new(0x74u);
                  HwcCompInfo::HwcCompInfo(v60, *(_DWORD *)(v4 + 348), *(_DWORD *)v39, v4 + 376);
                  *v38 = v60;
                  if ( v40 == (HwcConfig *)2 )
                    v61 = *(_DWORD *)(v4 + 332);
                  if ( v40 == (HwcConfig *)2 )
                    *(_BYTE *)(v60 + 77) = *(_BYTE *)(v61 + 77);
                  *(_BYTE *)v94 = 1;
                  *(_DWORD *)(*v38 + 56) = *(_DWORD *)(v4 + 372);
                  HwcCompInfo::CheckLastComposition((HwcCompInfo *)*v38, (const HwcCompInfo *)*(v38 - 3));
                  if ( !v40 )
                  {
                    v63 = (HwcConfig *)HwcCompInfo::SetPartialUpdates(
                                         *(HwcCompInfo **)(v4 + 332),
                                         (HwcPartialUpdates *)&v105);
                    v64 = HwcConfig::GetPlatform(v63);
                    v65 = *(_DWORD *)(v4 + 332);
                    (*(void (**)(void))(*(_DWORD *)v64 + 32))();
                    HwcCompInfo::CalcOverlapLayersNum(*(HwcCompInfo **)(v4 + 332));
                    HwcCompInfo::CalcLayerMaskRects(*(HwcCompInfo **)(v4 + 332), v66, v67);
                  }
                  v68 = (HwcConfig *)HwcDisplay::UpdatePureLayerInfo(
                                       (HwcDisplay *)*(v38 - 6),
                                       (const HwcCompInfo *)*v38,
                                       v62);
                  v69 = HwcConfig::GetPlatform(v68);
                  v70 = *(_DWORD *)(v4 + 348);
                  v71 = (*(int (**)(void))(*(_DWORD *)v69 + 40))();
                  v72 = v71;
                  if ( !v71 )
                  {
                    if ( HwcConfig::GetDebugLevel(0) > 0 )
                      _android_log_print(
                        5,
                        "hwcomposer",
                        "%s:%d: no policies for display[%zu] scene[%d]",
                        "hwc_prepare",
                        429,
                        v40,
                        *(_DWORD *)(v4 + 348));
                    goto LABEL_107;
                  }
                  v77 = *(_DWORD *)(v71 + 8);
                  for ( i = 0; i != v77; ++i )
                  {
                    v79 = *v38;
                    v80 = *(v38 - 3);
                    v71 = (*(int (**)(void))(**(_DWORD **)(*(_DWORD *)(v72 + 4) + 4 * i) + 8))();
                    if ( v71 )
                      break;
                  }
                }
                else
                {
                  *(_BYTE *)v94 = 0;
                  v71 = HwcConfig::GetDebugLevel(v94);
                  if ( v71 > 1 )
                    v71 = _android_log_print(
                            4,
                            "hwcomposer",
                            "%s:%d: [disp %zu] Geometry not changed",
                            "hwc_prepare",
                            444,
                            v40);
                }
                if ( HwcConfig::GetDebugLevel((HwcConfig *)v71) > 1 )
                  _android_log_print(
                    4,
                    "hwcomposer",
                    "%s:%d: [disp %zu] online:%d, offline:%d, gpu:%d",
                    "hwc_prepare",
                    450,
                    v40,
                    *(_BYTE *)(*v38 + 76),
                    *(_BYTE *)(*v38 + 77),
                    *(_BYTE *)(*v38 + 78));
                HwcCompInfo::PostPrepare((HwcCompInfo *)*v38);
                for ( j = *(_DWORD *)(*(_DWORD *)(*v38 + 8) + 8); ; j = *(_DWORD *)(j + 8) )
                {
                  v82 = *(_DWORD *)(*v38 + 8);
                  if ( j == v82 )
                    break;
                  HwcLayerInfo::FeedbackCompositionType(*(HwcLayerInfo **)j, v82, *v38);
                }
                *(_DWORD *)(*(_DWORD *)v39 + 12) &= 0xFFFFFFFD;
                if ( HwcConfig::GetFbMem(v40, v82) || !*(_BYTE *)(*v38 + 77) )
                {
                  if ( v40 )
                    goto LABEL_107;
                }
                else
                {
                  if ( v40 )
                    goto LABEL_107;
                  *(_DWORD *)(*(_DWORD *)v39 + 12) |= 2u;
                }
                HwcBandwidth::HwcBandwidth((HwcBandwidth *)&v104, 0, *(_DWORD *)(v4 + 348));
                if ( *(_DWORD *)(*(_DWORD *)v39 + 12) & 4 )
                {
                  v83 = *(_DWORD *)(v4 + 332);
                  v84 = *(_BYTE *)(v83 + 78);
                  v85 = HwcConfig::GetPlatform((HwcConfig *)v83);
                  v86 = *(void (**)(void))(*(_DWORD *)(*(int (**)(void))(*(_DWORD *)v85 + 20))() + 16);
                  v86();
                  if ( *(_DWORD *)(*(_DWORD *)v39 + 16) > 4u )
                  {
                    v88 = HwcConfig::GetPlatform(*(HwcConfig **)v39);
                    v89 = (*(int (**)(void))(*(_DWORD *)v88 + 20))();
                    (*(void (**)(void))(*(_DWORD *)v89 + 20))();
                  }
                }
                else
                {
                  v90 = HwcConfig::GetPlatform(*(HwcConfig **)v39);
                  v91 = (*(int (**)(void))(*(_DWORD *)v90 + 20))();
                  (*(void (**)(void))(*(_DWORD *)v91 + 16))();
                }
                if ( !*(_BYTE *)(v4 + 344) )
                {
                  v92 = *(_DWORD *)(v4 + 332);
                  if ( *(_BYTE *)(v92 + 76) )
                    HwcBandwidth::UpdateDelayedDdrRequest((HwcBandwidth *)&v104, *(_BYTE *)(v92 + 76), v92, v87);
                }
                HwcBandwidth::~HwcBandwidth((HwcBandwidth *)&v104);
LABEL_107:
                v40 = (HwcConfig *)((char *)v40 + 1);
                ++v38;
                v41 = (HwcConfig *)((char *)v94 + 1);
                v94 = (HwcConfig *)((char *)v94 + 1);
              }
            }
            v15 = *(_DWORD *)(v14 + 4);
            if ( v15 )
            {
              v12 = *(_DWORD *)(v15 + 20);
              if ( v12 == 1 )
                v16 = 6;
              else
                v16 = 7;
              goto LABEL_46;
            }
          }
        }
        v16 = 7;
        goto LABEL_46;
      }
LABEL_27:
      if ( *(_BYTE *)(v4 + 352) )
      {
        v17 = HwcConfig::GetPlatform((HwcConfig *)v12);
        v18 = (*(int (**)(void))(*(_DWORD *)v17 + 8))();
        v12 = (*(int (**)(void))(*(_DWORD *)v18 + 28))();
        if ( v12 )
        {
          v16 = 2;
        }
        else
        {
          v12 = *(_DWORD *)(v4 + 332);
          v19 = *(_DWORD *)v3;
          if ( v12 )
          {
            v20 = *(_BYTE *)(v12 + 78);
            if ( !*(_BYTE *)(v12 + 78) )
            {
              v21 = *(_DWORD *)(v19 + 16);
              _R3 = (_DWORD *)(v19 + 72);
              v23 = v21 - 1;
              while ( v20 < v23 )
              {
                if ( !(*(_R3 - 11) & 0x100) )
                {
                  v24 = *(_R3 - 1) - *(_R3 - 3);
                  if ( *(_R3 - 9) & 4 )
                  {
                    __asm
                    {
                      VLDR            S5, [R3,#-0x10]
                      VLDR            S7, [R3,#-0x18]
                      VCVTR.S32.F32   S6, S5
                      VCVTR.S32.F32   S8, S7
                      VMOV            R7, S6
                      VMOV            R5, S8
                    }
                    v12 = _R7 - _R5;
                    if ( v24 != _R7 - _R5 )
                      goto LABEL_28;
                    __asm
                    {
                      VLDR            S9, [R3,#-0x14]
                      VLDR            S4, [R3,#-0x1C]
                    }
                    v12 = *_R3 - *(_R3 - 2);
                    __asm { VCVTR.S32.F32   S3, S9 }
                  }
                  else
                  {
                    __asm
                    {
                      VLDR            S15, [R3,#-0x14]
                      VLDR            S14, [R3,#-0x1C]
                      VCVTR.S32.F32   S0, S15
                      VCVTR.S32.F32   S1, S14
                      VMOV            R7, S0
                      VMOV            R5, S1
                    }
                    v12 = _R7 - _R5;
                    if ( v24 != _R7 - _R5 )
                      goto LABEL_28;
                    __asm
                    {
                      VLDR            S2, [R3,#-0x10]
                      VLDR            S4, [R3,#-0x18]
                      VCVTR.S32.F32   S3, S2
                    }
                    v12 = *_R3 - *(_R3 - 2);
                  }
                  __asm
                  {
                    VCVTR.S32.F32   S10, S4
                    VMOV            R7, S3
                    VMOV            R1, S10
                  }
                  if ( v12 != _R7 - _R1 )
                    goto LABEL_28;
                }
                ++v20;
                _R3 += 28;
              }
            }
          }
          v16 = 1;
        }
      }
      else
      {
LABEL_28:
        v16 = 0;
      }
      goto LABEL_46;
    }
LABEL_13:
    v13 = 0;
    goto LABEL_16;
  }
  if ( HwcConfig::GetDebugLevel(v10) >= 0 )
    _android_log_print(6, "hwcomposer", "%s:%d: NULL Pointer, pdev = %p, display = %p", "hwc_prepare", 324, v4, v3);
  v73 = -22;
LABEL_138:
  sub_10AE8(&v99, v11);
  return v73;
}
// 64: found interdependent unknown calls
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E064: using guessed type int __cdecl atrace_setup(_DWORD, _DWORD);
// E07C: using guessed type int __fastcall atrace_begin_body(_DWORD);

//----- (00011548) --------------------------------------------------------
unsigned int __fastcall sub_11548(int a1, int a2, int a3)
{
  int v3; // r8@1
  int v4; // r6@1
  int v5; // r5@1
  unsigned int v6; // r4@1
  unsigned int result; // r0@2
  int v8; // r0@3
  int v9; // r3@3
  int v10; // r2@3
  int v11; // r0@3
  int v12; // r1@3
  int v13; // r3@3
  int v14; // r1@5
  int v15; // r2@5
  int v16; // r3@5
  int i; // [sp+4h] [bp-4Ch]@1
  int v18; // [sp+8h] [bp-48h]@1
  int v19; // [sp+Ch] [bp-44h]@1
  int v20; // [sp+10h] [bp-40h]@1
  int v21; // [sp+14h] [bp-3Ch]@5
  int v22; // [sp+18h] [bp-38h]@5
  int v23; // [sp+1Ch] [bp-34h]@5
  int v24; // [sp+20h] [bp-30h]@5
  char v25; // [sp+24h] [bp-2Ch]@5

  v3 = a1;
  v4 = a2;
  v5 = a3;
  android::Region::clear(a2);
  v6 = 0;
  v20 = 0;
  v18 = 0;
  v19 = 0;
  for ( i = 0; ; android::Region::orSelf(v4, &i) )
  {
    result = *(_DWORD *)(v3 + 56);
    if ( v6 >= result )
      break;
    v8 = 16 * v6++;
    v9 = *(_DWORD *)(v3 + 60) + v8;
    v10 = *(_DWORD *)v9;
    v11 = *(_DWORD *)(v9 + 4);
    v12 = *(_DWORD *)(v9 + 8);
    v13 = *(_DWORD *)(v9 + 12);
    i = v10;
    v18 = v11;
    v19 = v12;
    v20 = v13;
  }
  if ( v5 )
  {
    v14 = *(_DWORD *)(v5 + 4);
    v15 = *(_DWORD *)(v5 + 8);
    v16 = *(_DWORD *)(v5 + 12);
    v21 = *(_DWORD *)v5;
    v22 = v14;
    v23 = v15;
    v24 = v16;
    android::Region::intersect(&v25, v4, &v21);
    android::Region::~Region(&v25);
    result = android::Region::translateSelf(v4, -v21, -v22);
  }
  return result;
}
// E244: using guessed type int __fastcall android::Region::clear(_DWORD);
// E250: using guessed type int __fastcall android::Region::orSelf(_DWORD, _DWORD);
// E25C: using guessed type int __fastcall android::Region::intersect(_DWORD, _DWORD, _DWORD);
// E268: using guessed type int __fastcall android::Region::~Region(_DWORD);
// E274: using guessed type int __fastcall android::Region::translateSelf(_DWORD, _DWORD, _DWORD);

//----- (000115CA) --------------------------------------------------------
unsigned int __fastcall sub_115CA(unsigned int *a1)
{
  unsigned int v1; // r3@2

  __dmb();
  do
    v1 = __ldrex(a1);
  while ( __strex(v1 + 1, a1) );
  return v1;
}

//----- (000115E0) --------------------------------------------------------
_DWORD *__fastcall sub_115E0(_DWORD *a1, int a2, unsigned int **a3)
{
  _DWORD *v3; // r6@1
  unsigned int **v4; // r7@1
  int v5; // r5@1
  int v6; // r4@1
  unsigned int *v7; // r0@1
  _DWORD *result; // r0@3

  v3 = a1;
  v4 = a3;
  v5 = a2;
  v6 = operator new(0xCu);
  v7 = *v4;
  *(_DWORD *)v6 = *v4;
  if ( v7 )
    sub_115CA(v7);
  *(_DWORD *)(v6 + 8) = *(_DWORD *)v5;
  result = v3;
  *(_DWORD *)(v6 + 4) = *(_DWORD *)(*(_DWORD *)v5 + 4);
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)v5 + 4) + 8) = v6;
  *(_DWORD *)(*(_DWORD *)v5 + 4) = v6;
  *v3 = v6;
  return result;
}

//----- (00011614) --------------------------------------------------------
int __fastcall sub_11614(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r1@1
  int v4; // r0@1
  int v5; // t0@1
  int v6; // r1@1
  int v7; // r2@1
  int v8; // r3@1

  v2 = a1;
  v3 = *(_DWORD *)(a2 + 4) + 16 * (*(_DWORD *)(a2 + 8) - 1);
  v4 = *(_DWORD *)v3;
  v5 = v3 + 4;
  v6 = *(_DWORD *)(v3 + 4);
  v5 += 4;
  v7 = *(_DWORD *)v5;
  v8 = *(_DWORD *)(v5 + 4);
  *(_DWORD *)v2 = v4;
  *(_DWORD *)(v2 + 4) = v6;
  *(_DWORD *)(v2 + 8) = v7;
  *(_DWORD *)(v2 + 12) = v8;
  return v2;
}

//----- (0001162C) --------------------------------------------------------
signed int __fastcall sub_1162C(int a1, int a2, int a3, int a4)
{
  signed int result; // r0@2
  int v5; // [sp+0h] [bp-18h]@1
  int v6; // [sp+4h] [bp-14h]@1
  int v7; // [sp+8h] [bp-10h]@1
  int v8; // [sp+Ch] [bp-Ch]@1

  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = a4;
  sub_11614((int)&v5, a1);
  if ( v7 - v5 <= 0 )
    result = 1;
  else
    result = v8 - v6 <= 0;
  return result;
}

//----- (00011658) --------------------------------------------------------
int __fastcall sub_11658(int result)
{
  if ( result )
  {
    if ( *(_DWORD *)result != 12 || *(_DWORD *)(result + 8) != 48 || *(_DWORD *)(result + 4) != 1 )
    {
      result = 0;
    }
    else if ( *(_DWORD *)(result + 16) != 51647890 )
    {
      result = 0;
    }
  }
  return result;
}

//----- (00011680) --------------------------------------------------------
_DWORD *__fastcall HwcLayerInfo::HwcLayerInfo(_DWORD *a1, const void *a2, int a3)
{
  _DWORD *v3; // r4@1
  const void *v4; // r6@1
  int v5; // r0@1
  void *v6; // r0@1

  v3 = a1;
  v4 = a2;
  *a1 = 0;
  v5 = (int)(a1 + 38);
  *(_DWORD *)(v5 - 36) = 0;
  *(_DWORD *)(v5 - 32) = 0;
  *(_DWORD *)(v5 + 36) = 0;
  *(_DWORD *)(v5 - 28) = 0;
  *(_DWORD *)(v5 + 40) = 0;
  *(_DWORD *)(v5 + 52) = 0;
  v3[49] = a2;
  *(_DWORD *)(v5 - 4) = a3;
  *(_DWORD *)(v5 + 32) = 0;
  *(_BYTE *)(v5 - 8) = 0;
  *(_BYTE *)(v5 - 7) = 0;
  *(_DWORD *)(v5 + 48) = 0;
  memset((void *)v5, 0, 0x10u);
  memset(v3 + 42, 0, 0x10u);
  memset(v3 + 32, 0, 0x10u);
  v6 = v3 + 1;
  if ( v4 )
    memcpy(v6, v4, 0x70u);
  else
    memset(v6, 0, 0x70u);
  return v3;
}

//----- (000116E8) --------------------------------------------------------
int __fastcall HwcLayerInfo::HwcLayerInfo(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r0@1
  int result; // r0@1

  v2 = a1;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 116) = 0;
  v3 = a1 + 152;
  *(_DWORD *)(v3 - 32) = 0;
  *(_DWORD *)(v3 + 36) = 0;
  *(_DWORD *)(v3 - 28) = 0;
  *(_DWORD *)(v3 + 40) = 0;
  *(_DWORD *)(v3 + 52) = 0;
  *(_DWORD *)(v3 + 44) = 0;
  *(_DWORD *)(v3 + 32) = 0;
  *(_DWORD *)(v3 - 4) = -1;
  *(_BYTE *)(v3 - 8) = 0;
  *(_BYTE *)(v3 - 7) = 0;
  *(_DWORD *)(v3 + 48) = a2;
  memset((void *)v3, 0, 0x10u);
  memset((void *)(v2 + 168), 0, 0x10u);
  memset((void *)(v2 + 128), 0, 0x10u);
  memset((void *)(v2 + 4), 0, 0x70u);
  *(_DWORD *)(v2 + 68) = -1;
  result = v2;
  *(_DWORD *)(v2 + 72) = -1;
  *(_DWORD *)(v2 + 24) = 256;
  return result;
}

//----- (00011752) --------------------------------------------------------
void __fastcall sub_11752(unsigned int *a1)
{
  unsigned int *v1; // r4@1
  unsigned int v2; // r3@2

  v1 = a1;
  __dmb();
  do
    v2 = __ldrex(a1);
  while ( __strex(v2 - 1, a1) );
  if ( v2 == 1 )
  {
    if ( a1 )
    {
      android::Vector<HwcPolicy *>::do_construct();
      j_operator delete(v1);
    }
  }
}

//----- (00011780) --------------------------------------------------------
HwcConfig *__fastcall HwcLayerInfo::UpdateBuffer(HwcLayerInfo *this, int a2, int a3, int a4)
{
  HwcLayerInfo *v4; // r4@1
  int v5; // r3@1
  HwcConfig *v6; // r0@2
  HwcConfig *result; // r0@5
  int v8; // r1@8
  int v9; // [sp+Ch] [bp-Ch]@1

  v9 = a4;
  v4 = this;
  v5 = *((_DWORD *)this + 49);
  if ( v5 )
  {
    *((_DWORD *)this + 4) = *(_DWORD *)(v5 + 12);
    v6 = (HwcConfig *)*((_DWORD *)this + 6);
    if ( v6 != *(HwcConfig **)(v5 + 20) && HwcConfig::GetDebugLevel(v6) > 0 )
      _android_log_print(
        5,
        "hwcomposer",
        "%s:%d: blending change %d->%d",
        "UpdateBuffer",
        313,
        *((_DWORD *)v4 + 6),
        *(_DWORD *)(*((_DWORD *)v4 + 49) + 20),
        v9);
    result = *(HwcConfig **)(*((_DWORD *)v4 + 49) + 16);
    if ( *((HwcConfig **)v4 + 5) != result )
    {
      result = (HwcConfig *)HwcConfig::GetDebugLevel(result);
      if ( (signed int)result > 0 )
        result = (HwcConfig *)_android_log_print(
                                5,
                                "hwcomposer",
                                "%s:%d: transform change %d->%d",
                                "UpdateBuffer",
                                315,
                                *((_DWORD *)v4 + 5),
                                *(_DWORD *)(*((_DWORD *)v4 + 49) + 16),
                                v9);
    }
    v8 = *((_DWORD *)v4 + 49);
    *((_DWORD *)v4 + 17) = *(_DWORD *)(v8 + 64);
    *((_DWORD *)v4 + 18) = *(_DWORD *)(v8 + 68);
  }
  else
  {
    result = (HwcConfig *)*((_DWORD *)this + 50);
    if ( result )
    {
      result = (HwcConfig *)HwcMem::getBuffer(result);
      *((_DWORD *)v4 + 4) = result;
    }
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00011834) --------------------------------------------------------
int __fastcall HwcLayerInfo::FeedbackCompositionType(int result, int a2, int a3)
{
  signed int *v3; // r3@1
  signed int v4; // r2@4
  int v5; // [sp+4h] [bp-Ch]@1
  int v6; // [sp+8h] [bp-8h]@1

  v5 = a2;
  v6 = a3;
  v3 = *(signed int **)(result + 196);
  if ( v3 )
  {
    v4 = *(_BYTE *)(result + 144);
    if ( *(_BYTE *)(result + 144) )
      v4 = 1;
    *v3 = v4;
  }
  else
  {
    result = HwcConfig::GetDebugLevel((HwcConfig *)result);
    if ( result > 0 )
      result = _android_log_print(
                 5,
                 "hwcomposer",
                 "%s:%d: SF source layer's originalLayer should not be NULL",
                 "FeedbackCompositionType",
                 328,
                 v5,
                 v6);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001187C) --------------------------------------------------------
signed int __fastcall HwcLayerInfo::GetAcquireFenceFd(HwcLayerInfo *this)
{
  int v1; // r3@1
  signed int result; // r0@2

  v1 = *((_DWORD *)this + 49);
  if ( v1 )
  {
    result = *(_DWORD *)(v1 + 64);
  }
  else if ( *((_DWORD *)this + 4) )
  {
    result = *((_DWORD *)this + 17);
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00011894) --------------------------------------------------------
int __fastcall HwcLayerInfo::CloseAcquireFenceFd(HwcLayerInfo *this)
{
  HwcLayerInfo *v1; // r4@1
  int v2; // r3@1
  int result; // r0@2

  v1 = this;
  v2 = *((_DWORD *)this + 49);
  if ( v2 )
  {
    result = *(_DWORD *)(v2 + 64);
    if ( result >= 0 )
    {
      result = close(result);
      *(_DWORD *)(*((_DWORD *)v1 + 49) + 64) = -1;
    }
  }
  else
  {
    result = *((_DWORD *)this + 4);
    if ( result )
    {
      result = *((_DWORD *)v1 + 17);
      if ( result >= 0 )
      {
        result = close(result);
        *((_DWORD *)v1 + 17) = -1;
      }
    }
  }
  return result;
}

//----- (000118CA) --------------------------------------------------------
int __fastcall HwcLayerInfo::SetReleaseFenceFd(HwcLayerInfo *this, int a2, int a3)
{
  HwcLayerInfo *v3; // r4@1
  int v4; // r3@1
  int result; // r0@1
  int v6; // r3@3

  v3 = this;
  v4 = *((_DWORD *)this + 4);
  result = a2;
  if ( v4 )
  {
    v6 = *((_DWORD *)v3 + 49);
    if ( v6 )
    {
      if ( *((_DWORD *)v3 + 1) == 4 )
      {
        close(a2);
        result = *((_DWORD *)v3 + 49);
        *(_DWORD *)(result + 68) = -1;
      }
      else
      {
        *(_DWORD *)(v6 + 68) = a2;
      }
    }
    else
    {
      result = *((_DWORD *)v3 + 50);
      if ( result )
        result = j_j_j__ZN6HwcMem15setReleaseFenceEi((HwcMem *)result, a2, a3);
    }
  }
  else
  {
    result = j_j_close(a2);
  }
  return result;
}

//----- (0001190C) --------------------------------------------------------
void *__fastcall HwcLayerInfo::CalcLayerMaskRect(int a1, int a2)
{
  int v3; // r7@1
  int v4; // r8@2
  void *result; // r0@3
  int v10; // r1@4
  int v11; // r2@4
  int v12; // r4@4
  int v13; // r1@4
  int v14; // r2@4
  int v15; // r3@4
  int v16; // r9@6
  int v17; // r10@6
  int v18; // r11@6
  int v19; // r4@7
  int v20; // r0@9
  HwcConfig *v21; // r4@13
  float v22; // r4@13
  float v23; // r5@13
  int v24; // r7@13
  HwcConfig *v25; // r0@13
  int v26; // r1@15
  int v27; // r5@16
  signed int v28; // r2@17
  signed int v29; // r4@18
  int v30; // r12@22
  int v31; // r3@22
  int v32; // lr@25
  signed int v33; // r0@27
  int v34; // r1@27
  int v35; // r0@29
  int v36; // lr@31
  int v37; // lr@32
  int v38; // lr@33
  int v39; // r7@35
  signed int v40; // r0@42
  unsigned int v41; // r4@42
  signed int v42; // r2@43
  HwcConfig *v43; // r0@46
  int v44; // r7@50
  int v45; // r0@50
  int v46; // r5@50
  HwcConfig *v47; // [sp+3Ch] [bp-104h]@13
  float v48; // [sp+44h] [bp-FCh]@13
  int v49; // [sp+48h] [bp-F8h]@13
  int v50; // [sp+4Ch] [bp-F4h]@13
  HwcConfig *v51; // [sp+50h] [bp-F0h]@13
  int v52; // [sp+54h] [bp-ECh]@13
  int v53; // [sp+58h] [bp-E8h]@13
  float v54; // [sp+5Ch] [bp-E4h]@13
  char v55; // [sp+60h] [bp-E0h]@47
  int v56; // [sp+64h] [bp-DCh]@47
  int v57; // [sp+68h] [bp-D8h]@47
  int v58; // [sp+6Ch] [bp-D4h]@47
  int v59; // [sp+74h] [bp-CCh]@4
  int v60; // [sp+78h] [bp-C8h]@4
  int v61; // [sp+7Ch] [bp-C4h]@4
  HwcConfig *v62; // [sp+80h] [bp-C0h]@4
  float v63; // [sp+84h] [bp-BCh]@13
  float v64; // [sp+88h] [bp-B8h]@13
  float v65; // [sp+8Ch] [bp-B4h]@13
  float v66; // [sp+90h] [bp-B0h]@13
  char v67; // [sp+94h] [bp-ACh]@6
  int v68; // [sp+98h] [bp-A8h]@6
  int v69; // [sp+9Ch] [bp-A4h]@6
  int v70; // [sp+A0h] [bp-A0h]@6
  int v71; // [sp+A4h] [bp-9Ch]@13
  int v72; // [sp+A8h] [bp-98h]@13
  int v73; // [sp+ACh] [bp-94h]@13
  int v74; // [sp+B0h] [bp-90h]@13
  char v75; // [sp+B4h] [bp-8Ch]@4
  int v76; // [sp+BCh] [bp-84h]@5
  char v77; // [sp+C8h] [bp-78h]@4
  char v78; // [sp+DCh] [bp-64h]@13
  char v79; // [sp+F0h] [bp-50h]@13
  int v80; // [sp+F8h] [bp-48h]@46
  char v81; // [sp+104h] [bp-3Ch]@46

  _R6 = a1;
  v3 = a2;
  if ( *(_DWORD *)(a1 + 16) && (v4 = *(_DWORD *)(a1 + 124) & 0x100) == 0 )
  {
    __asm
    {
      VLDR            S15, [R6,#0x1C]
      VLDR            S1, [R6,#0x20]
      VLDR            S3, [R6,#0x24]
      VLDR            S5, [R6,#0x28]
    }
    v10 = *(_DWORD *)(a1 + 44);
    __asm { VCVTR.S32.F32   S0, S15 }
    v11 = *(_DWORD *)(a1 + 48);
    __asm { VCVTR.S32.F32   S2, S1 }
    v12 = *(_DWORD *)(a1 + 52);
    __asm { VCVTR.S32.F32   S4, S3 }
    v62 = *(HwcConfig **)(a1 + 56);
    __asm { VCVTR.S32.F32   S6, S5 }
    v59 = v10;
    v60 = v11;
    v61 = v12;
    __asm
    {
      VSTR            S0, [SP,#0x140+var_BC]
      VSTR            S2, [SP,#0x140+var_B8]
      VSTR            S4, [SP,#0x140+var_B4]
      VSTR            S6, [SP,#0x140+var_B0]
    }
    android::Region::Region(&v75, &v59);
    android::Region::Region(&v77);
    sub_11548(_R6 + 4, (int)&v77, v3);
    android::Region::subtractSelf(&v75, &v77);
    if ( sub_1162C((int)&v75, v13, v14, v15) )
    {
      v18 = 0;
      v17 = 0;
      v16 = 0;
    }
    else if ( v76 == 1 )
    {
      sub_11614((int)&v67, (int)&v75);
      v16 = *(_DWORD *)&v67;
      v17 = v68;
      v18 = v69;
      v4 = v70;
    }
    else
    {
      v4 = 0;
      v19 = android::Region::begin(&v75);
      v18 = 0;
      v17 = 0;
      v16 = 0;
      while ( v19 != android::Region::end(&v75) )
      {
        v20 = *(_DWORD *)(v19 + 8);
        v19 += 16;
        if ( (*(_DWORD *)(v19 - 4) - *(_DWORD *)(v19 - 12)) * (v20 - *(_DWORD *)(v19 - 16)) > (v4 - v17) * (v18 - v16) )
        {
          v16 = *(_DWORD *)(v19 - 16);
          v17 = *(_DWORD *)(v19 - 12);
          v18 = v20;
          v4 = *(_DWORD *)(v19 - 4);
        }
      }
    }
    v71 = 0;
    v21 = *(HwcConfig **)(_R6 + 20);
    v72 = 0;
    v54 = v66;
    v48 = v64;
    v50 = v59;
    v53 = v18 - v16;
    v52 = v60;
    v47 = v21;
    v22 = v63;
    v73 = 0;
    v74 = 0;
    v23 = v65;
    v49 = v61;
    v24 = v4 - v17;
    v51 = v62;
    android::Region::Region(&v78, &v63);
    v25 = (HwcConfig *)android::Region::Region(&v79, &v71);
    if ( v18 - v16 > 0 && v24 > 0 )
    {
      v26 = LODWORD(v23) - LODWORD(v22);
      if ( LODWORD(v23) - LODWORD(v22) > 0
        && (v27 = LODWORD(v54) - LODWORD(v48), LODWORD(v54) - LODWORD(v48) > 0)
        && (v25 = (HwcConfig *)v50, v28 = v49 - v50, v49 - v50 > 0)
        && (v25 = v51, v29 = (signed int)v51 - v52, (signed int)v51 - v52 > 0) )
      {
        if ( (unsigned __int8)v47 & 4 )
        {
          v30 = (v26 * v24 - v29 + 1) / v29;
          v31 = (v53 * v27 - v28 + 1) / v28;
        }
        else
        {
          v30 = (v53 * v26 - v28 + 1) / v28;
          v31 = (v24 * v27 - v29 + 1) / v29;
        }
        switch ( v47 )
        {
          case 0u:
            v32 = v16 - v59;
            goto LABEL_27;
          case 1u:
            v32 = v61 - v18;
LABEL_27:
            v33 = v28 + v32 * v26 - 1;
            v34 = v17 - v60;
            v71 = v33 / v28 + LODWORD(v63);
            goto LABEL_28;
          case 2u:
            v35 = v16 - v59;
            goto LABEL_31;
          case 3u:
            v35 = v61 - v18;
LABEL_31:
            v36 = v28 + v35 * v26;
            v34 = (int)v62 - v4;
            v71 = (v36 - 1) / v28 + LODWORD(v63);
LABEL_28:
            v72 = (v29 + v34 * v27 - 1) / v29 + LODWORD(v64);
            goto LABEL_42;
          case 4u:
            v37 = v17 - v60;
            goto LABEL_35;
          case 7u:
            v38 = (int)v62 - v4;
            goto LABEL_37;
          case 5u:
            v37 = (int)v62 - v4;
LABEL_35:
            v39 = v61 - v18;
            v71 = (v29 + v37 * v26 - 1) / v29 + LODWORD(v63);
            goto LABEL_38;
          case 6u:
            v38 = v17 - v60;
LABEL_37:
            v39 = v16 - v59;
            v71 = (v29 + v38 * v26 - 1) / v29 + LODWORD(v63);
LABEL_38:
            v72 = (v28 + v39 * v27 - 1) / v28 + LODWORD(v64);
LABEL_42:
            v40 = (v30 - 2) & 0xFFFFFFFE;
            v41 = (v72 + 1) & 0xFFFFFFFE;
            v71 = (v71 + 1) & 0xFFFFFFFE;
            v72 = (v72 + 1) & 0xFFFFFFFE;
            v73 = v71 + v40;
            if ( v40 <= 0 || (v42 = (v31 - 2) & 0xFFFFFFFE, v42 <= 0) )
            {
              v74 = 0;
              v73 = 0;
              v72 = 0;
              v71 = 0;
            }
            else
            {
              v74 = v42 + v41;
            }
            android::Region::set(&v79, &v71);
            android::Region::intersect(&v81, &v79, &v78);
            v43 = (HwcConfig *)android::Region::~Region(&v81);
            if ( v80 == 1 )
            {
              sub_11614((int)&v55, (int)&v79);
              v71 = *(_DWORD *)&v55;
              v72 = v56;
              v73 = v57;
              v74 = v58;
            }
            else
            {
              if ( HwcConfig::GetDebugLevel(v43) >= 0 )
                _android_log_print(
                  6,
                  "hwcomposer",
                  "%s:%d: Can't find a maskrect in {%d %d %d %d}{%d %d %d %d}{%d %d %d %d}",
                  "GetSourceMaskRect",
                  241,
                  v63,
                  v64,
                  v65,
                  v66,
                  v59,
                  v60,
                  v61,
                  v62,
                  v16,
                  v17,
                  v18,
                  v4);
LABEL_41:
              v74 = 0;
              v73 = 0;
              v72 = 0;
              v71 = 0;
            }
            break;
          default:
            if ( HwcConfig::GetDebugLevel(v47) >= 0 )
              _android_log_print(6, "hwcomposer", "%s:%d: transform is not surport %d", "GetSourceMaskRect", 209, v47);
            goto LABEL_41;
        }
      }
      else if ( HwcConfig::GetDebugLevel(v25) >= 0 )
      {
        _android_log_print(
          6,
          "hwcomposer",
          "%s:%d: sourceCrop{%d %d %d %d} or displayFrame{%d %d %d %d} err",
          "GetSourceMaskRect",
          147,
          v63,
          v64,
          v65,
          v66,
          v59,
          v60,
          v61,
          v62);
      }
    }
    android::Region::~Region(&v79);
    android::Region::~Region(&v78);
    v44 = v72 & ~(v72 >> 31);
    v45 = v74 & ~(v74 >> 31);
    v46 = v73 & ~(v73 >> 31);
    *(_DWORD *)(_R6 + 128) = v71 & ~(v71 >> 31);
    *(_DWORD *)(_R6 + 132) = v44;
    *(_DWORD *)(_R6 + 140) = v45;
    *(_DWORD *)(_R6 + 136) = v46;
    android::Region::~Region(&v77);
    result = (void *)android::Region::~Region(&v75);
  }
  else
  {
    result = j_j_memset((void *)(a1 + 128), 0, 0x10u);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E268: using guessed type int __fastcall android::Region::~Region(_DWORD);
// E2B0: using guessed type int __fastcall android::Region::Region(_DWORD, _DWORD);
// E2BC: using guessed type int __fastcall android::Region::Region(_DWORD);
// E2C8: using guessed type int __fastcall android::Region::subtractSelf(_DWORD, _DWORD);
// E2D4: using guessed type int __fastcall android::Region::begin(_DWORD);
// E2E0: using guessed type int __fastcall android::Region::end(_DWORD);
// E2EC: using guessed type int __fastcall android::Region::set(_DWORD, _DWORD);
// E2F8: using guessed type int __fastcall android::Region::intersect(_DWORD, _DWORD, _DWORD);

//----- (00011D34) --------------------------------------------------------
int __fastcall HwcLayerInfo::IsSame(int a1, int a2)
{
  int v2; // r2@2
  int result; // r0@3

  if ( a2 )
  {
    v2 = *(_DWORD *)(a1 + 196);
    if ( v2 == a2 )
      result = (unsigned int)(*(_DWORD *)(a1 + 16) - *(_DWORD *)(v2 + 12)) <= 0;
    else
      result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00011D54) --------------------------------------------------------
signed int __fastcall HwcLayerInfo::LayerParameterValid(HwcLayerInfo *this)
{
  signed int result; // r0@11

  _R4 = this;
  if ( *((_DWORD *)this + 3) & 0x100 )
    goto LABEL_15;
  __asm
  {
    VLDR            S15, [R0,#0x1C]
    VCMPE.F32       S15, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
    goto LABEL_16;
  __asm
  {
    VLDR            S14, [R0,#0x24]
    VCMPE.F32       S14, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
    goto LABEL_16;
  __asm
  {
    VCMPE.F32       S14, S15
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
    goto LABEL_16;
  __asm
  {
    VLDR            S0, [R0,#0x20]
    VCMPE.F32       S0, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
    goto LABEL_16;
  __asm
  {
    VLDR            S1, [R0,#0x28]
    VCMPE.F32       S1, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
    goto LABEL_16;
  __asm
  {
    VCMPE.F32       S1, S0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
  {
LABEL_16:
    if ( HwcConfig::GetDebugLevel(this) >= 0 )
    {
      __asm
      {
        VLDR            S3, [R4,#0x20]
        VLDR            S2, [R4,#0x1C]
        VCVT.F64.F32    D2, S3
        VCVT.F64.F32    D16, S2
        VSTR            D2, [SP,#0x30+var_20]
        VLDR            S5, [R4,#0x24]
        VSTR            D16, [SP,#0x30+var_28]
        VCVT.F64.F32    D3, S5
        VSTR            D3, [SP,#0x30+var_18]
        VLDR            S7, [R4,#0x28]
        VCVT.F64.F32    D4, S7
        VSTR            D4, [SP,#0x30+var_10]
      }
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: sourceCropf{%f,%f,%f,%f} has invalid param, discard it!",
        "LayerParameterValid",
        452);
    }
    result = 0;
  }
  else
  {
LABEL_15:
    result = 1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00011E14) --------------------------------------------------------
int __fastcall HwcLayerInfo::IsAlphaLayer(HwcLayerInfo *this)
{
  HwcLayerInfo *v1; // r3@1
  int result; // r0@1
  int v3; // r2@4

  v1 = this;
  result = *((_DWORD *)this + 4);
  if ( result )
  {
    if ( *((_DWORD *)v1 + 31) & 0x100 )
    {
      result = 0;
    }
    else
    {
      result = sub_11658(result);
      if ( result )
      {
        v3 = *(_DWORD *)(result + 20);
        result = v3 & 0xFFFFFFFB;
        if ( (v3 & 0xFFFFFFFB) != 1 )
          result = v3 - 12 + ((unsigned int)(v3 - 12) <= 0) - (v3 - 12);
      }
    }
  }
  return result;
}

//----- (00011E44) --------------------------------------------------------
signed int __fastcall HwcLayerInfo::IsFormatChange(int a1, int a2, int a3)
{
  int v3; // r5@1
  int v4; // r4@1
  int v5; // r0@1
  signed int result; // r0@5
  int v7; // [sp+4h] [bp-14h]@1
  int v8; // [sp+8h] [bp-10h]@1

  v7 = a2;
  v8 = a3;
  v3 = a1;
  v4 = sub_11658(*(_DWORD *)(a2 + 12));
  v5 = sub_11658(*(_DWORD *)(v3 + 16));
  if ( v5 && v4 )
  {
    result = *(_DWORD *)(v5 + 20) != *(_DWORD *)(v4 + 20);
  }
  else
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)v5) > 2 )
      _android_log_print(3, "hwcomposer", "%s:%d: handle is NULL", "IsFormatChange", 485, v7, v8);
    result = 1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00011E9C) --------------------------------------------------------
int __fastcall HwcCompInfo::CheckLastComposition(int result, const HwcCompInfo *a2)
{
  if ( a2 )
    *(_DWORD *)(result + 112) = *((_DWORD *)a2 + 28);
  return result;
}

//----- (00011EA4) --------------------------------------------------------
int __fastcall HwcCompInfo::PostPrepare(int result)
{
  int v1; // r1@2
  int v2; // r1@3

  if ( *(_BYTE *)(result + 76) )
  {
    v1 = 2;
LABEL_7:
    *(_DWORD *)(result + 112) = v1;
    return result;
  }
  v2 = *(_DWORD *)(result + 112);
  if ( v2 > 0 && (*(_BYTE *)(result + 77) || *(_BYTE *)(result + 78)) )
  {
    v1 = v2 - 1;
    goto LABEL_7;
  }
  return result;
}

//----- (00011EC6) --------------------------------------------------------
unsigned int **__fastcall android::sp<HwcLayerInfo>::~sp(unsigned int **a1)
{
  unsigned int **v1; // r4@1
  unsigned int *v2; // r0@1

  v1 = a1;
  v2 = *a1;
  if ( v2 )
    sub_11752(v2);
  return v1;
}

//----- (00011ED6) --------------------------------------------------------
int __fastcall sub_11ED6(int a1)
{
  int v1; // r5@1
  int i; // r4@1
  int result; // r0@2
  int v4; // r6@3

  v1 = a1;
  for ( i = *(_DWORD *)(*(_DWORD *)a1 + 8); ; i = v4 )
  {
    result = *(_DWORD *)v1;
    if ( i == *(_DWORD *)v1 )
      break;
    v4 = *(_DWORD *)(i + 8);
    android::sp<HwcLayerInfo>::~sp((unsigned int **)i);
    operator delete((void *)i);
  }
  *(_DWORD *)(i + 4) = i;
  *(_DWORD *)(*(_DWORD *)v1 + 8) = *(_DWORD *)v1;
  return result;
}

//----- (00011F00) --------------------------------------------------------
_DWORD *__fastcall sub_11F00(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  void *v2; // r0@1

  v1 = a1;
  *a1 = &off_2DAC8;
  sub_11ED6((int)(a1 + 1));
  v2 = (void *)v1[1];
  if ( v2 )
    operator delete[](v2);
  return v1;
}
// 2DAC8: using guessed type void *;

//----- (00011F24) --------------------------------------------------------
void *__fastcall sub_11F24(_DWORD *a1)
{
  void *v1; // r4@1

  v1 = a1;
  sub_11F00(a1);
  operator delete(v1);
  return v1;
}

//----- (00011F38) --------------------------------------------------------
int __fastcall HwcCompInfo::SetPartialUpdates(HwcCompInfo *this, HwcPartialUpdates *a2)
{
  char *v2; // r10@1
  HwcCompInfo *v3; // r5@1
  HwcPartialUpdates *v4; // r6@1
  int v5; // r1@1
  int v6; // r2@1
  int v7; // r3@1
  int i; // r4@2
  int v9; // r0@4
  int v10; // r1@4
  int v11; // r2@4
  int v12; // r1@5
  int v13; // r2@5
  int v14; // r3@5
  int v15; // r2@5
  float v16; // r3@5
  unsigned int **j; // r4@7
  unsigned int *v18; // r2@13
  unsigned int *v19; // r8@13
  int v21; // [sp+Ch] [bp-20h]@1
  int v22; // [sp+10h] [bp-1Ch]@1
  int v23; // [sp+14h] [bp-18h]@1
  int v24; // [sp+18h] [bp-14h]@1
  int v25; // [sp+1Ch] [bp-10h]@4
  int v26; // [sp+20h] [bp-Ch]@4
  int v27; // [sp+24h] [bp-8h]@4
  int v28; // [sp+28h] [bp-4h]@4
  int v29; // [sp+2Ch] [bp+0h]@1

  v2 = (char *)this + 60;
  v3 = this;
  v4 = a2;
  HwcPartialUpdates::GetDirtyRect((int *)a2, (int)this + 60);
  HwcPartialUpdates::ResetFbTargetRect((int)v4, *((_DWORD *)v3 + 13));
  v5 = *((_DWORD *)v3 + 16);
  v6 = *((_DWORD *)v3 + 17);
  v7 = *((_DWORD *)v3 + 18);
  v21 = *((_DWORD *)v3 + 15);
  v24 = v7;
  v22 = v5;
  v23 = v6;
  android::Region::Region(&v29);
  if ( !*((_BYTE *)v4 + 32) )
  {
    for ( i = *(_DWORD *)(*((_DWORD *)v3 + 4) + 8); i != *((_DWORD *)v3 + 4); i = *(_DWORD *)(i + 8) )
    {
      v9 = *(_DWORD *)(*(_DWORD *)i + 48);
      v10 = *(_DWORD *)(*(_DWORD *)i + 52);
      v11 = *(_DWORD *)(*(_DWORD *)i + 56);
      v25 = *(_DWORD *)(*(_DWORD *)i + 44);
      v26 = v9;
      v27 = v10;
      v28 = v11;
      android::Region::orSelf(&v29, &v25);
    }
    android::Region::andSelf(&v29, &v21);
    if ( sub_1162C((int)&v29, v12, v13, v14) )
    {
      HwcPartialUpdates::ResetDirtyRect(v4);
      HwcPartialUpdates::GetDirtyRect((int *)v4, (int)v2);
    }
    for ( j = *(unsigned int ***)(*((_DWORD *)v3 + 4) + 8); j != *((unsigned int ***)v3 + 4); j = (unsigned int **)j[2] )
    {
      LODWORD(v16) = (*j)[31] << 23;
      if ( !((*j)[31] & 0x100) && !HwcPartialUpdates::UpdateSourceLayer((int)v4, (int)(*j + 1)) )
      {
        if ( HwcConfig::GetDebugLevel(0) > 2 )
          _android_log_print(
            3,
            "hwcomposer",
            "%s:%d: layer[%p] is dropped by partial updates",
            "SetPartialUpdates",
            736,
            (*j)[4]);
        *((_BYTE *)*j + 144) = 1;
        *((_BYTE *)*j + 145) = 1;
        v18 = j[1];
        v19 = j[2];
        v18[2] = (unsigned int)v19;
        v19[1] = (unsigned int)v18;
        android::sp<HwcLayerInfo>::~sp(j);
        operator delete(j);
        j = (unsigned int **)v19[1];
      }
    }
    HwcPartialUpdates::UpdateFbTargetLayer(*(float *)&v4, *((float *)v3 + 13), v15, v16);
  }
  return android::Region::~Region(&v29);
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E250: using guessed type int __fastcall android::Region::orSelf(_DWORD, _DWORD);
// E268: using guessed type int __fastcall android::Region::~Region(_DWORD);
// E2BC: using guessed type int __fastcall android::Region::Region(_DWORD);
// E328: using guessed type int __fastcall android::Region::andSelf(_DWORD, _DWORD);

//----- (00012060) --------------------------------------------------------
int __fastcall HwcCompInfo::HwcCompInfo(int a1, int a2, int a3, int a4)
{
  int v4; // r4@1
  int v5; // r8@1
  unsigned int v6; // r6@1
  const void *v7; // r9@1
  int v8; // r0@1
  int v9; // r0@1
  int v10; // r0@1
  int v11; // r0@1
  int v12; // r0@1
  int v13; // r3@1
  unsigned int v14; // r1@2
  int v16; // r0@5
  int v17; // r1@6
  int v18; // r2@7
  int v19; // r0@7
  int v20; // r3@7
  int v29; // r0@12
  signed int v30; // r2@17
  int v31; // r2@29
  int v37; // [sp+0h] [bp-40h]@1
  int v38; // [sp+4h] [bp-3Ch]@12
  int v39; // [sp+Ch] [bp-34h]@1
  int v40; // [sp+10h] [bp-30h]@14
  char v41; // [sp+14h] [bp-2Ch]@14

  v4 = a1;
  v5 = a3;
  *(_DWORD *)a1 = a2;
  v6 = 0;
  v37 = a4;
  v7 = (const void *)(a3 + 20);
  *(_DWORD *)(a1 + 4) = &off_2DAC8;
  v8 = operator new[](0xCu);
  *(_DWORD *)(v4 + 8) = v8;
  *(_DWORD *)(v8 + 4) = v8;
  *(_DWORD *)(*(_DWORD *)(v4 + 8) + 8) = *(_DWORD *)(v4 + 8);
  *(_DWORD *)(v4 + 12) = &off_2DAC8;
  v9 = operator new[](0xCu);
  *(_DWORD *)(v4 + 16) = v9;
  *(_DWORD *)(v9 + 4) = v9;
  *(_DWORD *)(*(_DWORD *)(v4 + 16) + 8) = *(_DWORD *)(v4 + 16);
  *(_DWORD *)(v4 + 20) = &off_2DAE8;
  v10 = operator new[](0xCu);
  *(_DWORD *)(v4 + 24) = v10;
  *(_DWORD *)(v10 + 4) = v10;
  *(_DWORD *)(*(_DWORD *)(v4 + 24) + 8) = *(_DWORD *)(v4 + 24);
  *(_DWORD *)(v4 + 32) = &off_2DAC8;
  *(_DWORD *)(v4 + 28) = 0;
  v11 = operator new[](0xCu);
  *(_DWORD *)(v4 + 36) = v11;
  *(_DWORD *)(v11 + 4) = v11;
  *(_DWORD *)(*(_DWORD *)(v4 + 36) + 8) = *(_DWORD *)(v4 + 36);
  *(_DWORD *)(v4 + 40) = &off_2DAD8;
  v12 = operator new[](0xCu);
  *(_DWORD *)(v4 + 44) = v12;
  *(_DWORD *)(v12 + 4) = v12;
  v13 = *(_DWORD *)(v4 + 44);
  v39 = 0;
  *(_DWORD *)(v13 + 8) = v13;
  *(_DWORD *)(v4 + 48) = 0;
  *(_DWORD *)(v4 + 56) = 0;
  *(_DWORD *)(v4 + 100) = v5;
  *(_DWORD *)(v4 + 104) = 0;
  *(_BYTE *)(v4 + 108) = 0;
  while ( 1 )
  {
    v14 = *(_DWORD *)(v5 + 16) - 1;
    if ( v6 >= v14 )
      break;
    _R5 = operator new(0xD0u);
    HwcLayerInfo::HwcLayerInfo((_DWORD *)_R5, v7, v6);
    sub_115CA((unsigned int *)_R5);
    if ( v39 )
      sub_11752((unsigned int *)v39);
    v16 = *(_DWORD *)(_R5 + 12);
    v39 = _R5;
    if ( v16 & 0x100 )
    {
      v17 = 256;
      goto LABEL_13;
    }
    v18 = *(_DWORD *)(_R5 + 52);
    v19 = *(_DWORD *)(_R5 + 44);
    v20 = *(_DWORD *)(_R5 + 20) & 4;
    if ( v20 )
    {
      __asm
      {
        VLDR            S6, [R5,#0x28]
        VLDR            S8, [R5,#0x20]
        VCVTR.S32.F32   S7, S6
        VCVTR.S32.F32   S9, S8
        VMOV            R1, S7
        VMOV            R3, S9
      }
      if ( v18 - v19 == _R1 - _R3 )
      {
        __asm
        {
          VLDR            S10, [R5,#0x24]
          VLDR            S12, [R5,#0x1C]
          VCVTR.S32.F32   S11, S10
          VCVTR.S32.F32   S13, S12
          VMOV            R1, S11
          VMOV            R0, S13
        }
        _ZF = *(_DWORD *)(_R5 + 56) - *(_DWORD *)(_R5 + 48) == _R1 - _R0;
        v20 = 2;
        goto LABEL_10;
      }
      v20 = 2;
    }
    else
    {
      __asm { VLDR            S15, [R5,#0x24] }
      v31 = v18 - v19;
      __asm
      {
        VLDR            S14, [R5,#0x1C]
        VCVTR.S32.F32   S0, S15
        VCVTR.S32.F32   S1, S14
        VMOV            R0, S0
        VMOV            R1, S1
      }
      if ( v31 == _R0 - _R1 )
      {
        __asm
        {
          VLDR            S2, [R5,#0x28]
          VLDR            S4, [R5,#0x20]
          VCVTR.S32.F32   S3, S2
          VCVTR.S32.F32   S5, S4
          VMOV            R0, S3
          VMOV            R2, S5
        }
        _ZF = *(_DWORD *)(_R5 + 56) - *(_DWORD *)(_R5 + 48) == _R0 - _R2;
LABEL_10:
        if ( _ZF )
          goto LABEL_12;
        goto LABEL_32;
      }
    }
LABEL_32:
    v20 |= 8u;
LABEL_12:
    v38 = v20;
    v29 = sub_11658(*(_DWORD *)(_R5 + 16));
    v17 = v38;
    if ( !v29 )
      goto LABEL_13;
    v30 = *(_DWORD *)(v29 + 20);
    if ( v30 <= 258 )
    {
      if ( v30 <= 256 )
      {
        if ( v30 < 16 || v30 > 17 && v30 != 256 )
          goto LABEL_13;
LABEL_27:
        v17 = v38 | 0x10;
        goto LABEL_13;
      }
LABEL_28:
      v17 = v38 | 0x20;
      goto LABEL_13;
    }
    if ( v30 < 262 )
      goto LABEL_13;
    if ( v30 < 266 )
      goto LABEL_27;
    if ( v30 == 842094169 )
      goto LABEL_28;
LABEL_13:
    *(_DWORD *)(_R5 + 124) = v17;
    if ( HwcLayerInfo::LayerParameterValid((HwcLayerInfo *)_R5) )
    {
      v40 = *(_DWORD *)(v4 + 16);
      sub_115E0(&v41, (int)&v40, (unsigned int **)&v39);
    }
    else
    {
      *(_BYTE *)(v39 + 144) = 1;
    }
    ++v6;
    v7 = (char *)v7 + 112;
    v40 = *(_DWORD *)(v4 + 8);
    sub_115E0(&v41, (int)&v40, (unsigned int **)&v39);
  }
  *(_BYTE *)(v4 + 76) = 0;
  *(_BYTE *)(v4 + 77) = 0;
  *(_BYTE *)(v4 + 78) = 0;
  *(_BYTE *)(v4 + 79) = 0;
  *(_BYTE *)(v4 + 80) = 0;
  *(_DWORD *)(v4 + 52) = v5 + 112 * v14 + 20;
  *(_BYTE *)(v4 + 84) = 0;
  *(_DWORD *)(v4 + 88) = 0;
  *(_BYTE *)(v4 + 81) = 0;
  *(_BYTE *)(v4 + 82) = 0;
  *(_BYTE *)(v4 + 83) = 0;
  *(_BYTE *)(v4 + 92) = 0;
  *(_DWORD *)(v4 + 112) = 0;
  *(_DWORD *)(v4 + 96) = v37;
  *(_BYTE *)(v4 + 93) = 0;
  android::sp<HwcLayerInfo>::~sp((unsigned int **)&v39);
  return v4;
}
// 2DAC8: using guessed type void *off_2DAC8;
// 2DAD8: using guessed type void *off_2DAD8;
// 2DAE8: using guessed type void *off_2DAE8;

//----- (000122B4) --------------------------------------------------------
unsigned int **__fastcall android::sp<HwcLayerInfo>::operator=(unsigned int **a1, unsigned int **a2)
{
  unsigned int **v2; // r4@1
  unsigned int *v3; // r5@1

  v2 = a1;
  v3 = *a2;
  if ( *a2 )
    sub_115CA(*a2);
  if ( *v2 )
    sub_11752(*v2);
  *v2 = v3;
  return v2;
}

//----- (000122D0) --------------------------------------------------------
unsigned int **__fastcall HwcCompInfo::ClearAcquireFences(HwcCompInfo *this, int a2, int a3)
{
  HwcCompInfo *v3; // r5@1
  int v4; // r0@1
  int i; // r6@1
  int v6; // r0@3
  int v7; // r0@6
  int v9; // [sp+4h] [bp-1Ch]@1
  int v10; // [sp+8h] [bp-18h]@1

  v9 = a2;
  v10 = a3;
  v3 = this;
  v4 = *((_DWORD *)this + 2);
  v9 = 0;
  for ( i = *(_DWORD *)(v4 + 8); i != *((_DWORD *)v3 + 2); i = *(_DWORD *)(i + 8) )
  {
    android::sp<HwcLayerInfo>::operator=((unsigned int **)&v9, (unsigned int **)i);
    v6 = *(_DWORD *)(*(_DWORD *)(v9 + 196) + 64);
    if ( v6 >= 0 )
    {
      close(v6);
      *(_DWORD *)(*(_DWORD *)(v9 + 196) + 64) = -1;
    }
  }
  v7 = *(_DWORD *)(*((_DWORD *)v3 + 13) + 64);
  if ( v7 >= 0 )
  {
    close(v7);
    *(_DWORD *)(*((_DWORD *)v3 + 13) + 64) = -1;
  }
  return android::sp<HwcLayerInfo>::~sp((unsigned int **)&v9);
}

//----- (0001232C) --------------------------------------------------------
unsigned int **__fastcall HwcCompInfo::CalcLayerMaskRects(HwcCompInfo *this, int a2, int a3)
{
  HwcCompInfo *v3; // r6@1
  int v4; // r0@1
  int i; // r5@1
  int v7; // [sp+4h] [bp-1Ch]@1
  int v8; // [sp+8h] [bp-18h]@1

  v7 = a2;
  v8 = a3;
  v3 = this;
  v4 = *((_DWORD *)this + 4);
  v7 = 0;
  for ( i = *(_DWORD *)(v4 + 8); i != *((_DWORD *)v3 + 4); i = *(_DWORD *)(i + 8) )
  {
    android::sp<HwcLayerInfo>::operator=((unsigned int **)&v7, (unsigned int **)i);
    HwcLayerInfo::CalcLayerMaskRect(v7, (int)v3 + 60);
  }
  return android::sp<HwcLayerInfo>::~sp((unsigned int **)&v7);
}

//----- (00012362) --------------------------------------------------------
unsigned int **__fastcall HwcCompInfo::ResetPartialUpdates(HwcCompInfo *this)
{
  HwcCompInfo *v1; // r4@1
  int v2; // r0@1
  int i; // r7@1
  int v4; // r8@3
  const void *v5; // r1@3
  int v6; // r1@6
  int v7; // r0@6
  int v9; // [sp+4h] [bp-44h]@1
  int v10; // [sp+8h] [bp-40h]@5
  char v11; // [sp+Ch] [bp-3Ch]@5

  v1 = this;
  sub_11ED6((int)this + 16);
  v2 = *((_DWORD *)v1 + 2);
  v9 = 0;
  for ( i = *(_DWORD *)(v2 + 8); i != *((_DWORD *)v1 + 2); i = *(_DWORD *)(i + 8) )
  {
    android::sp<HwcLayerInfo>::operator=((unsigned int **)&v9, (unsigned int **)i);
    v4 = v9;
    v5 = *(const void **)(v9 + 196);
    if ( v5 )
      memcpy((void *)(v9 + 4), v5, 0x70u);
    *(_BYTE *)(v4 + 144) = 0;
    v10 = *((_DWORD *)v1 + 4);
    sub_115E0(&v11, (int)&v10, (unsigned int **)&v9);
  }
  HwcPartialUpdates::HwcPartialUpdates((HwcPartialUpdates *)&v11);
  v7 = HwcConfig::GetDisplay(0, v6);
  HwcPartialUpdates::Init((int)&v11, v7, *((_DWORD *)v1 + 25), 1);
  HwcCompInfo::SetPartialUpdates(v1, (HwcPartialUpdates *)&v11);
  return android::sp<HwcLayerInfo>::~sp((unsigned int **)&v9);
}

//----- (000123E6) --------------------------------------------------------
int __fastcall sub_123E6(int a1)
{
  int v1; // r2@1
  int result; // r0@1
  int i; // r3@1

  v1 = *(_DWORD *)(a1 + 4);
  result = 0;
  for ( i = *(_DWORD *)(v1 + 8); i != v1; i = *(_DWORD *)(i + 8) )
    ++result;
  return result;
}

//----- (000123F8) --------------------------------------------------------
unsigned int **__fastcall HwcCompInfo::UpdateBuffers(HwcCompInfo *this, int a2)
{
  HwcCompInfo *v2; // r4@1
  HwcMem *v3; // r0@1
  int v4; // r1@1
  int v5; // r2@1
  int v6; // r3@1
  int i; // r5@3
  int v8; // r1@5
  int v9; // r2@5
  int v10; // r3@5
  int v11; // r1@8
  int v12; // r2@8
  int v13; // r2@9
  HwcLayerInfo *v14; // r0@9
  int v15; // r6@11
  int v16; // r3@14
  int j; // r5@14
  HwcLayerInfo *v19; // [sp+0h] [bp-18h]@1
  HwcLayerInfo *v20; // [sp+4h] [bp-14h]@1

  v20 = (HwcLayerInfo *)a2;
  v2 = this;
  v19 = 0;
  v3 = (HwcMem *)HwcConfig::GetFbMem((HwcConfig *)a2, a2);
  if ( v3 )
    HwcMem::swap(v3, v4, v5, v6);
  for ( i = *(_DWORD *)(*((_DWORD *)v2 + 6) + 8); i != *((_DWORD *)v2 + 6); i = *(_DWORD *)(i + 8) )
  {
    android::sp<HwcLayerInfo>::operator=((unsigned int **)&v19, (unsigned int **)(*(_DWORD *)i + 20));
    if ( v19 )
      HwcLayerInfo::UpdateBuffer(v19, v8, v9, v10);
  }
  if ( sub_123E6((int)v2 + 32) == 1 )
  {
    v13 = *((_DWORD *)v2 + 9);
    v14 = **(HwcLayerInfo ***)(v13 + 8);
    v20 = v14;
    if ( v14 )
      sub_115CA((unsigned int *)v14);
    v15 = *((_DWORD *)v20 + 37);
    if ( v15 == -1 )
      HwcLayerInfo::UpdateBuffer(v20, v11, v13, 0);
    android::sp<HwcLayerInfo>::~sp((unsigned int **)&v20);
  }
  v16 = *((_DWORD *)v2 + 2);
  for ( j = *(_DWORD *)(v16 + 8); j != *((_DWORD *)v2 + 2); j = *(_DWORD *)(j + 8) )
    HwcLayerInfo::UpdateBuffer(*(HwcLayerInfo **)j, v11, v12, v16);
  return android::sp<HwcLayerInfo>::~sp((unsigned int **)&v19);
}

//----- (0001247C) --------------------------------------------------------
int __fastcall HwcCompInfo::CalcOverlapLayersNum(HwcCompInfo *this)
{
  HwcCompInfo *v1; // r11@1
  HwcConfig *v2; // r0@1
  int i; // r5@3
  int v4; // r6@5
  int v5; // r1@9
  int v6; // r2@9
  int v7; // r3@9
  signed int v8; // r10@12
  int v9; // r9@12
  int v10; // r1@15
  int v11; // r2@15
  int v12; // r3@15
  signed int v13; // r0@15
  char *v14; // r1@15
  char *v15; // r0@16
  int v17; // [sp+10h] [bp-10h]@6
  int v18; // [sp+20h] [bp+0h]@1
  char v19; // [sp+34h] [bp+14h]@1
  char v20; // [sp+48h] [bp+28h]@1
  char v21; // [sp+5Ch] [bp+3Ch]@1
  char v22; // [sp+70h] [bp+50h]@1
  char v23; // [sp+84h] [bp+64h]@1
  char v24; // [sp+98h] [bp+78h]@1
  char v25; // [sp+ACh] [bp+8Ch]@9

  v1 = this;
  android::Region::Region(&v18);
  android::Region::Region(&v19);
  android::Region::Region(&v20);
  android::Region::Region(&v21);
  android::Region::Region(&v22);
  android::Region::Region(&v23);
  android::Region::Region(&v24);
  v2 = (HwcConfig *)sub_123E6((int)v1 + 12);
  if ( v2 )
    *((_DWORD *)v1 + 26) = 1;
  for ( i = *(_DWORD *)(*((_DWORD *)v1 + 4) + 8); i != *((_DWORD *)v1 + 4); i = *(_DWORD *)(i + 8) )
  {
    v4 = *(_DWORD *)(i + 8);
    if ( !(*(_DWORD *)(*(_DWORD *)i + 124) & 0x100) )
    {
      v17 = (int)v1 + 60;
      while ( 1 )
      {
        v2 = (HwcConfig *)*((_DWORD *)v1 + 4);
        if ( (HwcConfig *)v4 == v2 )
          goto LABEL_22;
        if ( !(*(_DWORD *)(*(_DWORD *)v4 + 124) & 0x100) )
        {
          sub_11548(*(_DWORD *)i + 4, (int)&v18, v17);
          sub_11548(*(_DWORD *)v4 + 4, (int)&v19, v17);
          android::Region::intersect(&v25, &v18, &v19);
          android::Region::operator=(&v21, &v25);
          android::Region::~Region(&v25);
          if ( !sub_1162C((int)&v21, v5, v6, v7) )
            break;
        }
LABEL_21:
        v4 = *(_DWORD *)(v4 + 8);
      }
      if ( *((_DWORD *)v1 + 26) <= 1 )
      {
        *((_DWORD *)v1 + 26) = 2;
        android::Region::operator=(&v24, &v21);
      }
      v8 = 2;
      android::Region::operator=(&v22, &v21);
      android::Region::operator=(&v23, &v21);
      v9 = *(_DWORD *)(v4 + 8);
      while ( 2 )
      {
        if ( v9 == *((_DWORD *)v1 + 4) )
          goto LABEL_21;
        if ( !(*(_DWORD *)(*(_DWORD *)v9 + 124) & 0x100) )
        {
          sub_11548(*(_DWORD *)v9 + 4, (int)&v20, v17);
          android::Region::intersect(&v25, &v22, &v20);
          android::Region::operator=(&v22, &v25);
          android::Region::~Region(&v25);
          v13 = sub_1162C((int)&v22, v10, v11, v12);
          v14 = &v23;
          if ( v13 )
          {
            v15 = &v22;
            goto LABEL_19;
          }
          android::Region::operator=(&v23, &v22);
          if ( ++v8 > *((_DWORD *)v1 + 26) )
          {
            v15 = &v24;
            v14 = &v22;
            *((_DWORD *)v1 + 26) = v8;
LABEL_19:
            android::Region::operator=(v15, v14);
          }
        }
        v9 = *(_DWORD *)(v9 + 8);
        continue;
      }
    }
LABEL_22:
    ;
  }
  if ( !*((_DWORD *)v1 + 26) )
  {
    v2 = (HwcConfig *)sub_123E6((int)v1 + 12);
    if ( v2 )
      *((_DWORD *)v1 + 26) = 1;
  }
  if ( HwcConfig::GetDebugLevel(v2) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: number of overlapped layers is %d",
      "CalcOverlapLayersNum",
      690,
      *((_DWORD *)v1 + 26));
  android::Region::~Region(&v24);
  android::Region::~Region(&v23);
  android::Region::~Region(&v22);
  android::Region::~Region(&v21);
  android::Region::~Region(&v20);
  android::Region::~Region(&v19);
  return android::Region::~Region(&v18);
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E268: using guessed type int __fastcall android::Region::~Region(_DWORD);
// E2BC: using guessed type int __fastcall android::Region::Region(_DWORD);
// E2F8: using guessed type int __fastcall android::Region::intersect(_DWORD, _DWORD, _DWORD);
// E3AC: using guessed type int __fastcall android::Region::operator=(_DWORD, _DWORD);

//----- (0001265C) --------------------------------------------------------
_DWORD *__fastcall android::sp<_hwcAreaInfo>::~sp(_DWORD *a1)
{
  _DWORD *v1; // r5@1
  int v2; // r4@1
  unsigned int v3; // r3@3

  v1 = a1;
  v2 = *a1;
  if ( *a1 )
  {
    __dmb();
    do
      v3 = __ldrex((unsigned int *)v2);
    while ( __strex(v3 - 1, (unsigned int *)v2) );
    if ( v3 == 1 )
    {
      sub_11F00((_DWORD *)(v2 + 20));
      operator delete((void *)v2);
    }
  }
  return v1;
}

//----- (0001268C) --------------------------------------------------------
int __fastcall sub_1268C(int a1)
{
  int v1; // r5@1
  int i; // r4@1
  int v3; // r6@3
  void *v4; // r0@4

  v1 = a1;
  *(_DWORD *)a1 = &off_2DAD8;
  for ( i = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8); i != *(_DWORD *)(v1 + 4); i = v3 )
  {
    v3 = *(_DWORD *)(i + 8);
    android::sp<_hwcAreaInfo>::~sp((_DWORD *)i);
    operator delete((void *)i);
  }
  *(_DWORD *)(i + 4) = i;
  *(_DWORD *)(*(_DWORD *)(v1 + 4) + 8) = *(_DWORD *)(v1 + 4);
  v4 = *(void **)(v1 + 4);
  if ( v4 )
    operator delete[](v4);
  return v1;
}
// 2DAD8: using guessed type void *;

//----- (000126CC) --------------------------------------------------------
void *__fastcall sub_126CC(int a1)
{
  void *v1; // r4@1

  v1 = (void *)a1;
  sub_1268C(a1);
  operator delete(v1);
  return v1;
}

//----- (000126E0) --------------------------------------------------------
int __fastcall sub_126E0(int a1)
{
  int v1; // r6@1
  int v2; // r5@1
  int v3; // r4@3
  int v4; // r7@3
  unsigned int v5; // r3@5
  void *v6; // r0@8
  void *v7; // r0@9

  v1 = a1;
  *(_DWORD *)a1 = &off_2DAE8;
  v2 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8);
  while ( v2 != *(_DWORD *)(v1 + 4) )
  {
    v3 = *(_DWORD *)v2;
    v4 = *(_DWORD *)(v2 + 8);
    if ( *(_DWORD *)v2 )
    {
      __dmb();
      do
        v5 = __ldrex((unsigned int *)v3);
      while ( __strex(v5 - 1, (unsigned int *)v3) );
      if ( v5 == 1 )
      {
        android::sp<HwcLayerInfo>::~sp((unsigned int **)(v3 + 20));
        sub_1268C(v3 + 12);
        sub_11F00((_DWORD *)(v3 + 4));
        operator delete((void *)v3);
      }
    }
    v6 = (void *)v2;
    v2 = v4;
    operator delete(v6);
  }
  *(_DWORD *)(v2 + 4) = v2;
  *(_DWORD *)(*(_DWORD *)(v1 + 4) + 8) = *(_DWORD *)(v1 + 4);
  v7 = *(void **)(v1 + 4);
  if ( v7 )
    operator delete[](v7);
  return v1;
}
// 2DAE8: using guessed type void *;

//----- (00012750) --------------------------------------------------------
void *__fastcall sub_12750(int a1)
{
  void *v1; // r4@1

  v1 = (void *)a1;
  sub_126E0(a1);
  operator delete(v1);
  return v1;
}

//----- (00012762) --------------------------------------------------------
HwcCompInfo *__fastcall HwcCompInfo::~HwcCompInfo(HwcCompInfo *this)
{
  HwcCompInfo *v1; // r4@1

  v1 = this;
  android::sp<HwcLayerInfo>::~sp((unsigned int **)this + 12);
  sub_1268C((int)v1 + 40);
  sub_11F00((_DWORD *)v1 + 8);
  sub_126E0((int)v1 + 20);
  sub_11F00((_DWORD *)v1 + 3);
  sub_11F00((_DWORD *)v1 + 1);
  return v1;
}

//----- (00012796) --------------------------------------------------------
int __fastcall android::List<android::sp<_hwcAreaInfo>>::operator=(int a1, int a2)
{
  int v2; // r7@1
  int v3; // r5@2
  int v4; // r8@2
  int v5; // r4@2
  int v6; // r1@2
  int v7; // r3@7
  int v8; // r6@7
  void *v9; // r0@7
  unsigned int *v10; // r11@8
  int v11; // r9@8
  int v12; // r10@8
  int v13; // r6@10
  unsigned int v14; // r3@12
  int v15; // r4@5
  int v16; // r6@16
  unsigned int *v17; // r0@16

  v2 = a1;
  if ( a1 != a2 )
  {
    v3 = *(_DWORD *)(a1 + 4);
    v4 = *(_DWORD *)(a2 + 4);
    v5 = *(_DWORD *)(v3 + 8);
    v6 = *(_DWORD *)(v4 + 8);
    while ( 1 )
    {
      if ( v6 == v4 )
      {
        while ( v5 != v3 )
        {
          v7 = *(_DWORD *)(v5 + 4);
          v8 = *(_DWORD *)(v5 + 8);
          *(_DWORD *)(v7 + 8) = v8;
          *(_DWORD *)(v8 + 4) = v7;
          android::sp<_hwcAreaInfo>::~sp((_DWORD *)v5);
          v9 = (void *)v5;
          v5 = v8;
          operator delete(v9);
        }
        return v2;
      }
      if ( v5 == v3 )
        break;
      v10 = *(unsigned int **)v6;
      v11 = *(_DWORD *)(v5 + 8);
      v12 = *(_DWORD *)(v6 + 8);
      if ( *(_DWORD *)v6 )
        sub_115CA(*(unsigned int **)v6);
      v13 = *(_DWORD *)v5;
      if ( *(_DWORD *)v5 )
      {
        __dmb();
        do
          v14 = __ldrex((unsigned int *)v13);
        while ( __strex(v14 - 1, (unsigned int *)v13) );
        if ( v14 == 1 )
        {
          sub_11F00((_DWORD *)(v13 + 20));
          operator delete((void *)v13);
        }
      }
      *(_DWORD *)v5 = v10;
      v6 = v12;
      v5 = v11;
    }
    v15 = v6;
    do
    {
      v16 = operator new(0xCu);
      v17 = *(unsigned int **)v15;
      *(_DWORD *)v16 = *(_DWORD *)v15;
      if ( v17 )
        sub_115CA(v17);
      *(_DWORD *)(v16 + 8) = v3;
      *(_DWORD *)(v16 + 4) = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(*(_DWORD *)(v3 + 4) + 8) = v16;
      *(_DWORD *)(v3 + 4) = v16;
      v15 = *(_DWORD *)(v15 + 8);
    }
    while ( v15 != v4 );
  }
  return v2;
}

//----- (00012848) --------------------------------------------------------
void __fastcall HwcCompInfo::ConstructOnlineVirtualLayer(int a1, int a2, int a3, int a4)
{
  int v4; // r6@1
  int v5; // r7@1
  int v6; // r4@1
  int v7; // r8@1
  unsigned int *v8; // r5@1
  unsigned int *v9; // r0@1
  int v10; // r5@3
  int v11; // r1@3
  int v12; // r2@3
  int v13; // r3@3
  int v14; // r1@3
  int v15; // r2@3
  int v16; // r3@3
  int v17; // r5@3
  int v18; // r5@4
  int v19; // r6@4
  int v20; // r0@4
  int i; // r1@4
  int v22; // r4@7
  int v23; // r7@7
  int v24; // r4@8
  int v25; // r4@11
  int v26; // r0@13
  int v27; // r6@13
  void *v28; // r0@13
  int v29; // [sp+0h] [bp-20h]@1
  int v30; // [sp+4h] [bp-1Ch]@1

  v29 = a1;
  v30 = a2;
  v4 = a1;
  v5 = a4;
  v6 = a2;
  v7 = a3;
  v8 = (unsigned int *)operator new(0xD0u);
  HwcLayerInfo::HwcLayerInfo(v8, 0, -1);
  sub_115CA(v8);
  v9 = *(unsigned int **)(v4 + 48);
  if ( v9 )
    sub_11752(v9);
  *(_DWORD *)(v4 + 48) = v8;
  v10 = (int)(v8 + 11);
  v11 = *(_DWORD *)(v6 + 4);
  v12 = *(_DWORD *)(v6 + 8);
  v13 = *(_DWORD *)(v6 + 12);
  *(_DWORD *)v10 = *(_DWORD *)v6;
  *(_DWORD *)(v10 + 4) = v11;
  *(_DWORD *)(v10 + 8) = v12;
  *(_DWORD *)(v10 + 12) = v13;
  v14 = *(_DWORD *)(v6 + 4);
  v15 = *(_DWORD *)(v6 + 8);
  v16 = *(_DWORD *)(v6 + 12);
  v17 = *(_DWORD *)(v4 + 48) + 28;
  *(_DWORD *)v17 = *(_DWORD *)v6;
  *(_DWORD *)(v17 + 4) = v14;
  *(_DWORD *)(v17 + 8) = v15;
  *(_DWORD *)(v17 + 12) = v16;
  android::List<android::sp<_hwcAreaInfo>>::operator=(v4 + 40, v7);
  if ( v5 != v4 + 32 )
  {
    v18 = *(_DWORD *)(v4 + 36);
    v19 = *(_DWORD *)(v5 + 4);
    v20 = *(_DWORD *)(v18 + 8);
    for ( i = *(_DWORD *)(v19 + 8); i != v19; i = v23 )
    {
      if ( v20 == v18 )
      {
        v24 = i;
        do
        {
          v30 = v18;
          sub_115E0(&v29, (int)&v30, (unsigned int **)v24);
          v24 = *(_DWORD *)(v24 + 8);
        }
        while ( v24 != v19 );
        return;
      }
      v22 = *(_DWORD *)(v20 + 8);
      v23 = *(_DWORD *)(i + 8);
      android::sp<HwcLayerInfo>::operator=((unsigned int **)v20, (unsigned int **)i);
      v20 = v22;
    }
    v25 = v20;
    while ( v25 != v18 )
    {
      v26 = *(_DWORD *)(v25 + 4);
      v27 = *(_DWORD *)(v25 + 8);
      *(_DWORD *)(v26 + 8) = v27;
      *(_DWORD *)(v27 + 4) = v26;
      android::sp<HwcLayerInfo>::~sp((unsigned int **)v25);
      v28 = (void *)v25;
      v25 = v27;
      operator delete(v28);
    }
  }
}

//----- (000128FC) --------------------------------------------------------
void *__fastcall HwcConfig::Deinit(HwcConfig *this)
{
  int v1; // r4@1
  void *v2; // r5@2
  ChannelMgr *v3; // r0@5
  int v4; // r4@7
  int v5; // r5@8
  void *v6; // r6@9
  void *v7; // r6@11

  v1 = 0;
  do
  {
    v2 = (void *)dword_2F8A0[v1];
    if ( v2 )
    {
      HwcDisplay::~HwcDisplay((HwcDisplay *)dword_2F8A0[v1]);
      operator delete(v2);
    }
    ++v1;
  }
  while ( v1 != 3 );
  v3 = (ChannelMgr *)dword_2F8E8;
  if ( dword_2F8E8 )
    v3 = (ChannelMgr *)(*(int (**)(void))(*(_DWORD *)dword_2F8E8 + 4))();
  v4 = 0;
  do
  {
    v5 = 0;
    do
    {
      v6 = (void *)*(&dword_2F8B8[v4] + v5);
      if ( v6 )
      {
        ChannelMgr::~ChannelMgr((ChannelMgr *)*(&dword_2F8B8[v4] + v5));
        operator delete(v6);
      }
      v7 = (void *)*(&dword_2F8F0[v4] + v5);
      if ( v7 )
      {
        ChannelMgr::~ChannelMgr((ChannelMgr *)*(&dword_2F8F0[v4] + v5));
        operator delete(v7);
      }
      ++v5;
    }
    while ( v5 != 3 );
    v4 += 3;
  }
  while ( v4 != 9 );
  return j_j_j__ZN10ChannelMgr6DeinitEv(v3);
}
// 2F8A0: using guessed type int dword_2F8A0[];
// 2F8E8: using guessed type int dword_2F8E8;

//----- (00012990) --------------------------------------------------------
signed int __fastcall HwcConfig::UpdateDebugSetting(HwcConfig *this)
{
  signed int v1; // r7@2
  unsigned __int32 v2; // r0@3
  ChannelMgr *v3; // r5@6
  int v4; // r1@6
  unsigned __int32 v5; // r8@6
  unsigned __int32 v6; // r0@17
  unsigned __int32 v7; // r0@36
  char v8; // r5@36
  signed int result; // r0@41
  char *endptr; // [sp+4h] [bp-84h]@1
  unsigned __int8 v11; // [sp+8h] [bp-80h]@1
  int v12; // [sp+64h] [bp-24h]@1

  endptr = 0;
  v12 = _stack_chk_guard;
  if ( property_get("debug.policy_mask", &v11, &unk_2650F) <= 0
    || (v2 = strtoul((const char *)&v11, &endptr, 16), v2 == dword_2F238) )
  {
    v1 = 0;
  }
  else
  {
    v1 = 1;
    dword_2F238 = v2;
  }
  if ( property_get("debug.channel_mask", &v11, &unk_2650F) > 0 )
  {
    v3 = 0;
    v5 = strtoul((const char *)&v11, &endptr, 16);
    while ( (signed int)v3 < ChannelMgr::m_numOfChannels )
    {
      if ( (v5 >> (char)v3) & 1 )
        ChannelMgr::UnbanChannel(v3, v4);
      else
        ChannelMgr::BanChannel(v3, v4);
      v3 = (ChannelMgr *)((char *)v3 + 1);
    }
    if ( v5 != dword_2F18C )
    {
      v1 = 1;
      dword_2F18C = v5;
    }
  }
  if ( property_get("debug.hwc_debug", &v11, &unk_2650F) > 0 )
    dword_2F190 = strtoul((const char *)&v11, &endptr, 10);
  if ( property_get("debug.time_consume_log", &v11, &unk_2650F) > 0 )
  {
    v6 = strtoul((const char *)&v11, &endptr, 10);
    byte_2F88C = v6 - 1 + (v6 - 1 <= 0) - (v6 - 1);
  }
  if ( !dword_2F890 && property_get("debug.wb_dump_cnt", &v11, &unk_2650F) > 0 )
  {
    dword_2F890 = strtoul((const char *)&v11, &endptr, 10);
    property_set("debug.wb_dump_cnt", &unk_2650F);
  }
  if ( !dword_2F888 && property_get("debug.frame_dump_cnt", &v11, &unk_2650F) > 0 )
  {
    dword_2F888 = strtoul((const char *)&v11, &endptr, 10);
    property_set("debug.frame_dump_cnt", &unk_2650F);
  }
  if ( !dword_2F944 && property_get("debug.blockrot_dump_cnt", &v11, &unk_2650F) > 0 )
  {
    dword_2F944 = strtoul((const char *)&v11, &endptr, 10);
    property_set("debug.blockrot_dump_cnt", &unk_2650F);
  }
  if ( !dword_2F8E4 && property_get("debug.vd_dump_cnt", &v11, &unk_2650F) > 0 )
  {
    dword_2F8E4 = strtoul((const char *)&v11, &endptr, 10);
    property_set("debug.vd_dump_cnt", &unk_2650F);
  }
  if ( !dword_2F894 && property_get("debug.frametarget_dump_cnt", &v11, &unk_2650F) > 0 )
  {
    dword_2F894 = strtoul((const char *)&v11, &endptr, 10);
    property_set("debug.frametarget_dump_cnt", &unk_2650F);
  }
  if ( property_get("debug.updt_en", &v11, &unk_2650F) > 0 )
    byte_2F194 = (unsigned int)v11 - 49 <= 0;
  if ( property_get("debug.hwc_dump_en", &v11, &unk_2650F) > 0 )
  {
    v7 = strtoul((const char *)&v11, &endptr, 10);
    v8 = v7;
    if ( v7 )
      v8 = 1;
    byte_2F8E0 = v8;
  }
  if ( property_get("debug.adjust_acc_clk_en", &v11, &unk_2650F) > 0 )
    byte_2F188 = (unsigned int)v11 - 49 <= 0;
  result = v1;
  if ( v12 != _stack_chk_guard )
    _stack_chk_fail(v1);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E3F4: using guessed type int __fastcall property_get(_DWORD, _DWORD, _DWORD);
// E424: using guessed type int __fastcall property_set(_DWORD, _DWORD);
// 1BC14: using guessed type char *off_1BC14;
// 2F188: using guessed type char byte_2F188;
// 2F18C: using guessed type int dword_2F18C;
// 2F190: using guessed type int dword_2F190;
// 2F194: using guessed type char byte_2F194;
// 2F238: using guessed type int dword_2F238;
// 2F888: using guessed type int dword_2F888;
// 2F88C: using guessed type char byte_2F88C;
// 2F890: using guessed type int dword_2F890;
// 2F894: using guessed type int dword_2F894;
// 2F8E0: using guessed type char byte_2F8E0;
// 2F8E4: using guessed type int dword_2F8E4;
// 2F944: using guessed type int dword_2F944;

//----- (00012CD4) --------------------------------------------------------
int __fastcall HwcConfig::GetDisplay(HwcConfig *this, int a2)
{
  return dword_2F8A0[(signed int)this];
}
// 2F8A0: using guessed type int dword_2F8A0[];

//----- (00012CE4) --------------------------------------------------------
int __fastcall HwcConfig::GetPlatform(HwcConfig *this)
{
  return dword_2F8E8;
}
// 2F8E8: using guessed type int dword_2F8E8;

//----- (00012CF0) --------------------------------------------------------
int __fastcall HwcConfig::GetOnlineResouces(HwcConfig *this, int a2, int a3)
{
  return dword_2F8B8[a2 + 3 * (signed int)this];
}

//----- (00012D04) --------------------------------------------------------
int __fastcall HwcConfig::GetOfflineResouces(HwcConfig *this, int a2, int a3)
{
  return dword_2F8F0[a2 + 3 * (signed int)this];
}

//----- (00012D18) --------------------------------------------------------
int __fastcall HwcConfig::GetFbMem(HwcConfig *this, int a2)
{
  return dword_2B2B8[(signed int)this];
}

//----- (00012D28) --------------------------------------------------------
signed int __fastcall HwcConfig::GetRotMemNum(HwcConfig *this)
{
  return 2;
}

//----- (00012D2C) --------------------------------------------------------
int __fastcall HwcConfig::GetPolicyMask(HwcConfig *this)
{
  return dword_2F238;
}
// 2F238: using guessed type int dword_2F238;

//----- (00012D38) --------------------------------------------------------
int __fastcall HwcConfig::GetDebugLevel(HwcConfig *this)
{
  return dword_2F190;
}
// 2F190: using guessed type int dword_2F190;

//----- (00012D44) --------------------------------------------------------
signed int __fastcall HwcConfig::Init(HwcConfig *this)
{
  signed int v1; // r7@1
  unsigned int v2; // r0@2
  char **v3; // r1@2
  unsigned int v4; // r5@4
  int v5; // r8@5
  char *v6; // r6@5
  char *v7; // r4@5
  int v8; // ST1C_4@7
  _DWORD *v9; // r3@7
  int v10; // ST1C_4@8
  int v11; // r4@11
  int v12; // r6@12
  HwcConfig *v13; // r0@13
  int v14; // r10@13
  HwcConfig *v15; // r0@16
  Hi62xxPlatform *v16; // r4@21
  Hi363xPlatform *v17; // r7@22
  HwcConfig *v18; // r0@23
  signed int result; // r0@25
  int v20; // [sp+1Ch] [bp-8Ch]@7
  unsigned __int8 v21; // [sp+20h] [bp-88h]@23
  int v22; // [sp+7Ch] [bp-2Ch]@1

  v22 = _stack_chk_guard;
  v1 = IAccelerator::getAccelType(this);
  if ( v1 == 257 )
  {
    v2 = 10;
    v3 = &off_2F198;
  }
  else
  {
    v2 = 16;
    v3 = &off_2F088;
  }
  ChannelMgr::Init(v2, (int)v3);
  v4 = 0;
  do
  {
    v5 = 0;
    v6 = &asc_2A800[76 * v4];
    v7 = &asc_2B2C8[76 * v4];
    do
    {
      if ( v1 == 257 )
      {
        v8 = operator new(0x10u);
        ChannelMgr::ChannelMgr(v8, (signed int *)v6);
        *(&dword_2F8B8[v4 / 4] + v5) = v8;
        v20 = operator new(0x10u);
        ChannelMgr::ChannelMgr(v20, (signed int *)v6 + 38);
        v9 = &dword_2F8F0[v4 / 4];
      }
      else
      {
        v10 = operator new(0x10u);
        ChannelMgr::ChannelMgr(v10, (signed int *)v7);
        *(&dword_2F8B8[v4 / 4] + v5) = v10;
        v20 = operator new(0x10u);
        ChannelMgr::ChannelMgr(v20, (signed int *)v7 + 38);
        v9 = &dword_2F8F0[v4 / 4];
      }
      v6 += 304;
      v7 += 304;
      v9[v5++] = v20;
    }
    while ( v5 != 3 );
    v4 += 12;
  }
  while ( v4 != 36 );
  v11 = 0;
  do
  {
    v12 = operator new(0x58u);
    HwcDisplay::HwcDisplay(v12, v11, (int)&off_2DAF0[2 * v11]);
    dword_2F8A0[v11++] = v12;
  }
  while ( v11 != 3 );
  HwcDisplay::Connect((HwcDisplay *)dword_2F8A0[0], 1);
  v13 = (HwcConfig *)open("/dev/graphics/fb0", 2);
  v14 = (int)v13;
  if ( (signed int)v13 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v13) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: %s open failed", "Init", 158, "/dev/graphics/fb0");
LABEL_26:
    result = -1;
    goto LABEL_27;
  }
  v15 = (HwcConfig *)ioctl((int)v13, 0x402C4F21u, &unk_2F918);
  if ( (signed int)v15 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v15) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: get dirty region info error", "Init", 163);
    close(v14);
    goto LABEL_26;
  }
  close(v14);
  if ( v1 == 257 )
  {
    v16 = (Hi62xxPlatform *)operator new(0x204u);
    Hi62xxPlatform::Hi62xxPlatform(v16);
    dword_2F8E8 = (int)v16;
  }
  else
  {
    v17 = (Hi363xPlatform *)operator new(0x200u);
    Hi363xPlatform::Hi363xPlatform(v17);
    dword_2F8E8 = (int)v17;
    byte_2F898 = 1;
  }
  v18 = (HwcConfig *)property_get("debug.hwc_test_mode", &v21, &unk_2650F);
  if ( (signed int)v18 > 0 )
    byte_2F8B0 = (unsigned int)v21 - 49 <= 0;
  HwcConfig::UpdateDebugSetting(v18);
  result = 0;
LABEL_27:
  if ( v22 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E3F4: using guessed type int __fastcall property_get(_DWORD, _DWORD, _DWORD);
// 1C9E0: using guessed type char *off_1C9E0;
// 2DAF0: using guessed type char *off_2DAF0[4];
// 2F088: using guessed type char *off_2F088;
// 2F198: using guessed type char *off_2F198;
// 2F898: using guessed type char byte_2F898;
// 2F8A0: using guessed type int dword_2F8A0[];
// 2F8B0: using guessed type char byte_2F8B0;
// 2F8E8: using guessed type int dword_2F8E8;

//----- (00012FC4) --------------------------------------------------------
int __fastcall HwcConfig::GetRotMem(HwcConfig *this, int a2, int a3, int a4)
{
  HwcConfig *v4; // r4@1
  int result; // r0@4
  int v6; // [sp+Ch] [bp-Ch]@1

  v6 = a4;
  v4 = this;
  if ( (signed int)this <= 1 )
  {
    result = dword_2BD78[(signed int)this];
  }
  else
  {
    if ( HwcConfig::GetDebugLevel(this) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: want buf[%d] exceed MAX_ROT_BUF[%d]", "GetRotMem", 353, v4, 2, v6);
    result = 0;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00013014) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpWriteback(HwcConfig *this)
{
  int v1; // r3@1
  signed int result; // r0@2

  v1 = dword_2F890;
  if ( dword_2F890 <= 0 )
  {
    result = 0;
  }
  else
  {
    v1 = dword_2F890 - 1;
    result = 1;
  }
  if ( dword_2F890 > 0 )
    dword_2F890 = v1;
  return result;
}
// 2F890: using guessed type int dword_2F890;

//----- (00013030) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpFrame(HwcConfig *this)
{
  int v1; // r3@1
  signed int result; // r0@2

  v1 = dword_2F888;
  if ( dword_2F888 <= 0 )
  {
    result = 0;
  }
  else
  {
    v1 = dword_2F888 - 1;
    result = 1;
  }
  if ( dword_2F888 > 0 )
    dword_2F888 = v1;
  return result;
}
// 2F888: using guessed type int dword_2F888;

//----- (0001304C) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpBlockRot(HwcConfig *this)
{
  int v1; // r3@1
  signed int result; // r0@2

  v1 = dword_2F944;
  if ( dword_2F944 <= 0 )
  {
    result = 0;
  }
  else
  {
    v1 = dword_2F944 - 1;
    result = 1;
  }
  if ( dword_2F944 > 0 )
    dword_2F944 = v1;
  return result;
}
// 2F944: using guessed type int dword_2F944;

//----- (00013068) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpVirtualDisplay(HwcConfig *this)
{
  int v1; // r3@1
  signed int result; // r0@2

  v1 = dword_2F8E4;
  if ( dword_2F8E4 <= 0 )
  {
    result = 0;
  }
  else
  {
    v1 = dword_2F8E4 - 1;
    result = 1;
  }
  if ( dword_2F8E4 > 0 )
    dword_2F8E4 = v1;
  return result;
}
// 2F8E4: using guessed type int dword_2F8E4;

//----- (00013084) --------------------------------------------------------
signed int __fastcall HwcConfig::NeedDumpFrameTarget(HwcConfig *this)
{
  int v1; // r3@1
  signed int result; // r0@2

  v1 = dword_2F894;
  if ( dword_2F894 <= 0 )
  {
    result = 0;
  }
  else
  {
    v1 = dword_2F894 - 1;
    result = 1;
  }
  if ( dword_2F894 > 0 )
    dword_2F894 = v1;
  return result;
}
// 2F894: using guessed type int dword_2F894;

//----- (000130A0) --------------------------------------------------------
int __fastcall HwcConfig::IsTestMode(HwcConfig *this)
{
  return (unsigned __int8)byte_2F8B0;
}
// 2F8B0: using guessed type char byte_2F8B0;

//----- (000130AC) --------------------------------------------------------
int __fastcall HwcConfig::IsTimeConsumingLogEnabled(HwcConfig *this)
{
  return (unsigned __int8)byte_2F88C;
}
// 2F88C: using guessed type char byte_2F88C;

//----- (000130B8) --------------------------------------------------------
int __fastcall HwcConfig::IsPartialUpdates(HwcConfig *this)
{
  return (unsigned __int8)byte_2F194;
}
// 2F194: using guessed type char byte_2F194;

//----- (000130C4) --------------------------------------------------------
int __fastcall HwcConfig::IsHwcDumpEnabled(HwcConfig *this)
{
  return (unsigned __int8)byte_2F8E0;
}
// 2F8E0: using guessed type char byte_2F8E0;

//----- (000130D0) --------------------------------------------------------
int __fastcall HwcConfig::needAdjustAcceClock(HwcConfig *this)
{
  return (unsigned __int8)byte_2F188;
}
// 2F188: using guessed type char byte_2F188;

//----- (000130DC) --------------------------------------------------------
int __fastcall HwcConfig::NeedCompleteOneTime(HwcConfig *this)
{
  return (unsigned __int8)byte_2F898;
}
// 2F898: using guessed type char byte_2F898;

//----- (000130E8) --------------------------------------------------------
void *__fastcall HwcConfig::GetLcdDirtyRegionLimit(HwcConfig *this)
{
  return &unk_2F918;
}

//----- (000130F4) --------------------------------------------------------
int __fastcall sub_130F4(int a1)
{
  int result; // r0@3

  if ( a1 < 0 || a1 >= ChannelMgr::m_numOfChannels )
    result = 0;
  else
    result = *(_DWORD *)(ChannelMgr::m_allChannels + 4 * a1);
  return result;
}

//----- (00013120) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return 0;
}

//----- (00013124) --------------------------------------------------------
void *__fastcall ChannelMgr::Deinit(ChannelMgr *this)
{
  int i; // r4@1
  void *result; // r0@6

  for ( i = 0; i < ChannelMgr::m_numOfChannels; ++i )
  {
    operator delete(*((void **)ChannelMgr::m_allChannels + i));
    *((_DWORD *)ChannelMgr::m_allChannels + i) = 0;
  }
  if ( ChannelMgr::m_allChannels )
    operator delete[](ChannelMgr::m_allChannels);
  result = &ChannelMgr::m_inited;
  ChannelMgr::m_inited = 0;
  return result;
}

//----- (00013170) --------------------------------------------------------
int __fastcall ChannelMgr::ChannelMgr(int a1, signed int *a2)
{
  int v2; // r4@1
  signed int v3; // r0@1
  signed int *v4; // r5@1
  bool v5; // zf@1
  bool v6; // nf@1
  unsigned int v7; // r0@3
  int v8; // r0@5
  signed int *v9; // r12@5
  int v10; // r3@5
  signed int v11; // t1@7
  signed int v12; // r0@9
  int v13; // r5@10
  unsigned int v14; // r0@11
  int v15; // r0@13
  int v16; // r3@13
  int v17; // t1@15

  v2 = a1;
  v3 = *a2;
  v4 = a2;
  v5 = *a2 == 0;
  v6 = *a2 < 0;
  *(_DWORD *)v2 = *a2;
  if ( v6 || v5 )
  {
    *(_DWORD *)(v2 + 4) = 0;
  }
  else
  {
    if ( v3 > 532676608 )
      v7 = -1;
    else
      v7 = 4 * v3;
    v8 = operator new[](v7);
    v9 = v4;
    v10 = 0;
    *(_DWORD *)(v2 + 4) = v8;
    while ( v10 < *(_DWORD *)v2 )
    {
      v11 = v9[1];
      ++v9;
      *(_DWORD *)(*(_DWORD *)(v2 + 4) + 4 * v10++) = *((_DWORD *)ChannelMgr::m_allChannels + v11);
    }
  }
  v12 = v4[33];
  *(_DWORD *)(v2 + 8) = v12;
  if ( v12 <= 0 )
  {
    *(_DWORD *)(v2 + 12) = 0;
  }
  else
  {
    v13 = (int)(v4 + 33);
    if ( v12 > 532676608 )
      v14 = -1;
    else
      v14 = 4 * v12;
    v15 = operator new[](v14);
    v16 = 0;
    *(_DWORD *)(v2 + 12) = v15;
    while ( v16 < *(_DWORD *)(v2 + 8) )
    {
      v17 = *(_DWORD *)(v13 + 4);
      v13 += 4;
      *(_DWORD *)(*(_DWORD *)(v2 + 12) + 4 * v16++) = *((_DWORD *)ChannelMgr::m_allChannels + v17);
    }
  }
  return v2;
}

//----- (0001320C) --------------------------------------------------------
ChannelMgr *__fastcall ChannelMgr::~ChannelMgr(ChannelMgr *this)
{
  ChannelMgr *v1; // r4@1
  void *v2; // r0@1
  void *v3; // r0@3

  v1 = this;
  v2 = (void *)*((_DWORD *)this + 1);
  if ( v2 )
    operator delete[](v2);
  v3 = (void *)*((_DWORD *)v1 + 3);
  if ( v3 )
    operator delete[](v3);
  return v1;
}

//----- (00013224) --------------------------------------------------------
int __fastcall ChannelMgr::BanChannel(ChannelMgr *this, int a2)
{
  int result; // r0@1

  result = sub_130F4((int)this);
  if ( result )
    *(_BYTE *)(result + 10) = 1;
  return result;
}

//----- (00013232) --------------------------------------------------------
int __fastcall ChannelMgr::UnbanChannel(ChannelMgr *this, int a2)
{
  int result; // r0@1

  result = sub_130F4((int)this);
  if ( result )
    *(_BYTE *)(result + 10) = 0;
  return result;
}

//----- (00013240) --------------------------------------------------------
int __fastcall Channel::Channel(int result, int a2, int a3, int a4, int a5)
{
  *(_DWORD *)(result + 16) = a4;
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = a3;
  *(_BYTE *)(result + 10) = 0;
  *(_BYTE *)(result + 8) = 0;
  *(_BYTE *)(result + 9) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 28) = 0;
  *(_DWORD *)(result + 32) = *(_DWORD *)a5;
  *(_DWORD *)(result + 36) = *(_DWORD *)(a5 + 4);
  return result;
}

//----- (00013264) --------------------------------------------------------
void *__fastcall ChannelMgr::Init(unsigned int a1, int a2)
{
  unsigned int v2; // r7@1
  int v3; // r6@1
  int v4; // r4@1
  unsigned int v5; // r0@2
  int v6; // r0@6
  int v7; // ST00_4@6
  __int64 v8; // r2@6
  int v9; // r8@6
  void *result; // r0@7

  v2 = a1;
  v3 = 0;
  v4 = a2 + 8;
  ChannelMgr::m_numOfChannels = a1;
  if ( a1 > 0x1FC00000 )
    v5 = -1;
  else
    v5 = 4 * a1;
  ChannelMgr::m_allChannels = (void *)operator new[](v5);
  while ( v3 != v2 )
  {
    v6 = operator new(0x28u);
    v7 = v4;
    v8 = *(_QWORD *)(v4 - 8);
    v9 = v6;
    v4 += 16;
    Channel::Channel(v6, v3, v8, SHIDWORD(v8), v7);
    *((_DWORD *)ChannelMgr::m_allChannels + v3++) = v9;
  }
  result = &ChannelMgr::m_inited;
  ChannelMgr::m_inited = 1;
  return result;
}

//----- (000132D8) --------------------------------------------------------
__int64 __fastcall Channel::UintCapsToString(__int64 result, char *a2)
{
  char v2; // r3@2
  char v3; // r3@5
  char v4; // r3@8
  char v5; // r3@11
  char v6; // r3@14

  if ( BYTE4(result) & 2 )
    v2 = 82;
  else
    v2 = 45;
  *a2 = v2;
  if ( BYTE4(result) & 8 )
    v3 = 83;
  else
    v3 = 45;
  a2[1] = v3;
  if ( BYTE4(result) & 0x10 )
    v4 = 89;
  else
    v4 = 45;
  a2[2] = v4;
  if ( BYTE4(result) & 0x80 )
    v5 = 70;
  else
    v5 = 45;
  a2[3] = v5;
  if ( WORD2(result) & 0x100 )
    v6 = 68;
  else
    v6 = 45;
  a2[4] = v6;
  a2[5] = 0;
  return result;
}

//----- (0001331C) --------------------------------------------------------
int __fastcall Channel::Dump(__int64 this, int a2)
{
  int v2; // r4@1
  char *v3; // r9@1
  int v4; // r8@1
  __int64 v5; // r0@1
  int v6; // r2@1
  int v7; // r1@1
  int v8; // r3@1
  int v9; // r4@1
  signed int v10; // r0@2
  signed int v11; // r1@5
  signed int v12; // r4@8
  int result; // r0@10
  int v14; // [sp+1Ch] [bp+0h]@1
  char v15; // [sp+24h] [bp+8h]@1
  int v16; // [sp+2Ch] [bp+10h]@1

  v3 = (char *)HIDWORD(this);
  v2 = this;
  v4 = a2;
  HIDWORD(this) = *(_DWORD *)(this + 16);
  v16 = _stack_chk_guard;
  Channel::UintCapsToString(this, (char *)&v14);
  LODWORD(v5) = v2;
  HIDWORD(v5) = *(_DWORD *)(v2 + 24);
  Channel::UintCapsToString(v5, &v15);
  v6 = *(_BYTE *)(v2 + 8);
  v7 = *(_BYTE *)(v2 + 9);
  v8 = *(_DWORD *)v2;
  v9 = *(_BYTE *)(v2 + 10);
  if ( v6 )
    v10 = 89;
  else
    v10 = 78;
  if ( v7 )
    v11 = 89;
  else
    v11 = 78;
  if ( v9 )
    v12 = 89;
  else
    v12 = 78;
  result = snprintf(v3, v4, "%8s\t%8s\t%c\t%c\t%8s\t%c\n", v8, &v14, v10, v11, &v15, v12);
  if ( v16 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00013398) --------------------------------------------------------
signed int __fastcall Channel::Request(int a1, int a2, int a3, int a4)
{
  int v4; // r5@1
  int v5; // r7@1
  int v6; // r4@1
  int v7; // r6@9
  int v8; // r4@10
  int v9; // r0@11
  int v10; // r0@16

  v4 = a1;
  v5 = a2;
  v6 = *(_DWORD *)(a2 + 124);
  if ( *(_BYTE *)(a1 + 10) || a3 && *(_BYTE *)(a1 + 9) || *(_BYTE *)(a1 + 8) && *(_DWORD *)(a1 + 28) )
    return -1;
  if ( !(v6 & 0x100) && !a4 )
    v6 |= 0x20000u;
  v7 = *(_DWORD *)(a1 + 16) & ~*(_DWORD *)(a1 + 20) & v6;
  if ( v7 != v6 )
    return -1;
  v8 = v6 & 2;
  if ( v8 )
  {
    v9 = *(_DWORD *)(a1 + 32);
    if ( v9 )
    {
      if ( (*(int (**)(void))(*(_DWORD *)v9 + 8))() < 0 )
        return -1;
      v8 = 1;
    }
    else
    {
      v8 = 0;
    }
  }
  if ( v7 & 8 )
  {
    v10 = *(_DWORD *)(v4 + 36);
    if ( v10 )
    {
      if ( (*(int (**)(void))(*(_DWORD *)v10 + 8))() < 0 )
      {
        if ( v8 )
          (*(void (**)(void))(**(_DWORD **)(v4 + 32) + 12))();
        return -1;
      }
    }
  }
  *(_DWORD *)(v4 + 28) = v5;
  *(_BYTE *)(v4 + 8) = 1;
  return 0;
}

//----- (0001342A) --------------------------------------------------------
int __fastcall ChannelMgr::RequestSource(ChannelMgr *this, const HwcLayerInfo *a2)
{
  ChannelMgr *v2; // r6@1
  const HwcLayerInfo *v3; // r7@1
  int i; // r5@1
  int v5; // r4@3

  v2 = this;
  v3 = a2;
  for ( i = 0; ; ++i )
  {
    if ( i >= *(_DWORD *)v2 )
      return 0;
    v5 = *(_DWORD *)(*((_DWORD *)v2 + 1) + 4 * i);
    if ( !Channel::Request(*(_DWORD *)(*((_DWORD *)v2 + 1) + 4 * i), (int)v3, 0, 0) )
      break;
  }
  return v5;
}

//----- (00013458) --------------------------------------------------------
int __fastcall ChannelMgr::RequestIdleSource(ChannelMgr *this, const HwcLayerInfo *a2)
{
  ChannelMgr *v2; // r6@1
  const HwcLayerInfo *v3; // r7@1
  int i; // r5@1
  int v5; // r4@3

  v2 = this;
  v3 = a2;
  for ( i = 0; ; ++i )
  {
    if ( i >= *(_DWORD *)v2 )
      return 0;
    v5 = *(_DWORD *)(*((_DWORD *)v2 + 1) + 4 * i);
    if ( !Channel::Request(*(_DWORD *)(*((_DWORD *)v2 + 1) + 4 * i), (int)v3, 1, 0) )
      break;
  }
  return v5;
}

//----- (00013486) --------------------------------------------------------
int __fastcall ChannelMgr::RequestWriteback(ChannelMgr *this, const HwcLayerInfo *a2)
{
  ChannelMgr *v2; // r6@1
  const HwcLayerInfo *v3; // r7@1
  int i; // r5@1
  int v5; // r4@3

  v2 = this;
  v3 = a2;
  for ( i = 0; ; ++i )
  {
    if ( i >= *((_DWORD *)v2 + 2) )
      return 0;
    v5 = *(_DWORD *)(*((_DWORD *)v2 + 3) + 4 * i);
    if ( !Channel::Request(*(_DWORD *)(*((_DWORD *)v2 + 3) + 4 * i), (int)v3, 0, 1) )
      break;
  }
  return v5;
}

//----- (000134B4) --------------------------------------------------------
int __fastcall Channel::ReRequest(int result, const HwcLayerInfo *a2)
{
  int v2; // r4@1
  int v3; // r6@1
  const HwcLayerInfo *v4; // r5@1

  v2 = result;
  v3 = *((_DWORD *)a2 + 31);
  v4 = a2;
  if ( v3 & 2 )
  {
    result = *(_DWORD *)(result + 32);
    if ( result )
      result = (*(int (**)(void))(*(_DWORD *)result + 8))();
  }
  if ( v3 & 8 )
  {
    result = *(_DWORD *)(v2 + 36);
    if ( result )
      result = (*(int (**)(void))(*(_DWORD *)result + 8))();
  }
  *(_DWORD *)(v2 + 28) = v4;
  return result;
}

//----- (000134E2) --------------------------------------------------------
int __fastcall Channel::Reuse(int result)
{
  int v1; // r4@1
  int v2; // r1@1
  int v3; // r5@2
  int v4; // r0@3
  int v5; // r0@6
  int v6; // r1@7

  v1 = result;
  v2 = *(_DWORD *)(result + 28);
  if ( v2 )
  {
    v3 = *(_DWORD *)(v2 + 124);
    if ( v3 & 2 )
    {
      v4 = *(_DWORD *)(result + 32);
      if ( v4 )
        (*(void (**)(void))(*(_DWORD *)v4 + 12))();
    }
    if ( v3 & 8 )
    {
      v5 = *(_DWORD *)(v1 + 36);
      if ( v5 )
      {
        v6 = *(_DWORD *)(v1 + 28);
        (*(void (**)(void))(*(_DWORD *)v5 + 12))();
      }
    }
    result = 0;
    *(_DWORD *)(v1 + 28) = 0;
  }
  return result;
}

//----- (00013510) --------------------------------------------------------
int __fastcall ChannelMgr::ReuseRequestedChannels(ChannelMgr *this)
{
  ChannelMgr *v1; // r5@1
  int i; // r4@1
  int v3; // r0@3
  int j; // r4@6
  int result; // r0@7
  int v6; // r0@8

  v1 = this;
  for ( i = 0; i < *(_DWORD *)v1; ++i )
  {
    v3 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4 * i);
    if ( *(_BYTE *)(v3 + 8) )
      Channel::Reuse((Channel *)v3);
  }
  for ( j = 0; ; ++j )
  {
    result = *((_DWORD *)v1 + 2);
    if ( j >= result )
      break;
    v6 = *(_DWORD *)(*((_DWORD *)v1 + 3) + 4 * j);
    if ( *(_BYTE *)(v6 + 8) )
      Channel::Reuse((Channel *)v6);
  }
  return result;
}

//----- (0001354A) --------------------------------------------------------
int __fastcall Channel::Release(Channel *this)
{
  Channel *v1; // r4@1
  int result; // r0@1

  v1 = this;
  result = Channel::Reuse(this);
  *((_BYTE *)v1 + 8) = 0;
  return result;
}

//----- (00013558) --------------------------------------------------------
int __fastcall ChannelMgr::ReleaseRequestedChannels(ChannelMgr *this)
{
  ChannelMgr *v1; // r5@1
  int i; // r4@1
  int v3; // r0@3
  int j; // r4@6
  int result; // r0@7
  int v6; // r0@8

  v1 = this;
  for ( i = 0; i < *(_DWORD *)v1; ++i )
  {
    v3 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4 * i);
    if ( *(_BYTE *)(v3 + 8) )
      Channel::Release((Channel *)v3);
  }
  for ( j = 0; ; ++j )
  {
    result = *((_DWORD *)v1 + 2);
    if ( j >= result )
      break;
    v6 = *(_DWORD *)(*((_DWORD *)v1 + 3) + 4 * j);
    if ( *(_BYTE *)(v6 + 8) )
      Channel::Release((Channel *)v6);
  }
  return result;
}

//----- (00013592) --------------------------------------------------------
int __fastcall Channel::DoReset(Channel *this)
{
  Channel *v1; // r4@1
  int v2; // r0@2
  int v3; // r0@5
  int result; // r0@7

  v1 = this;
  *((_BYTE *)this + 9) = 0;
  if ( *((_DWORD *)this + 6) & 2 )
  {
    v2 = *((_DWORD *)this + 8);
    if ( v2 )
      (*(void (**)(void))(*(_DWORD *)v2 + 20))();
  }
  if ( *((_DWORD *)v1 + 6) & 8 )
  {
    v3 = *((_DWORD *)v1 + 9);
    if ( v3 )
      (*(void (**)(void))(*(_DWORD *)v3 + 20))();
  }
  result = 0;
  *((_DWORD *)v1 + 6) = 0;
  return result;
}

//----- (000135C0) --------------------------------------------------------
signed int __fastcall Channel::Set(Channel *this)
{
  Channel *v1; // r4@1
  int v2; // r1@2
  int v3; // r6@3
  int v4; // r0@5
  int v5; // r1@7
  signed int v6; // r5@8
  int v7; // r0@11
  int v8; // r1@12
  signed int result; // r0@15
  int v10; // r3@16

  v1 = this;
  if ( !*((_BYTE *)this + 8) )
    return -1;
  v2 = *((_DWORD *)this + 7);
  if ( !v2 )
    return -1;
  v3 = *(_DWORD *)(v2 + 124);
  if ( *((_BYTE *)this + 9) )
    Channel::DoReset(this);
  v4 = v3 & 2;
  if ( v3 & 2 && (v4 = *((_DWORD *)v1 + 8)) != 0 )
  {
    v5 = *((_DWORD *)v1 + 7);
    if ( (*(int (**)(void))(*(_DWORD *)v4 + 16))() < 0 )
      return -1;
    v6 = 1;
  }
  else
  {
    v6 = v4;
  }
  if ( v3 & 8 )
  {
    v7 = *((_DWORD *)v1 + 9);
    if ( v7 )
    {
      v8 = *((_DWORD *)v1 + 7);
      if ( (*(int (**)(void))(*(_DWORD *)v7 + 16))() < 0 )
      {
        if ( v6 )
          (*(void (**)(void))(**((_DWORD **)v1 + 8) + 20))();
        return -1;
      }
    }
  }
  v10 = *((_DWORD *)v1 + 7);
  *((_BYTE *)v1 + 9) = 1;
  result = 0;
  *((_DWORD *)v1 + 3) = 2;
  *((_DWORD *)v1 + 6) = *(_DWORD *)(v10 + 124);
  return result;
}

//----- (00013628) --------------------------------------------------------
int __fastcall Channel::Reset(Channel *this)
{
  int v1; // r3@1
  Channel *v2; // r2@1
  int result; // r0@2

  v1 = *((_DWORD *)this + 3);
  v2 = this;
  if ( v1 <= 0 )
  {
    result = j_j_j__ZN7Channel7DoResetEv(this);
  }
  else
  {
    result = v1 - 1;
    *((_DWORD *)v2 + 3) = v1 - 1;
  }
  return result;
}

//----- (0001363A) --------------------------------------------------------
int __fastcall Channel::DisableCaps(int result, unsigned int a2)
{
  *(_DWORD *)(result + 20) |= a2;
  return result;
}

//----- (00013642) --------------------------------------------------------
Channel *__fastcall ChannelMgr::DisableChannelCaps(ChannelMgr *this, int a2, unsigned int a3)
{
  int v3; // r4@1
  Channel *result; // r0@1

  v3 = a2;
  result = (Channel *)sub_130F4((int)this);
  if ( result )
    result = (Channel *)j_j_j__ZN7Channel11DisableCapsEj(result, v3);
  return result;
}

//----- (00013658) --------------------------------------------------------
int __fastcall Channel::RestoreCaps(int result)
{
  *(_DWORD *)(result + 20) = 0;
  return result;
}

//----- (00013660) --------------------------------------------------------
void __fastcall ChannelMgr::RestoreAllChannelsCaps(ChannelMgr *this)
{
  int i; // r4@1
  Channel *v2; // r0@3

  for ( i = 0; i < ChannelMgr::m_numOfChannels; ++i )
  {
    v2 = (Channel *)*((_DWORD *)ChannelMgr::m_allChannels + i);
    if ( v2 )
      Channel::RestoreCaps(v2);
  }
}

//----- (00013690) --------------------------------------------------------
int __fastcall Channel::RefreshState(int result)
{
  if ( *(_BYTE *)(result + 8) )
  {
    *(_BYTE *)(result + 8) = 0;
    *(_DWORD *)(result + 28) = 0;
  }
  return result;
}

//----- (0001369C) --------------------------------------------------------
void __fastcall ChannelMgr::RefresheAllChannelsState(ChannelMgr *this)
{
  int i; // r4@1
  Channel *v2; // r0@3

  for ( i = 0; i < ChannelMgr::m_numOfChannels; ++i )
  {
    v2 = (Channel *)*((_DWORD *)ChannelMgr::m_allChannels + i);
    if ( v2 )
      Channel::RefreshState(v2);
  }
}

//----- (000136CC) --------------------------------------------------------
int __fastcall HwcDisplay::HwcDisplay(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r6@1
  _DWORD *v5; // r5@1
  int v6; // r2@1
  HwcConfig *v7; // r0@3

  v3 = a1;
  v4 = a2;
  v5 = (_DWORD *)a3;
  pthread_cond_init((pthread_cond_t *)(a1 + 12), 0);
  pthread_mutex_init((pthread_mutex_t *)(v3 + 16), 0);
  *(_DWORD *)v3 = v4;
  *(_BYTE *)(v3 + 8) = 0;
  *(_BYTE *)(v3 + 9) = 0;
  *(_DWORD *)(v3 + 20) = 0;
  *(_DWORD *)(v3 + 24) = 0;
  *(_DWORD *)(v3 + 28) = 0;
  *(_DWORD *)(v3 + 32) = 0;
  *(_DWORD *)(v3 + 36) = 0;
  v6 = v5[1];
  *(_BYTE *)(v3 + 80) = 0;
  *(_BYTE *)(v3 + 44) = 0;
  *(_BYTE *)(v3 + 81) = 0;
  *(_DWORD *)(v3 + 40) = v6;
  memset((void *)(v3 + 48), 0, 0x20u);
  if ( *v5 )
  {
    v7 = (HwcConfig *)open((const char *)*v5, 2);
    *(_DWORD *)(v3 + 4) = v7;
    if ( (signed int)v7 < 0 && HwcConfig::GetDebugLevel(v7) > 1 )
      _android_log_print(4, "hwcomposer", "%s:%d: %s open failed", "HwcDisplay", 63, *v5);
  }
  else
  {
    *(_DWORD *)(v3 + 4) = -1;
  }
  return v3;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00013760) --------------------------------------------------------
HwcDisplay *__fastcall HwcDisplay::~HwcDisplay(HwcDisplay *this)
{
  HwcDisplay *v1; // r4@1
  int v2; // r0@1

  v1 = this;
  v2 = *((_DWORD *)this + 1);
  if ( v2 >= 0 )
    close(v2);
  *((_DWORD *)v1 + 10) = 0;
  pthread_mutex_destroy((pthread_mutex_t *)((char *)v1 + 16));
  pthread_cond_destroy((pthread_cond_t *)((char *)v1 + 12));
  return v1;
}

//----- (00013788) --------------------------------------------------------
signed int __fastcall HwcDisplay::Connect(HwcDisplay *this, int a2)
{
  HwcDisplay *v2; // r4@1
  int v3; // r0@1
  HwcConfig *v4; // r0@3
  int v5; // r0@4
  int v6; // r1@4
  int *v7; // r0@5
  char *v8; // r0@5
  signed int result; // r0@6
  float v15; // [sp+8h] [bp-A8h]@3
  int v16; // [sp+Ch] [bp-A4h]@7

  v2 = this;
  v3 = *((_DWORD *)this + 1);
  if ( v3 < 0 )
    return -1;
  if ( a2 )
  {
    v4 = (HwcConfig *)ioctl(v3, 0x4600u, &v15);
    if ( (signed int)v4 < 0 )
    {
      v5 = HwcConfig::GetDebugLevel(v4);
      if ( v5 >= 0 )
      {
        v7 = (int *)_errno(v5, v6);
        v8 = strerror(*v7);
        _android_log_print(6, "hwcomposer", "%s:%d: FBIOGET_VSCREENINFO ioctl failed: %s", "Connect", 84, v8);
      }
      return -1;
    }
    _R0 = v16;
    __asm
    {
      VLDR            S15, [SP,#0xB0+var_A8]
      VLDR            S0, =25.4
    }
    *((_BYTE *)v2 + 8) = 1;
    __asm
    {
      VLDR            S12, =1000.0
      VMOV            S6, R0
      VLDR            S13, [SP,#0xB0+var_4C]
    }
    *((_DWORD *)v2 + 6) = _R0;
    result = 0;
    __asm
    {
      VLDR            S10, [SP,#0xB0+var_50]
      VCVT.F32.U32    S14, S15
      VCVT.F32.U32    S7, S6
      VCVT.F32.U32    S3, S13
    }
    *((float *)v2 + 5) = v15;
    __asm { VCVT.F32.U32    S11, S10 }
    *((_DWORD *)v2 + 9) = 16666666;
    __asm
    {
      VMUL.F32        S1, S14, S0
      VMUL.F32        S8, S7, S0
      VMUL.F32        S2, S1, S12
      VMUL.F32        S9, S8, S12
      VDIV.F32        S4, S2, S3
      VDIV.F32        S15, S9, S11
      VCVTR.S32.F32   S5, S4
      VCVTR.S32.F32   S14, S15
      VSTR            S5, [R4,#0x1C]
      VSTR            S14, [R4,#0x20]
    }
  }
  else
  {
    result = 0;
    *((_BYTE *)v2 + 9) = 0;
    *((_BYTE *)v2 + 8) = 0;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);

//----- (0001385C) --------------------------------------------------------
signed int __fastcall HwcDisplay::EventControl(HwcDisplay *this, int a2, int a3)
{
  int v3; // r4@1
  HwcDisplay *v4; // r6@1
  int v5; // r5@1
  int v6; // r0@1
  HwcConfig *v7; // r0@1
  signed int v8; // r1@3
  HwcConfig *v9; // r0@5
  signed int v10; // r4@5
  int v11; // r5@8
  signed int result; // r0@10
  int v13; // [sp+4h] [bp-14h]@1

  v13 = a2;
  v3 = a2;
  v4 = this;
  v5 = a3;
  v6 = HwcConfig::GetPlatform(this);
  v7 = (HwcConfig *)(*(int (__cdecl **)(int, _DWORD))(*(_DWORD *)v6 + 8))(v6, *(_DWORD *)(*(_DWORD *)v6 + 8));
  if ( v3 )
  {
    if ( HwcConfig::GetDebugLevel(v7) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: unknown event %d", "EventControl", 133, v3);
    result = -22;
  }
  else
  {
    if ( !v7 )
      goto LABEL_17;
    v8 = v5;
    if ( v5 )
      v8 = 1;
    v9 = (HwcConfig *)(*(int (__cdecl **)(HwcConfig *, signed int))(*(_DWORD *)v7 + 12))(v7, v8);
    v10 = (signed int)v9;
    if ( (signed int)v9 < 0 )
    {
      if ( HwcConfig::GetDebugLevel(v9) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: vsync ioctl failed", "EventControl", 120, v13);
      result = v10;
    }
    else
    {
LABEL_17:
      pthread_mutex_lock((pthread_mutex_t *)((char *)v4 + 16));
      v11 = v5 != 0;
      *((_BYTE *)v4 + 9) = v11;
      if ( v11 )
        pthread_cond_signal((pthread_cond_t *)((char *)v4 + 12));
      pthread_mutex_unlock((pthread_mutex_t *)((char *)v4 + 16));
      result = 0;
    }
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00013910) --------------------------------------------------------
signed int __fastcall HwcDisplay::GetConfigs(HwcDisplay *this, unsigned int *a2, unsigned int *a3)
{
  signed int result; // r0@3

  if ( *a3 && *((_BYTE *)this + 8) )
  {
    result = 0;
    *a2 = 0;
    *a3 = 1;
  }
  else
  {
    result = -22;
  }
  return result;
}

//----- (00013928) --------------------------------------------------------
HwcConfig *__fastcall HwcDisplay::GetAttributes(HwcDisplay *this, unsigned int a2, const unsigned int *a3, int *a4)
{
  HwcDisplay *v4; // r6@1
  const unsigned int *v5; // r7@1
  int *i; // r4@1
  HwcConfig *result; // r0@2
  HwcConfig *v8; // t1@2
  int v9; // r3@4

  v4 = this;
  v5 = a3 - 1;
  for ( i = a4; ; ++i )
  {
    v8 = (HwcConfig *)v5[1];
    ++v5;
    result = v8;
    if ( !v8 )
      break;
    switch ( result )
    {
      case 1u:
        v9 = *((_DWORD *)v4 + 9);
        goto LABEL_6;
      case 2u:
        v9 = *((_DWORD *)v4 + 5);
        goto LABEL_6;
      case 3u:
        v9 = *((_DWORD *)v4 + 6);
        goto LABEL_6;
      case 4u:
        v9 = *((_DWORD *)v4 + 7);
        goto LABEL_6;
      case 5u:
        v9 = *((_DWORD *)v4 + 8);
LABEL_6:
        *i = v9;
        break;
      default:
        if ( HwcConfig::GetDebugLevel(result) >= 0 )
          _android_log_print(6, "hwcomposer", "%s:%d: Unknown display attribute %u", "GetAttributes", 177, *v5);
        break;
    }
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (000139A4) --------------------------------------------------------
int __fastcall HwcDisplay::Blank(HwcDisplay *this, int a2)
{
  signed int v2; // r2@2
  HwcDisplay *v3; // r5@4
  int v4; // r4@4
  int v5; // r0@4
  int v6; // r1@4
  HwcConfig *v7; // r0@5
  int *v8; // r5@5
  const char *v9; // r0@8
  const char *v10; // r4@13
  char *v11; // ST08_4@15
  int result; // r0@16
  char v13; // r0@17

  if ( a2 )
    v2 = 4;
  else
    v2 = 0;
  v3 = this;
  v4 = a2;
  v5 = ioctl(*((_DWORD *)this + 1), 0x4611u, v2);
  if ( v5 >= 0 )
  {
    v13 = v4;
    if ( v4 )
      v13 = 1;
    *((_BYTE *)v3 + 44) = v13;
    result = 0;
  }
  else
  {
    v7 = (HwcConfig *)_errno(v5, v6);
    v8 = (int *)v7;
    if ( *(_DWORD *)v7 == 16 )
    {
      if ( HwcConfig::GetDebugLevel(v7) > 1 )
      {
        if ( v4 )
          v9 = (const char *)&unk_2650F;
        else
          v9 = "un";
        _android_log_print(
          4,
          "hwcomposer",
          "%s:%d: %sblank ioctl failed (display already %sblanked)",
          "Blank",
          202,
          v9,
          v9);
      }
    }
    else if ( HwcConfig::GetDebugLevel(v7) >= 0 )
    {
      if ( v4 )
        v10 = (const char *)&unk_2650F;
      else
        v10 = "un";
      v11 = strerror(*v8);
      _android_log_print(6, "hwcomposer", "%s:%d: %sblank ioctl failed: %s", "Blank", 205, v10, v11);
    }
    result = -*v8;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);

//----- (00013A6C) --------------------------------------------------------
int __fastcall HwcDisplay::WaitForVsyncEnable(HwcDisplay *this)
{
  pthread_mutex_t *v1; // r4@1
  HwcDisplay *v2; // r5@1

  v1 = (pthread_mutex_t *)((char *)this + 16);
  v2 = this;
  pthread_mutex_lock((pthread_mutex_t *)((char *)this + 16));
  if ( !*((_BYTE *)v2 + 9) )
    pthread_cond_wait((pthread_cond_t *)((char *)v2 + 12), v1);
  return j_j_pthread_mutex_unlock(v1);
}

//----- (00013A92) --------------------------------------------------------
int __fastcall HwcDisplay::HandleEvent(int result, int a2, int a3, _BYTE *a4)
{
  _DWORD *v4; // r4@1
  int v5; // r5@1
  int v6; // r6@7

  v4 = (_DWORD *)result;
  v5 = a3;
  if ( a2 )
  {
    if ( a2 == 16 )
    {
      v6 = *a4;
      HwcDisplay::Connect((HwcDisplay *)result, v6);
      result = (*(int (__fastcall **)(int, _DWORD, int))(v5 + 8))(v5, *v4, v6);
    }
  }
  else if ( *(_BYTE *)(result + 9) )
  {
    result = *(_BYTE *)(result + 8);
    if ( result )
      result = (*(int (__fastcall **)(int, _DWORD, _DWORD, _DWORD))(a3 + 4))(
                 a3,
                 *v4,
                 *(_QWORD *)a4,
                 *(_QWORD *)a4 >> 32);
  }
  return result;
}

//----- (00013AD2) --------------------------------------------------------
int __fastcall HwcDisplay::SetupWriteback(HwcDisplay *this)
{
  int v1; // r0@1
  int v2; // r0@1

  v1 = HwcConfig::GetPlatform(this);
  v2 = (*(int (**)(void))(*(_DWORD *)v1 + 12))();
  return (*(int (**)(void))(*(_DWORD *)v2 + 20))();
}

//----- (00013AEC) --------------------------------------------------------
int __fastcall HwcDisplay::ReleaseWriteback(HwcDisplay *this)
{
  int v1; // r0@1
  int v2; // r0@1

  v1 = HwcConfig::GetPlatform(this);
  v2 = (*(int (**)(void))(*(_DWORD *)v1 + 12))();
  return (*(int (**)(void))(*(_DWORD *)v2 + 20))();
}

//----- (00013B06) --------------------------------------------------------
int __fastcall HwcDisplay::GetPoliciesForPrepare(HwcDisplay *this, int a2)
{
  return *((_DWORD *)this + a2 + 12);
}

//----- (00013B0E) --------------------------------------------------------
int __fastcall HwcDisplay::CheckPureLayers(HwcConfig *a1, int a2, int a3)
{
  int v3; // r4@1
  HwcConfig *v4; // r5@1
  int v5; // r6@1
  int v6; // r0@1
  int result; // r0@1

  v3 = a2;
  v4 = a1;
  v5 = a3;
  v6 = HwcConfig::GetPlatform(a1);
  result = (*(int (**)(void))(*(_DWORD *)v6 + 28))();
  if ( result )
  {
    result = HwcPureLayerChecker::Check(result, v3, v5);
    if ( *((_BYTE *)v4 + 81) != result )
    {
      *((_BYTE *)v4 + 81) = result;
      *(_BYTE *)(v3 + 108) = 1;
    }
  }
  return result;
}

//----- (00013B3E) --------------------------------------------------------
HwcPureLayerChecker *__fastcall HwcDisplay::ClearPureLayers(HwcDisplay *this)
{
  int v1; // r0@1
  HwcPureLayerChecker *result; // r0@1

  v1 = HwcConfig::GetPlatform(this);
  result = (HwcPureLayerChecker *)(*(int (**)(void))(*(_DWORD *)v1 + 28))();
  if ( result )
    result = (HwcPureLayerChecker *)j_j_j__ZN19HwcPureLayerChecker5ClearEv(result);
  return result;
}

//----- (00013B58) --------------------------------------------------------
int __fastcall HwcDisplay::GetPureLayers(HwcDisplay *this, int a2)
{
  int v2; // r0@1
  int v3; // r0@1
  int v4; // r4@1
  int result; // r0@2
  int v6; // [sp+4h] [bp-Ch]@1

  v6 = a2;
  v2 = HwcConfig::GetPlatform(this);
  v3 = (*(int (__cdecl **)(int, _DWORD))(*(_DWORD *)v2 + 28))(v2, *(_DWORD *)(*(_DWORD *)v2 + 28));
  v4 = v3;
  if ( v3 )
  {
    result = v3 + 8;
  }
  else
  {
    if ( HwcConfig::GetDebugLevel(0) >= 0 )
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: please check platform, get pureLayerChecker there!!",
        "GetPureLayers",
        479,
        v6);
    result = v4;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00013BA0) --------------------------------------------------------
_DWORD *__fastcall HwcDisplay::UpdatePureLayerInfo(HwcDisplay *this, const HwcCompInfo *a2, int a3)
{
  const HwcCompInfo *v3; // r5@1
  int v4; // r0@1
  int v5; // r2@1
  _DWORD *result; // r0@1
  int v7; // r6@1
  const HwcCompInfo *v8; // r4@2
  int v9; // r7@2
  int i; // r5@2
  int v11; // r0@4
  unsigned int *v12; // r2@4
  unsigned int v13; // r3@6
  HwcDisplay *v14; // [sp+0h] [bp-20h]@1
  const HwcCompInfo *v15; // [sp+4h] [bp-1Ch]@1
  int v16; // [sp+8h] [bp-18h]@1

  v14 = this;
  v15 = a2;
  v16 = a3;
  v3 = a2;
  v4 = HwcConfig::GetPlatform(this);
  result = (_DWORD *)(*(int (__cdecl **)(int, _DWORD, int))(*(_DWORD *)v4 + 28))(
                       v4,
                       *(_DWORD *)(*(_DWORD *)v4 + 28),
                       v5);
  v7 = (int)result;
  if ( result )
  {
    v14 = (HwcDisplay *)&off_2DAC8;
    v15 = (const HwcCompInfo *)operator new[](0xCu);
    *((_DWORD *)v15 + 1) = v15;
    v8 = v15;
    *((_DWORD *)v8 + 2) = v8;
    v9 = *((_DWORD *)v3 + 2);
    for ( i = *(_DWORD *)(v9 + 8); i != v9; i = *(_DWORD *)(i + 8) )
    {
      v11 = operator new(0xCu);
      v12 = *(unsigned int **)i;
      *(_DWORD *)v11 = *(_DWORD *)i;
      if ( v12 )
      {
        __dmb();
        do
          v13 = __ldrex(v12);
        while ( __strex(v13 + 1, v12) );
      }
      *(_DWORD *)(v11 + 8) = v8;
      *(_DWORD *)(v11 + 4) = *((_DWORD *)v8 + 1);
      *(_DWORD *)(*((_DWORD *)v8 + 1) + 8) = v11;
      *((_DWORD *)v8 + 1) = v11;
    }
    HwcPureLayerChecker::UpdateLayerInfo(v7, (int)&v14);
    result = sub_11F00(&v14);
  }
  return result;
}
// 2DAC8: using guessed type void *off_2DAC8;

//----- (00013C18) --------------------------------------------------------
_DWORD *__fastcall android::sp<_hwcSubCompInfo>::~sp(_DWORD *a1)
{
  _DWORD *v1; // r5@1
  int v2; // r4@1
  unsigned int v3; // r3@3

  v1 = a1;
  v2 = *a1;
  if ( *a1 )
  {
    __dmb();
    do
      v3 = __ldrex((unsigned int *)v2);
    while ( __strex(v3 - 1, (unsigned int *)v2) );
    if ( v3 == 1 )
    {
      android::sp<HwcLayerInfo>::~sp((unsigned int **)(v2 + 20));
      sub_1268C(v2 + 12);
      sub_11F00((_DWORD *)(v2 + 4));
      operator delete((void *)v2);
    }
  }
  return v1;
}

//----- (00013C56) --------------------------------------------------------
unsigned int **__fastcall android::sp<_hwcSubCompInfo>::operator=(unsigned int **a1, unsigned int **a2)
{
  unsigned int **v2; // r6@1
  unsigned int *v3; // r5@1
  unsigned int v4; // r3@3
  unsigned int *v5; // r4@4
  unsigned int v6; // r0@6

  v2 = a1;
  v3 = *a2;
  if ( *a2 )
  {
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 + 1, v3) );
  }
  v5 = *a1;
  if ( *a1 )
  {
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 - 1, v5) );
    if ( v6 == 1 )
    {
      android::sp<HwcLayerInfo>::~sp((unsigned int **)v5 + 5);
      sub_1268C((int)(v5 + 3));
      sub_11F00(v5 + 1);
      operator delete(v5);
    }
  }
  *v2 = v3;
  return v2;
}

//----- (00013CAC) --------------------------------------------------------
unsigned int **__fastcall android::sp<_hwcAreaInfo>::operator=(unsigned int **a1, unsigned int **a2)
{
  unsigned int **v2; // r6@1
  unsigned int *v3; // r5@1
  unsigned int v4; // r3@3
  unsigned int *v5; // r4@4
  unsigned int v6; // r0@6

  v2 = a1;
  v3 = *a2;
  if ( *a2 )
  {
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 + 1, v3) );
  }
  v5 = *a1;
  if ( *a1 )
  {
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 - 1, v5) );
    if ( v6 == 1 )
    {
      sub_11F00(v5 + 5);
      operator delete(v5);
    }
  }
  *v2 = v3;
  return v2;
}

//----- (00013CF4) --------------------------------------------------------
_DWORD *__fastcall HwcDisplay::SetHardware(HwcDisplay *this, HwcCompInfo *a2)
{
  HwcDisplay *v2; // r9@1
  HwcCompInfo *v3; // r4@1
  int v4; // r0@1
  int v5; // r1@1
  HwcConfig *v6; // r0@1
  HwcConfig *v7; // r11@1
  int v8; // r0@1
  HwcConfig *v9; // r0@1
  HwcConfig *v10; // r5@1
  int v11; // r0@12
  unsigned int **v12; // r1@12
  int v14; // r3@16
  int v15; // r0@22
  signed int v16; // r10@22
  int v17; // r0@22
  int v18; // r6@22
  HwcConfig *v19; // r0@22
  int v20; // r7@24
  int v21; // r8@24
  HwcConfig *v22; // r0@25
  int v23; // r6@27
  unsigned int v24; // r1@27
  int v25; // r1@29
  int v26; // r8@29
  unsigned int **i; // r12@29
  HwcConfig *v28; // r0@35
  int j; // r7@45
  int v30; // r6@47
  int v31; // r5@47
  HwcConfig *v32; // r0@49
  int k; // r5@71
  HwcLayerInfo *v34; // r7@73
  int v35; // r0@73
  int v36; // r2@73
  int v37; // [sp+8h] [bp-50h]@27
  int v38; // [sp+8h] [bp-50h]@47
  int v39; // [sp+Ch] [bp-4Ch]@29
  int v40; // [sp+Ch] [bp-4Ch]@47
  unsigned int **v41; // [sp+1Ch] [bp-3Ch]@31
  int v42; // [sp+20h] [bp-38h]@1
  int v43; // [sp+24h] [bp-34h]@1
  HwcLayerInfo *v44; // [sp+28h] [bp-30h]@1
  int fd; // [sp+2Ch] [bp-2Ch]@1

  v2 = this;
  v3 = a2;
  v42 = 0;
  v43 = 0;
  v44 = 0;
  fd = -1;
  v4 = HwcConfig::GetPlatform((HwcConfig *)0xFFFFFFFF);
  v5 = *(_DWORD *)v2;
  v6 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v4 + 12))();
  v7 = v6;
  v8 = HwcConfig::GetPlatform(v6);
  v9 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v8 + 16))();
  v10 = v9;
  if ( v7 && v9 )
  {
    if ( *(_DWORD *)(*((_DWORD *)v3 + 9) + 8) != *((_DWORD *)v3 + 9)
      || (v9 = (HwcConfig *)*((_DWORD *)v3 + 6), *((HwcConfig **)v9 + 2) != v9) )
    {
      if ( *(_DWORD *)v2 == 2 )
      {
        v11 = *((_DWORD *)v3 + 6);
        v12 = *(unsigned int ***)(v11 + 8);
        if ( v12 != (unsigned int **)v11 )
        {
          android::sp<_hwcSubCompInfo>::operator=((unsigned int **)&v42, v12);
          (*(void (__fastcall **)(HwcConfig *, _DWORD, _DWORD))(*(_DWORD *)v10 + 16))(
            v10,
            **(_DWORD **)(*(_DWORD *)(v42 + 8) + 8),
            *(_DWORD *)(v42 + 20));
        }
      }
      else if ( *((_BYTE *)v2 + 44) )
      {
        if ( HwcConfig::GetDebugLevel(v9) > 1 )
          _android_log_print(4, "hwcomposer", "%s:%d: screen is blank, should not do compose", "SetHardware", 312);
      }
      else
      {
        if ( *((_BYTE *)v3 + 79) )
        {
          v14 = *(_DWORD *)(*((_DWORD *)v3 + 13) + 12);
          if ( !v14
            || *(_DWORD *)v14 != 12
            || *(_DWORD *)(v14 + 8) != 48
            || *(_DWORD *)(v14 + 4) != 1
            || *(_DWORD *)(v14 + 16) != 51647890 )
          {
            goto LABEL_14;
          }
          v9 = (HwcConfig *)memset(*(void **)(v14 + 48), *((_BYTE *)v2 + 44), *(_DWORD *)(v14 + 40));
        }
        v15 = HwcConfig::GetPlatform(v9);
        v16 = 0;
        v17 = (*(int (**)(void))(*(_DWORD *)v15 + 8))();
        (*(void (**)(void))(*(_DWORD *)v17 + 8))();
        v18 = *(_DWORD *)(*((_DWORD *)v3 + 6) + 8);
        v19 = (HwcConfig *)"offline";
        while ( v18 != *((_DWORD *)v3 + 6) )
        {
          android::sp<_hwcSubCompInfo>::operator=((unsigned int **)&v42, (unsigned int **)v18);
          v20 = *(_DWORD *)(v42 + 16);
          v21 = *(_DWORD *)(v20 + 8);
          if ( v21 == v20 )
          {
            v22 = (HwcConfig *)(*(int (__fastcall **)(HwcConfig *, _DWORD, _DWORD))(*(_DWORD *)v10 + 16))(
                                 v10,
                                 **(_DWORD **)(*(_DWORD *)(v42 + 8) + 8),
                                 *(_DWORD *)(v42 + 20));
            v19 = (HwcConfig *)HwcConfig::NeedDumpBlockRot(v22);
            if ( v19 )
              v19 = (HwcConfig *)HwcDumpBin(*(const HwcLayerInfo **)(v42 + 20), "BlockRot");
          }
          else
          {
            v23 = *(_DWORD *)(v18 + 8);
            v24 = v23 - *((_DWORD *)v3 + 6);
            v18 = *(_DWORD *)(v23 + 4);
            v37 = v24 <= 0;
            while ( 1 )
            {
              v19 = *(HwcConfig **)(v42 + 16);
              if ( (HwcConfig *)v21 == v19 )
                break;
              android::sp<_hwcAreaInfo>::operator=((unsigned int **)&v43, (unsigned int **)v21);
              v25 = *(_DWORD *)(v21 + 8);
              v26 = (unsigned int)(v25 - *(_DWORD *)(v42 + 16)) <= 0;
              v39 = *(_DWORD *)(v25 + 4);
              for ( i = *(unsigned int ***)(*(_DWORD *)(v43 + 24) + 8);
                    i != *(unsigned int ***)(v43 + 24);
                    i = (unsigned int **)v41[2] )
              {
                v41 = i;
                android::sp<HwcLayerInfo>::operator=((unsigned int **)&v44, i);
                if ( (*(int (__fastcall **)(HwcConfig *, HwcLayerInfo *, int))(*(_DWORD *)v10 + 8))(v10, v44, v43)
                  && !*((_BYTE *)v2 + 80) )
                {
                  *((_BYTE *)v3 + 92) = 1;
                  v16 = 1;
                  *((_BYTE *)v2 + 80) = 1;
                }
              }
              v28 = (HwcConfig *)(*(int (__fastcall **)(HwcConfig *, _DWORD))(*(_DWORD *)v10 + 12))(
                                   v10,
                                   *(_DWORD *)(v42 + 20));
              if ( v28 )
              {
                v28 = (HwcConfig *)*((_BYTE *)v2 + 80);
                if ( !*((_BYTE *)v2 + 80) )
                {
                  *((_BYTE *)v3 + 92) = 1;
                  v16 = 1;
                  *((_BYTE *)v2 + 80) = 1;
                }
              }
              if ( *((_BYTE *)v3 + 77) && v26 && v37 && HwcConfig::NeedDumpWriteback(v28) )
                HwcDumpBin(*(const HwcLayerInfo **)(v42 + 20), "offline");
              v21 = *(_DWORD *)(v39 + 8);
            }
          }
          v18 = *(_DWORD *)(v18 + 8);
        }
        for ( j = *(_DWORD *)(*((_DWORD *)v3 + 11) + 8); j != *((_DWORD *)v3 + 11); j = *(_DWORD *)(v40 + 8) )
        {
          android::sp<_hwcAreaInfo>::operator=((unsigned int **)&v43, (unsigned int **)j);
          v30 = *(_DWORD *)(j + 8);
          v38 = *((_DWORD *)v3 + 11);
          v31 = *(_DWORD *)(*(_DWORD *)(v43 + 24) + 8);
          v40 = *(_DWORD *)(v30 + 4);
          while ( 1 )
          {
            v19 = *(HwcConfig **)(v43 + 24);
            if ( (HwcConfig *)v31 == v19 )
              break;
            android::sp<HwcLayerInfo>::operator=((unsigned int **)&v44, (unsigned int **)v31);
            v32 = (HwcConfig *)(*(int (__fastcall **)(HwcConfig *, HwcLayerInfo *, int))(*(_DWORD *)v7 + 8))(
                                 v7,
                                 v44,
                                 v43);
            if ( v32 && !*((_BYTE *)v2 + 80) )
            {
              *((_BYTE *)v3 + 92) = 1;
              v16 = 1;
              *((_BYTE *)v2 + 80) = 1;
            }
            if ( *((_BYTE *)v3 + 78) && HwcConfig::NeedDumpFrameTarget(v32) )
              HwcDumpBin(v44, "Fb");
            v31 = *(_DWORD *)(v31 + 8);
          }
          if ( v30 != v38 )
          {
            v19 = (HwcConfig *)(*(int (__fastcall **)(HwcConfig *, _DWORD))(*(_DWORD *)v7 + 12))(v7, 0);
            if ( v19 )
            {
              if ( !*((_BYTE *)v2 + 80) )
              {
                v16 = 1;
                *((_BYTE *)v3 + 92) = 1;
                *((_BYTE *)v2 + 80) = 1;
              }
            }
          }
        }
        if ( v43 )
        {
          if ( (*(int (__fastcall **)(HwcConfig *, _DWORD))(*(_DWORD *)v7 + 16))(v7, *((_DWORD *)v3 + 12))
            && !*((_BYTE *)v2 + 80) )
          {
            v16 = 1;
            *((_BYTE *)v3 + 92) = 1;
            *((_BYTE *)v2 + 80) = 1;
          }
          if ( *((_BYTE *)v2 + 80) && !v16 )
            *((_BYTE *)v2 + 80) = 0;
          if ( fd > 0 )
          {
            for ( k = *(_DWORD *)(*((_DWORD *)v3 + 9) + 8); k != *((_DWORD *)v3 + 9); k = *(_DWORD *)(k + 8) )
            {
              v34 = *(HwcLayerInfo **)k;
              v35 = dup(fd);
              HwcLayerInfo::SetReleaseFenceFd(v34, v35, v36);
            }
            **((_DWORD **)v3 + 25) = dup(fd);
            close(fd);
          }
        }
        else if ( HwcConfig::GetDebugLevel(v19) >= 0 )
        {
          _android_log_print(6, "hwcomposer", "%s:%d: the last area is NULL", "SetHardware", 417);
        }
      }
    }
  }
  else if ( HwcConfig::GetDebugLevel(v9) >= 0 )
  {
    _android_log_print(6, "hwcomposer", "%s:%d: get overlay or compose device err", "SetHardware", 280);
  }
LABEL_14:
  android::sp<HwcLayerInfo>::~sp((unsigned int **)&v44);
  android::sp<_hwcAreaInfo>::~sp(&v43);
  return android::sp<_hwcSubCompInfo>::~sp(&v42);
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (000140C0) --------------------------------------------------------
void *__fastcall HwcPartialUpdates::HwcPartialUpdates(void *a1)
{
  void *v1; // r4@1
  void *result; // r0@1

  v1 = a1;
  memset(a1, 0, 0x10u);
  memset((char *)v1 + 16, 0, 0x10u);
  result = v1;
  *((_BYTE *)v1 + 32) = 0;
  return result;
}

//----- (000140E4) --------------------------------------------------------
int __fastcall HwcPartialUpdates::UpdateDirtyRegionLcdLimit(int result, int a2)
{
  int v2; // r4@1
  int v3; // r5@1
  int v4; // r0@10
  int v5; // r1@12
  int v6; // r6@14
  int v7; // r3@16
  int v8; // r1@20
  int v9; // r2@22
  int v10; // r1@24
  int v11; // r2@24
  signed int v12; // r3@26
  int v13; // r1@27
  int v14; // r0@27
  signed int v15; // r6@27
  int v16; // r3@28
  int v17; // r1@28
  int v18; // r0@30
  int v19; // r6@31
  int v20; // r1@32
  int v21; // r0@32
  signed int v22; // r3@34
  int v23; // r1@35
  int v24; // r0@35
  int v25; // lr@35
  int v26; // r3@36
  int v27; // r1@36
  HwcConfig *v28; // r0@38
  signed int v29; // r6@39
  HwcConfig *v30; // r3@39
  HwcConfig *v31; // r0@40

  v2 = result;
  v3 = a2;
  if ( a2 )
  {
    if ( *(_DWORD *)result
      || (result = *(_DWORD *)(result + 4)) != 0
      || *(_DWORD *)(v2 + 8) != *(_DWORD *)(v2 + 24)
      || *(_DWORD *)(v2 + 12) != *(_DWORD *)(v2 + 28) )
    {
      if ( HwcConfig::GetDebugLevel((HwcConfig *)result) > 2 )
        _android_log_print(
          3,
          "hwcomposer",
          "%s:%d: original dirtyRegion [%d %d %d %d]",
          "UpdateDirtyRegionLcdLimit",
          46,
          *(_DWORD *)v2,
          *(_DWORD *)(v2 + 4),
          *(_DWORD *)(v2 + 8),
          *(_DWORD *)(v2 + 12));
      v4 = *(_DWORD *)(v3 + 32);
      if ( v4 != -1 )
        *(_DWORD *)(v2 + 4) = v4;
      v5 = *(_DWORD *)(v3 + 36);
      if ( v5 != -1 )
        *(_DWORD *)(v2 + 12) = v5;
      v6 = *(_DWORD *)(v3 + 4);
      if ( v6 > 0 )
        *(_DWORD *)(v2 + 8) = -v6 & (*(_DWORD *)(v2 + 8) + v6 - 1);
      v7 = *(_DWORD *)(v3 + 12);
      if ( v7 > 0 )
        *(_DWORD *)(v2 + 12) = -v7 & (*(_DWORD *)(v2 + 12) + v7 - 1);
      if ( *(_DWORD *)v3 > 0 )
        *(_DWORD *)v2 &= -*(_DWORD *)v3;
      v8 = *(_DWORD *)(v3 + 8);
      if ( v8 > 0 )
        *(_DWORD *)(v2 + 4) &= -v8;
      v9 = *(_DWORD *)(v3 + 24);
      if ( v9 > 0 && *(_DWORD *)(v2 + 8) - *(_DWORD *)v2 < v9 )
      {
        v10 = *(_DWORD *)(v2 + 24);
        v11 = v9 + *(_DWORD *)v2;
        *(_DWORD *)(v2 + 8) = v11;
        if ( v11 > v10 )
        {
          *(_DWORD *)(v2 + 8) = v10;
          *(_DWORD *)v2 = v10 - *(_DWORD *)(v3 + 24);
        }
      }
      v12 = *(_DWORD *)(v3 + 16);
      if ( v12 > 0 )
      {
        v13 = *(_DWORD *)(v2 + 8);
        v14 = *(_DWORD *)v2;
        v15 = v13 - *(_DWORD *)v2;
        if ( v15 != v12 * (v15 / v12) )
        {
          v16 = v12 - (v15 - v12 * (v15 / v12)) + v13;
          v17 = *(_DWORD *)(v2 + 24);
          *(_DWORD *)(v2 + 8) = v16;
          if ( v16 > v17 )
          {
            *(_DWORD *)(v2 + 8) = v17;
            *(_DWORD *)v2 = v17
                          - v14
                          - *(_DWORD *)(v3 + 16) * ((v17 - v14) / *(_DWORD *)(v3 + 16))
                          - *(_DWORD *)(v3 + 16)
                          + v14;
          }
        }
      }
      v18 = *(_DWORD *)(v3 + 28);
      if ( v18 > 0 )
      {
        v19 = *(_DWORD *)(v2 + 4);
        if ( *(_DWORD *)(v2 + 12) - v19 < v18 )
        {
          v20 = *(_DWORD *)(v2 + 28);
          v21 = v18 + v19;
          *(_DWORD *)(v2 + 12) = v21;
          if ( v21 > v20 )
          {
            *(_DWORD *)(v2 + 12) = v20;
            *(_DWORD *)(v2 + 4) = v20 - *(_DWORD *)(v3 + 28);
          }
        }
      }
      v22 = *(_DWORD *)(v3 + 20);
      if ( v22 > 0 )
      {
        v23 = *(_DWORD *)(v2 + 12);
        v24 = *(_DWORD *)(v2 + 4);
        v25 = (v23 - v24) / v22;
        if ( v23 - v24 != v22 * v25 )
        {
          v26 = v22 - (v23 - v24 - v22 * v25) + v23;
          v27 = *(_DWORD *)(v2 + 28);
          *(_DWORD *)(v2 + 12) = v26;
          if ( v26 > v27 )
          {
            *(_DWORD *)(v2 + 12) = v27;
            *(_DWORD *)(v2 + 4) = v27
                                - v24
                                - *(_DWORD *)(v3 + 20) * ((v27 - v24) / *(_DWORD *)(v3 + 20))
                                - *(_DWORD *)(v3 + 20)
                                + v24;
          }
        }
      }
      v28 = *(HwcConfig **)(v3 + 40);
      if ( (signed int)v28 > 0 )
      {
        v29 = *(_DWORD *)(v2 + 12);
        v30 = *(HwcConfig **)(v2 + 28);
        if ( v29 < (signed int)v30 )
        {
          v31 = (HwcConfig *)((char *)v28 + v29);
          *(_DWORD *)(v2 + 12) = (signed int)v31 > (signed int)v30 ? v30 : v31;
          v28 = (HwcConfig *)HwcConfig::GetDebugLevel(v31);
          if ( (signed int)v28 > 2 )
            v28 = (HwcConfig *)_android_log_print(
                                 3,
                                 "hwcomposer",
                                 "%s:%d: extra_line_num [%d]",
                                 "UpdateDirtyRegionLcdLimit",
                                 118,
                                 *(_DWORD *)(v3 + 40));
        }
      }
      result = HwcConfig::GetDebugLevel(v28);
      if ( result > 2 )
        result = _android_log_print(
                   3,
                   "hwcomposer",
                   "%s:%d: new dirtyRegion [%d %d %d %d]",
                   "UpdateDirtyRegionLcdLimit",
                   122,
                   *(_DWORD *)v2,
                   *(_DWORD *)(v2 + 4),
                   *(_DWORD *)(v2 + 8),
                   *(_DWORD *)(v2 + 12));
    }
  }
  else
  {
    result = HwcConfig::GetDebugLevel((HwcConfig *)result);
    if ( result >= 0 )
      result = _android_log_print(6, "hwcomposer", "%s:%d: lcdLimitRegion NULL", "UpdateDirtyRegionLcdLimit", 35);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00014300) --------------------------------------------------------
int __fastcall HwcPartialUpdates::Init(int a1, int a2, int a3, int a4)
{
  int v4; // r4@1
  int v5; // r6@1
  int v6; // r5@1
  int v7; // r2@1
  int v8; // r0@1
  int v9; // r1@1
  int v10; // r2@1
  int v11; // r3@1
  HwcConfig *i; // r0@1
  int v13; // r0@6
  int v14; // r0@6
  int v15; // r0@6
  int result; // r0@12
  int v17; // r1@12
  int v18; // r2@12
  int v19; // r3@12
  void *v20; // r1@13

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v7 = *(_DWORD *)(a3 + 16) - 1;
  *(_DWORD *)(a1 + 24) = *(_DWORD *)(a2 + 20);
  v8 = v6 + 112 * v7 + 60;
  *(_DWORD *)(v4 + 28) = *(_DWORD *)(a2 + 24);
  v9 = *(_DWORD *)(v6 + 112 * v7 + 64);
  v10 = *(_DWORD *)(v6 + 112 * v7 + 68);
  v11 = *(_DWORD *)(v8 + 12);
  *(_DWORD *)v4 = *(_DWORD *)v8;
  *(_DWORD *)(v4 + 4) = v9;
  *(_DWORD *)(v4 + 8) = v10;
  *(_DWORD *)(v4 + 12) = v11;
  for ( i = 0; (unsigned int)i < *(_DWORD *)(v6 + 16) - 1; i = (HwcConfig *)((char *)i + 1) )
  {
    if ( *(_DWORD *)(v6 + 112 * (_DWORD)i + 28) & 1 )
    {
      *(_BYTE *)(v4 + 32) = 1;
      break;
    }
  }
  v13 = HwcConfig::GetPlatform(i);
  v14 = (*(int (**)(void))(*(_DWORD *)v13 + 8))();
  v15 = (*(int (**)(void))(*(_DWORD *)v14 + 24))();
  if ( v5
    || !v15
    || *(_DWORD *)(v4 + 8) - *(_DWORD *)v4 <= 0
    || *(_DWORD *)(v4 + 12) - *(_DWORD *)(v4 + 4) <= 0
    || *(_BYTE *)(v4 + 32)
    || *(_DWORD *)(v6 + 16) == 1 )
  {
    result = *(_DWORD *)(v4 + 16);
    v17 = *(_DWORD *)(v4 + 20);
    v18 = *(_DWORD *)(v4 + 24);
    v19 = *(_DWORD *)(v4 + 28);
    *(_DWORD *)v4 = result;
    *(_DWORD *)(v4 + 4) = v17;
    *(_DWORD *)(v4 + 8) = v18;
    *(_DWORD *)(v4 + 12) = v19;
  }
  else
  {
    v20 = HwcConfig::GetLcdDirtyRegionLimit((HwcConfig *)*(_BYTE *)(v4 + 32));
    result = j_j_j__ZN17HwcPartialUpdates25UpdateDirtyRegionLcdLimitEPK21lcd_dirty_region_info(v4, (int)v20);
  }
  return result;
}

//----- (00014398) --------------------------------------------------------
signed int __fastcall HwcPartialUpdates::ChangeScaledDirtyRegion(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r8@1
  signed int v4; // r5@5
  int v5; // ST00_4@8
  int v6; // ST00_4@8
  int v7; // r11@15
  int v8; // r9@15
  int v9; // ST28_4@15
  int v10; // ST00_4@15
  HwcConfig *v11; // r0@15
  int v12; // r11@15
  int v13; // r10@15
  int v14; // r9@15
  int v15; // r6@15
  HwcConfig *v16; // r0@19
  void *v17; // r0@21
  int v19; // [sp+34h] [bp-9Ch]@11
  HwcConfig *v20; // [sp+38h] [bp-98h]@12
  int v21; // [sp+3Ch] [bp-94h]@13
  int v22; // [sp+40h] [bp-90h]@14
  char v23; // [sp+44h] [bp-8Ch]@8
  char v24; // [sp+58h] [bp-78h]@8
  char v25; // [sp+6Ch] [bp-64h]@8
  char v26; // [sp+80h] [bp-50h]@15
  int v27; // [sp+94h] [bp-3Ch]@8
  int v28; // [sp+98h] [bp-38h]@9
  int v29; // [sp+9Ch] [bp-34h]@8
  int v30; // [sp+A0h] [bp-30h]@9

  v2 = a1;
  v3 = a2;
  if ( a2 )
  {
    if ( *(_DWORD *)(a2 + 48) == *(_DWORD *)(a2 + 40) || *(_DWORD *)(a2 + 52) == *(_DWORD *)(a2 + 44) )
    {
      v4 = 0;
    }
    else if ( *(_DWORD *)a1
           || (v4 = *(_DWORD *)(a1 + 4)) != 0
           || *(_DWORD *)(a1 + 8) != *(_DWORD *)(a1 + 24)
           || *(_DWORD *)(a1 + 12) != *(_DWORD *)(a1 + 28) )
    {
      android::Region::Region(&v23);
      v5 = *(_DWORD *)(v3 + 52);
      android::Region::addRectUnchecked(&v23, *(_DWORD *)(v3 + 40), *(_DWORD *)(v3 + 44), *(_DWORD *)(v3 + 48));
      android::Region::Region(&v24);
      v6 = *(_DWORD *)(v2 + 12);
      android::Region::addRectUnchecked(&v24, *(_DWORD *)v2, *(_DWORD *)(v2 + 4), *(_DWORD *)(v2 + 8));
      android::Region::intersect(&v25, &v23, &v24);
      sub_11614((int)&v27, (int)&v25);
      if ( v29 - v27 <= 0
        || (v4 = v30 - v28 <= 0) != 0
        || (sub_11614((int)&v19, (int)&v25), v19 == *(_DWORD *)(v3 + 40))
        && v20 == *(HwcConfig **)(v3 + 44)
        && v21 == *(_DWORD *)(v3 + 48)
        && v22 == *(_DWORD *)(v3 + 52) )
      {
        v4 = 0;
      }
      else
      {
        android::Region::orSelf(&v24, &v23, v22);
        sub_11614((int)&v19, (int)&v24);
        v7 = v19;
        v8 = v21;
        v9 = (int)v20;
        android::Region::Region(&v26);
        v10 = *(_DWORD *)(v2 + 28);
        android::Region::addRectUnchecked(&v26, 0, 0, *(_DWORD *)(v2 + 24));
        android::Region::clear(&v24);
        android::Region::addRectUnchecked(&v24, v7, v9, v8);
        android::Region::intersect(&v27, &v24, &v26);
        android::Region::operator=(&v25, &v27);
        android::Region::~Region(&v27);
        v11 = (HwcConfig *)sub_11614((int)&v19, (int)&v25);
        v12 = v19;
        v13 = (int)v20;
        v14 = v21;
        v15 = v22;
        if ( v19 != *(_DWORD *)v2
          || (v11 = *(HwcConfig **)(v2 + 4), v20 != v11)
          || v21 != *(_DWORD *)(v2 + 8)
          || v22 != *(_DWORD *)(v2 + 12) )
        {
          v16 = (HwcConfig *)HwcConfig::GetDebugLevel(v11);
          if ( (signed int)v16 > 2 )
            v16 = (HwcConfig *)_android_log_print(
                                 3,
                                 "hwcomposer",
                                 "%s:%d: m_dirty[%d %d %d %d] ---> [%d %d %d %d]",
                                 "ChangeScaledDirtyRegion",
                                 212,
                                 *(_DWORD *)v2,
                                 *(_DWORD *)(v2 + 4),
                                 *(_DWORD *)(v2 + 8),
                                 *(_DWORD *)(v2 + 12),
                                 v12,
                                 v13,
                                 v14,
                                 v15);
          *(_DWORD *)v2 = v12;
          v4 = 1;
          *(_DWORD *)(v2 + 4) = v13;
          *(_DWORD *)(v2 + 8) = v14;
          *(_DWORD *)(v2 + 12) = v15;
          v17 = HwcConfig::GetLcdDirtyRegionLimit(v16);
          HwcPartialUpdates::UpdateDirtyRegionLcdLimit(v2, (int)v17);
        }
        android::Region::~Region(&v26);
      }
      android::Region::~Region(&v25);
      android::Region::~Region(&v24);
      android::Region::~Region(&v23);
    }
  }
  else
  {
    v4 = 0;
  }
  return v4;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E244: using guessed type int __fastcall android::Region::clear(_DWORD);
// E268: using guessed type int __fastcall android::Region::~Region(_DWORD);
// E2BC: using guessed type int __fastcall android::Region::Region(_DWORD);
// E2F8: using guessed type int __fastcall android::Region::intersect(_DWORD, _DWORD, _DWORD);
// E3AC: using guessed type int __fastcall android::Region::operator=(_DWORD, _DWORD);
// E634: using guessed type int __fastcall android::Region::addRectUnchecked(_DWORD, _DWORD, _DWORD, _DWORD);
// E640: using guessed type int __fastcall android::Region::orSelf(_DWORD, _DWORD, _DWORD);

//----- (0001459C) --------------------------------------------------------
unsigned int __fastcall HwcPartialUpdates::UpdateScaledDirtyRegion(int a1, int a2)
{
  int v2; // r8@1
  int v3; // r7@1
  int v5; // r5@2
  unsigned int v6; // r6@2
  unsigned int result; // r0@3
  int v8; // r0@4
  int v15; // r2@6

  v2 = a1;
  v3 = a2;
LABEL_2:
  _R4 = v3 + 72;
  v5 = v3 + 20;
  v6 = 0;
  while ( 1 )
  {
    result = *(_DWORD *)(v3 + 16) - 1;
    if ( v6 >= result )
      return result;
    v8 = *(_DWORD *)(_R4 - 4) - *(_DWORD *)(_R4 - 12);
    if ( *(_DWORD *)(_R4 - 36) & 4 )
    {
      __asm
      {
        VLDR            S5, [R4,#-0x10]
        VLDR            S7, [R4,#-0x18]
        VCVTR.S32.F32   S6, S5
        VCVTR.S32.F32   S8, S7
        VMOV            R1, S6
        VMOV            R3, S8
      }
      if ( v8 == _R1 - _R3 )
      {
        __asm
        {
          VLDR            S9, [R4,#-0x14]
          VLDR            S4, [R4,#-0x1C]
        }
        v15 = *(_DWORD *)(v5 + 52) - *(_DWORD *)(_R4 - 8);
        __asm { VCVTR.S32.F32   S3, S9 }
        goto LABEL_9;
      }
    }
    else
    {
      __asm
      {
        VLDR            S15, [R4,#-0x14]
        VLDR            S14, [R4,#-0x1C]
        VCVTR.S32.F32   S0, S15
        VCVTR.S32.F32   S1, S14
        VMOV            R1, S0
        VMOV            R3, S1
      }
      if ( v8 == _R1 - _R3 )
      {
        __asm
        {
          VLDR            S2, [R4,#-0x10]
          VLDR            S4, [R4,#-0x18]
          VCVTR.S32.F32   S3, S2
        }
        v15 = *(_DWORD *)(v5 + 52) - *(_DWORD *)(_R4 - 8);
LABEL_9:
        __asm
        {
          VCVTR.S32.F32   S10, S4
          VMOV            R1, S3
          VMOV            R0, S10
        }
        if ( v15 == _R1 - _R0 )
          goto LABEL_12;
        goto LABEL_10;
      }
    }
LABEL_10:
    if ( !(*(_DWORD *)(_R4 - 44) & 0x100) && HwcPartialUpdates::ChangeScaledDirtyRegion(v2, v5) )
      goto LABEL_2;
LABEL_12:
    ++v6;
    _R4 += 112;
    v5 += 112;
  }
}

//----- (00014664) --------------------------------------------------------
int __fastcall HwcPartialUpdates::ResetDirtyRect(HwcPartialUpdates *this)
{
  char *v1; // r3@1
  HwcPartialUpdates *v2; // r4@1
  int result; // r0@1
  int v4; // r1@1
  int v5; // r2@1
  int v6; // r3@1

  v1 = (char *)this + 16;
  v2 = this;
  result = *((_DWORD *)this + 4);
  v4 = *((_DWORD *)v1 + 1);
  v5 = *((_DWORD *)v1 + 2);
  v6 = *((_DWORD *)v1 + 3);
  *(_DWORD *)v2 = result;
  *((_DWORD *)v2 + 1) = v4;
  *((_DWORD *)v2 + 2) = v5;
  *((_DWORD *)v2 + 3) = v6;
  return result;
}

//----- (00014674) --------------------------------------------------------
int __fastcall HwcPartialUpdates::GetDirtyRect(int *a1, int a2)
{
  int v2; // r4@1
  int result; // r0@1
  int *v4; // t0@1
  int v5; // r1@1
  int v6; // r2@1
  int v7; // r3@1

  v2 = a2;
  v4 = a1;
  result = *a1;
  ++v4;
  v5 = *v4;
  ++v4;
  v6 = *v4;
  v7 = v4[1];
  *(_DWORD *)v2 = result;
  *(_DWORD *)(v2 + 4) = v5;
  *(_DWORD *)(v2 + 8) = v6;
  *(_DWORD *)(v2 + 12) = v7;
  return result;
}

//----- (00014680) --------------------------------------------------------
int __fastcall HwcPartialUpdates::UpdateDisplayFrame(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r5@1
  int v5; // r6@1
  int v6; // r0@1
  int v7; // t0@1
  int v8; // r1@1
  int v9; // r2@1
  int v10; // r3@1
  int v11; // r1@1
  int result; // r0@1
  int v13; // r6@1

  v3 = a2;
  v4 = a1;
  v5 = a2 + 40;
  v6 = *(_DWORD *)a3;
  v8 = *(_DWORD *)(a3 + 4);
  v7 = a3 + 8;
  v9 = *(_DWORD *)(a3 + 8);
  v10 = *(_DWORD *)(v7 + 4);
  *(_DWORD *)v5 = v6;
  *(_DWORD *)(v5 + 4) = v8;
  *(_DWORD *)(v5 + 8) = v9;
  *(_DWORD *)(v5 + 12) = v10;
  v11 = *(_DWORD *)(v3 + 44);
  *(_DWORD *)(v3 + 40) = v6 - *(_DWORD *)v4;
  result = *(_DWORD *)(v3 + 48);
  v13 = *(_DWORD *)(v3 + 52);
  *(_DWORD *)(v3 + 44) = v11 - *(_DWORD *)(v4 + 4);
  *(_DWORD *)(v3 + 48) = result - *(_DWORD *)v4;
  *(_DWORD *)(v3 + 52) = v13 - *(_DWORD *)(v4 + 4);
  return result;
}

//----- (000146B0) --------------------------------------------------------
int __fastcall HwcPartialUpdates::ResetFbTargetRect(int a1, int a2)
{
  int v2; // r3@1
  int v4; // r6@1
  int result; // r0@1
  int v6; // r1@1
  int v7; // r2@1
  int v8; // r3@1

  v2 = a1 + 16;
  _R5 = a1;
  v4 = a2 + 40;
  result = *(_DWORD *)(a1 + 16);
  v6 = *(_DWORD *)(v2 + 4);
  v7 = *(_DWORD *)(v2 + 8);
  v8 = *(_DWORD *)(v2 + 12);
  *(_DWORD *)v4 = result;
  *(_DWORD *)(v4 + 4) = v6;
  *(_DWORD *)(v4 + 8) = v7;
  *(_DWORD *)(v4 + 12) = v8;
  __asm
  {
    VLDR            S15, [R5,#0x10]
    VCVT.F32.S32    S0, S15
    VSTR            S0, [R4,#0x18]
    VLDR            S1, [R5,#0x14]
    VCVT.F32.S32    S2, S1
    VSTR            S2, [R4,#0x1C]
    VLDR            S3, [R5,#0x18]
    VCVT.F32.S32    S4, S3
    VSTR            S4, [R4,#0x20]
    VLDR            S5, [R5,#0x1C]
    VCVT.F32.S32    S6, S5
    VSTR            S6, [R4,#0x24]
  }
  return result;
}

//----- (000146F6) --------------------------------------------------------
int __fastcall HwcPartialUpdates::TransformLayerSrcRect(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r5@1
  int result; // r0@1
  int v6; // r1@3
  int v7; // r1@5
  __int64 v8; // kr00_8@7
  int v9; // r1@7

  v3 = a2;
  v4 = a3;
  result = sub_11658(*(_DWORD *)(a3 + 12));
  if ( result )
  {
    if ( *(_DWORD *)(v4 + 16) & 1 )
    {
      v6 = *(_DWORD *)v3;
      *(_DWORD *)v3 = *(_DWORD *)(result + 88) - *(_DWORD *)(v3 + 8);
      *(_DWORD *)(v3 + 8) = *(_DWORD *)(result + 88) - v6;
    }
    if ( *(_DWORD *)(v4 + 16) & 2 )
    {
      v7 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v3 + 4) = *(_DWORD *)(result + 92) - *(_DWORD *)(v3 + 12);
      *(_DWORD *)(v3 + 12) = *(_DWORD *)(result + 92) - v7;
    }
    if ( *(_DWORD *)(v4 + 16) & 4 )
    {
      v8 = *(_QWORD *)v3;
      v9 = *(_DWORD *)(v3 + 8);
      *(_DWORD *)v3 = *(_DWORD *)(result + 92) - *(_DWORD *)(v3 + 12);
      *(_DWORD *)(v3 + 4) = v8;
      result = *(_DWORD *)(result + 92);
      *(_DWORD *)(v3 + 12) = v9;
      *(_DWORD *)(v3 + 8) = result - HIDWORD(v8);
    }
  }
  return result;
}

//----- (00014750) --------------------------------------------------------
int __fastcall HwcPartialUpdates::RetransformLayerSrcRect(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r5@1
  int result; // r0@1
  int v6; // r1@3
  int v7; // r6@3
  int v8; // r3@3
  int v9; // r2@3
  int v10; // r6@5
  int v11; // r1@7

  v3 = a2;
  v4 = a3;
  result = sub_11658(*(_DWORD *)(a3 + 12));
  if ( result )
  {
    if ( *(_DWORD *)(v4 + 16) & 4 )
    {
      v6 = *(_DWORD *)v3;
      v7 = *(_DWORD *)(v3 + 8);
      v8 = *(_DWORD *)(v3 + 12);
      *(_DWORD *)v3 = *(_DWORD *)(v3 + 4);
      v9 = *(_DWORD *)(result + 92);
      *(_DWORD *)(v3 + 8) = v8;
      *(_DWORD *)(v3 + 4) = v9 - v7;
      *(_DWORD *)(v3 + 12) = *(_DWORD *)(result + 92) - v6;
    }
    if ( *(_DWORD *)(v4 + 16) & 2 )
    {
      v10 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v3 + 4) = *(_DWORD *)(result + 92) - *(_DWORD *)(v3 + 12);
      *(_DWORD *)(v3 + 12) = *(_DWORD *)(result + 92) - v10;
    }
    if ( *(_DWORD *)(v4 + 16) & 1 )
    {
      v11 = *(_DWORD *)v3;
      *(_DWORD *)v3 = *(_DWORD *)(result + 88) - *(_DWORD *)(v3 + 8);
      result = *(_DWORD *)(result + 88);
      *(_DWORD *)(v3 + 8) = result - v11;
    }
  }
  return result;
}

//----- (000147AC) --------------------------------------------------------
float __fastcall HwcPartialUpdates::UpdateSourceCrop(float result, float _R1, float a3, float a4)
{
  float v9; // r9@1
  int v10; // r8@1
  int v15; // r12@5
  int v16; // r10@5
  int v18; // lr@5
  int v19; // r6@5
  float v31; // [sp+0h] [bp-30h]@1
  float v32; // [sp+4h] [bp-2Ch]@1
  float v33; // [sp+8h] [bp-28h]@1
  float v34; // [sp+Ch] [bp-24h]@1

  v31 = result;
  v32 = _R1;
  v33 = a3;
  v34 = a4;
  _R4 = LODWORD(_R1);
  __asm { VLDR            S15, [R1,#0x18] }
  v9 = a3;
  v10 = LODWORD(result);
  __asm
  {
    VLDR            S3, [R4,#0x20]
    VLDR            S1, [R1,#0x1C]
    VLDR            S5, [R4,#0x24]
    VCVTR.S32.F32   S0, S15
    VCVTR.S32.F32   S4, S3
    VCVTR.S32.F32   S2, S1
    VCVTR.S32.F32   S6, S5
    VMOV            R5, S0
    VMOV            R2, S4
    VSTR            S0, [SP,#0x30+var_30]
    VMOV            R1, S2
    VSTR            S2, [SP,#0x30+var_2C]
    VSTR            S4, [SP,#0x30+var_28]
    VMOV            R3, S6
    VSTR            S6, [SP,#0x30+var_24]
  }
  if ( !((unsigned __int8)(_NF ^ _VF) | _ZF)
    && _R3 - _R1 > 0
    && *(_DWORD *)(_R4 + 48) - *(_DWORD *)(_R4 + 40) > 0
    && *(_DWORD *)(_R4 + 52) - *(_DWORD *)(_R4 + 44) > 0 )
  {
    HwcPartialUpdates::TransformLayerSrcRect(SLODWORD(result), (int)&v31, _R4);
    v15 = *(_DWORD *)(_R4 + 48);
    v16 = *(_DWORD *)(_R4 + 40);
    _R0 = LODWORD(v33) - LODWORD(v31);
    v18 = *(_DWORD *)(_R4 + 52);
    v19 = *(_DWORD *)(_R4 + 44);
    __asm { VMOV            S13, R0 }
    _R2 = v15 - v16;
    __asm { VMOV            S8, R2 }
    _R2 = LODWORD(v34) - LODWORD(v32);
    __asm
    {
      VCVT.F32.S32    S7, S13
      VMOV            S11, R2
    }
    _R2 = v18 - v19;
    __asm
    {
      VCVT.F32.S32    S9, S8
      VMOV            S12, R2
      VCVT.F32.S32    S14, S11
      VDIV.F32        S10, S7, S9
    }
    _R10 = *(_DWORD *)LODWORD(v9) - v16;
    __asm
    {
      VCVT.F32.S32    S15, S12
      VMOV            S1, R10
      VDIV.F32        S0, S14, S15
      VCVT.F32.S32    S2, S1
      VMUL.F32        S3, S10, S2
      VCVTR.S32.F32   S4, S3
      VMOV            R2, S4
    }
    LODWORD(v31) += _R2;
    _R2 = *(_DWORD *)(LODWORD(v9) + 8) - v15;
    __asm
    {
      VMOV            S5, R2
      VCVT.F32.S32    S6, S5
      VMUL.F32        S13, S10, S6
      VCVTR.S32.F32   S7, S13
      VMOV            R12, S7
    }
    LODWORD(v33) += _R12;
    _R6 = *(_DWORD *)(LODWORD(v9) + 4) - v19;
    __asm
    {
      VMOV            S8, R6
      VCVT.F32.S32    S9, S8
      VMUL.F32        S10, S0, S9
      VCVTR.S32.F32   S11, S10
      VMOV            R10, S11
    }
    LODWORD(v32) += _R10;
    _R1 = *(_DWORD *)(LODWORD(v9) + 12) - v18;
    __asm
    {
      VMOV            S14, R1
      VCVT.F32.S32    S12, S14
      VMUL.F32        S15, S0, S12
      VCVTR.S32.F32   S0, S15
      VMOV            R9, S0
    }
    LODWORD(v34) += _R9;
    result = COERCE_FLOAT(HwcPartialUpdates::RetransformLayerSrcRect(v10, (int)&v31, _R4));
    __asm
    {
      VLDR            S1, [SP,#0x30+var_30]
      VLDR            S3, [SP,#0x30+var_2C]
      VLDR            S5, [SP,#0x30+var_28]
      VLDR            S13, [SP,#0x30+var_24]
      VCVT.F32.S32    S2, S1
      VCVT.F32.S32    S4, S3
      VCVT.F32.S32    S6, S5
      VCVT.F32.S32    S7, S13
      VSTR            S2, [R4,#0x18]
      VSTR            S4, [R4,#0x1C]
      VSTR            S6, [R4,#0x20]
      VSTR            S7, [R4,#0x24]
    }
  }
  return result;
}

//----- (0001492E) --------------------------------------------------------
int __fastcall HwcPartialUpdates::UpdateFbTargetLayer(float a1, float a2, int a3, float a4)
{
  int v4; // r4@1
  int v5; // r5@1

  v4 = LODWORD(a1);
  v5 = LODWORD(a2);
  HwcPartialUpdates::UpdateSourceCrop(a1, a2, a1, a4);
  return j_j_j__ZN17HwcPartialUpdates18UpdateDisplayFrameEP11hwc_layer_1PK8hwc_rect(v4, v5, v4);
}

//----- (00014948) --------------------------------------------------------
int __fastcall HwcPartialUpdates::UpdateSourceLayer(int a1, int a2)
{
  int v2; // r8@1
  unsigned int v3; // r4@1
  int v4; // r5@1
  int v5; // r2@3
  int v6; // r3@3
  int v7; // ST00_4@3
  int v8; // r1@6
  int v9; // r2@6
  int v10; // r3@6
  float v11; // r3@6
  int v12; // r6@6
  int v14; // [sp+8h] [bp-10h]@4
  int v15; // [sp+Ch] [bp-Ch]@5
  int v16; // [sp+10h] [bp-8h]@4
  int v17; // [sp+14h] [bp-4h]@5
  int v18; // [sp+18h] [bp+0h]@1
  char v19; // [sp+2Ch] [bp+14h]@4

  v2 = a1;
  v3 = 0;
  v4 = a2;
  android::Region::Region(&v18);
  while ( v3 < *(_DWORD *)(v4 + 56) )
  {
    v5 = 16 * v3++;
    v6 = *(_DWORD *)(v4 + 60) + v5;
    v7 = *(_DWORD *)(v6 + 12);
    android::Region::addRectUnchecked(&v18, *(_DWORD *)v6, *(_DWORD *)(v6 + 4), *(_DWORD *)(v6 + 8));
  }
  android::Region::intersect(&v19, &v18, v2);
  sub_11614((int)&v14, (int)&v19);
  if ( v16 - v14 <= 0 || v17 - v15 <= 0 )
  {
    v12 = 0;
  }
  else
  {
    v8 = *(_DWORD *)(v4 + 44);
    v9 = *(_DWORD *)(v4 + 48);
    v10 = *(_DWORD *)(v4 + 52);
    v14 = *(_DWORD *)(v4 + 40);
    v15 = v8;
    v16 = v9;
    v17 = v10;
    v12 = android::Rect::intersect(&v14, v2, &v14);
    if ( v12 )
    {
      HwcPartialUpdates::UpdateSourceCrop(*(float *)&v2, *(float *)&v4, COERCE_FLOAT(&v14), v11);
      HwcPartialUpdates::UpdateDisplayFrame(v2, v4, (int)&v14);
    }
    else
    {
      v12 = 1;
    }
  }
  android::Region::~Region(&v19);
  android::Region::~Region(&v18);
  return v12;
}
// E25C: using guessed type int __fastcall android::Region::intersect(_DWORD, _DWORD, _DWORD);
// E268: using guessed type int __fastcall android::Region::~Region(_DWORD);
// E2BC: using guessed type int __fastcall android::Region::Region(_DWORD);
// E634: using guessed type int __fastcall android::Region::addRectUnchecked(_DWORD, _DWORD, _DWORD, _DWORD);
// E688: using guessed type int __fastcall android::Rect::intersect(_DWORD, _DWORD, _DWORD);

//----- (000149F4) --------------------------------------------------------
int __fastcall PrimaryOnlinePolicy::PrimaryOnlinePolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DCA8;
  return result;
}
// 2DCA8: using guessed type void *;

//----- (00014A08) --------------------------------------------------------
signed int __fastcall PrimaryOnlinePolicy::Prepare(PrimaryOnlinePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  PrimaryOnlinePolicy *v4; // r5@1
  HwcConfig *v5; // r10@1
  HwcCompInfo *v6; // r9@1
  HwcConfig *v7; // r0@4
  int v8; // r6@4
  int v9; // r4@5
  int v10; // r2@6
  HwcConfig *v11; // r0@8
  ChannelMgr *v12; // r6@8
  int v13; // r0@8
  int v14; // r5@8
  int v15; // r0@8
  HwcConfig *v16; // r0@8
  HwcConfig *v17; // r4@8
  int v18; // r5@12
  HwcConfig *v19; // r0@12
  unsigned int *v20; // r7@14
  unsigned int v21; // r3@16
  int v22; // r4@17
  int j; // r4@24
  HwcConfig *v24; // r0@26
  int k; // r7@31
  HwcLayerInfo *v26; // r4@33
  HwcConfig *v27; // r0@34
  HwcLayerInfo *v28; // r2@34
  signed int v29; // r4@34
  int v30; // r4@44
  int v31; // r6@44
  HwcConfig *v32; // r0@44
  int l; // r7@49
  int v35; // r4@52
  HwcConfig *v36; // r0@55
  int v37; // r3@58
  HwcConfig *v38; // r0@61
  int v39; // r0@62
  int v40; // r6@62
  int v41; // r2@62
  int m; // r4@62
  int v43; // r4@65
  int v44; // r0@66
  int n; // r7@67
  unsigned int **v46; // r0@69
  int v52; // ST28_4@70
  int v53; // ST2C_4@70
  int v54; // ST30_4@70
  int v55; // ST34_4@70
  int i; // r3@73
  int v57; // [sp+4h] [bp-B4h]@8
  int *v58; // [sp+8h] [bp-B0h]@8
  HwcLayerInfo *v59; // [sp+60h] [bp-58h]@4
  unsigned int *v60; // [sp+64h] [bp-54h]@4
  void **v61; // [sp+68h] [bp-50h]@4
  HwcConfig *v62; // [sp+6Ch] [bp-4Ch]@4
  int v63; // [sp+70h] [bp-48h]@44

  v4 = this;
  v5 = (HwcConfig *)a2;
  v6 = a4;
  if ( !a4 )
  {
    if ( HwcConfig::GetDebugLevel(this) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: NULL ptr.", "Prepare", 36);
    return -22;
  }
  v59 = 0;
  v61 = &off_2DAD8;
  v62 = (HwcConfig *)operator new[](0xCu);
  *((_DWORD *)v62 + 1) = v62;
  v7 = v62;
  v60 = 0;
  *((_DWORD *)v7 + 2) = v7;
  v8 = *((_DWORD *)v4 + 1);
  if ( !(HwcConfig::GetPolicyMask(v7) & v8) )
    goto LABEL_47;
  v9 = *((_BYTE *)v6 + 82);
  if ( *((_BYTE *)v6 + 82) )
    goto LABEL_47;
  v10 = *((_DWORD *)v6 + 26);
  if ( v10 > 4 || *(_DWORD *)(*((_DWORD *)v6 + 4) + 8) == *((_DWORD *)v6 + 4) )
    goto LABEL_47;
  v11 = (HwcConfig *)HwcConfig::GetOnlineResouces(v5, *((_BYTE *)v6 + 82), v10);
  v12 = v11;
  v13 = HwcConfig::GetPlatform(v11);
  v14 = (*(int (**)(void))(*(_DWORD *)v13 + 24))();
  v15 = sub_123E6((int)v6 + 12);
  v57 = (int)v6 + 12;
  v58 = (int *)&v61;
  v16 = (HwcConfig *)(*(int (__fastcall **)(int, int, int, signed int))(*(_DWORD *)v14 + 8))(v14, v9, v15, 1);
  v17 = v16;
  if ( v16 )
  {
    if ( HwcConfig::GetDebugLevel(v16) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: ONLINE CalcAreasByIndex err[%d]", "Prepare", 73, v17, &v61);
    *((_BYTE *)v6 + 92) = 1;
LABEL_73:
    ChannelMgr::ReleaseRequestedChannels(v12);
    for ( i = *(_DWORD *)(*((_DWORD *)v6 + 4) + 8); i != *((_DWORD *)v6 + 4); i = *(_DWORD *)(i + 8) )
      *(_DWORD *)(*(_DWORD *)i + 116) = 0;
    goto LABEL_47;
  }
  v18 = *((_DWORD *)v62 + 2);
  v19 = (HwcConfig *)"Prepare";
LABEL_13:
  if ( (HwcConfig *)v18 != v62 )
  {
    v20 = *(unsigned int **)v18;
    if ( *(_DWORD *)v18 )
    {
      __dmb();
      do
        v21 = __ldrex(v20);
      while ( __strex(v21 + 1, v20) );
    }
    v22 = (int)v60;
    if ( v60 )
    {
      __dmb();
      do
        v19 = (HwcConfig *)__ldrex((unsigned int *)v22);
      while ( __strex((unsigned int)v19 - 1, (unsigned int *)v22) );
      if ( v19 == (HwcConfig *)1 )
      {
        sub_11F00((_DWORD *)(v22 + 20));
        operator delete((void *)v22);
      }
    }
    v60 = v20;
    if ( HwcConfig::GetDebugLevel(v19) > 2 )
      _android_log_print(
        3,
        "hwcomposer",
        "%s:%d: current area rect{%d %d %d %d}",
        "Prepare",
        87,
        v60[1],
        v60[2],
        v60[3],
        v60[4]);
    for ( j = *(_DWORD *)(v60[6] + 8); j != v60[6]; j = *(_DWORD *)(j + 8) )
    {
      android::sp<HwcLayerInfo>::operator=((unsigned int **)&v59, (unsigned int **)j);
      v24 = (HwcConfig *)*((_DWORD *)v59 + 29);
      if ( v24 )
      {
        if ( HwcConfig::GetDebugLevel(v24) > 2 )
          _android_log_print(
            3,
            "hwcomposer",
            "%s:%d: last area rect{%d %d %d %d} sourceLayer[%p] ReRequest mChan[%d]",
            "Prepare",
            99,
            v60[1],
            *((_QWORD *)v60 + 1),
            v60[4],
            *((_DWORD *)v59 + 4),
            *(_DWORD *)(*((_DWORD *)v59 + 29) + 4));
        Channel::ReRequest(*((Channel **)v59 + 29), v59);
      }
    }
    for ( k = *(_DWORD *)(j + 8); ; k = *(_DWORD *)(k + 8) )
    {
      if ( k == v60[6] )
      {
        v29 = 1;
        goto LABEL_41;
      }
      android::sp<HwcLayerInfo>::operator=((unsigned int **)&v59, (unsigned int **)k);
      v26 = v59;
      if ( !*((_DWORD *)v59 + 29) )
      {
        v27 = (HwcConfig *)ChannelMgr::RequestSource(v12, v59);
        v28 = v59;
        *((_DWORD *)v26 + 29) = v27;
        v29 = *((_DWORD *)v28 + 29);
        if ( !v29 )
        {
          if ( HwcConfig::GetDebugLevel(v27) > 1 )
            _android_log_print(
              4,
              "hwcomposer",
              "%s:%d: layer[%p] Get channel failed, wanted caps: %08x",
              "Prepare",
              116,
              *((_DWORD *)v59 + 4),
              *((_DWORD *)v59 + 31));
LABEL_41:
          v19 = (HwcConfig *)ChannelMgr::ReuseRequestedChannels(v12);
          if ( !v29 )
            goto LABEL_73;
          v18 = *(_DWORD *)(v18 + 8);
          goto LABEL_13;
        }
        if ( HwcConfig::GetDebugLevel(v27) > 2 )
          _android_log_print(
            3,
            "hwcomposer",
            "%s:%d: layer[%p] Get channel: %d, wanted caps: %08x",
            "Prepare",
            112,
            *((_DWORD *)v59 + 4),
            *(_DWORD *)(*((_DWORD *)v59 + 29) + 4),
            *((_DWORD *)v59 + 31));
      }
    }
  }
  HwcBandwidth::HwcBandwidth((HwcBandwidth *)&v63, (int)v5, *(_DWORD *)v6);
  for ( l = *(_DWORD *)(*((_DWORD *)v6 + 4) + 8); l != *((_DWORD *)v6 + 4); l = *(_DWORD *)(l + 8) )
    HwcBandwidth::ReCalculate((HwcBandwidth *)&v63, *(const HwcLayerInfo **)l);
  v35 = HwcBandwidth::Request((int)&v63);
  if ( !v35 )
    *((_BYTE *)v6 + 108) = 1;
  HwcBandwidth::~HwcBandwidth((HwcBandwidth *)&v63);
  if ( !v35 )
    goto LABEL_73;
  v36 = (HwcConfig *)ChannelMgr::ReuseRequestedChannels(v12);
  if ( *((_DWORD *)v6 + 12) && HwcConfig::GetDebugLevel(v36) >= 0 )
    _android_log_print(
      6,
      "hwcomposer",
      "%s:%d: why online policy's virtual targetlayer is not NULL",
      "Prepare",
      146,
      v57,
      v58);
  HwcCompInfo::ConstructOnlineVirtualLayer((int)v6, (int)v6 + 60, (int)&v61, (int)v6 + 12);
  v37 = *((_DWORD *)v6 + 4);
  *((_BYTE *)v6 + 76) = 1;
  while ( 1 )
  {
    v37 = *(_DWORD *)(v37 + 8);
    if ( v37 == *((_DWORD *)v6 + 4) )
      break;
    *(_BYTE *)(*(_DWORD *)v37 + 144) = 1;
  }
  v38 = (HwcConfig *)sub_11ED6((int)v6 + 16);
  if ( HwcConfig::GetDebugLevel(v38) > 2 )
  {
    v39 = sub_123E6((int)v6 + 32);
    v40 = *((_DWORD *)v6 + 11);
    v41 = 0;
    for ( m = *(_DWORD *)(v40 + 8); m != v40; m = *(_DWORD *)(m + 8) )
      ++v41;
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: ONLINE compose. mSourceList size[%d], mAreaList size[%d], target layer displayFrame{%d %d %d %d}",
      "Prepare",
      166,
      v39,
      v41,
      *(_DWORD *)(*((_DWORD *)v6 + 12) + 44),
      *(_QWORD *)(*((_DWORD *)v6 + 12) + 48),
      *(_DWORD *)(*((_DWORD *)v6 + 12) + 56));
  }
  v30 = *((_DWORD *)v6 + 11);
  v63 = 0;
  v31 = *(_DWORD *)(v30 + 8);
  v32 = (HwcConfig *)"%s:%d: area{%d %d %d %d}, mSourceList size[%d], mDimIndex[%d]";
  while ( v31 != *((_DWORD *)v6 + 11) )
  {
    v43 = *(_DWORD *)v31;
    v32 = (HwcConfig *)HwcConfig::GetDebugLevel(v32);
    if ( (signed int)v32 > 2 )
    {
      v44 = sub_123E6(v43 + 20);
      v32 = (HwcConfig *)_android_log_print(
                           3,
                           "hwcomposer",
                           "%s:%d: area{%d %d %d %d}, mSourceList size[%d], mDimIndex[%d]",
                           "Prepare",
                           180,
                           *(_DWORD *)(v43 + 4),
                           *(_DWORD *)(v43 + 8),
                           *(_DWORD *)(v43 + 12),
                           *(_DWORD *)(v43 + 16),
                           v44,
                           *(_DWORD *)(v43 + 32));
    }
    for ( n = *(_DWORD *)(*(_DWORD *)(v43 + 24) + 8); n != *(_DWORD *)(v43 + 24); n = *(_DWORD *)(n + 8) )
    {
      v46 = android::sp<HwcLayerInfo>::operator=((unsigned int **)&v63, (unsigned int **)n);
      v32 = (HwcConfig *)HwcConfig::GetDebugLevel((HwcConfig *)v46);
      if ( (signed int)v32 > 2 )
      {
        _R3 = v63;
        __asm
        {
          VLDR            S15, [R3,#0x1C]
          VCVT.F64.F32    D16, S15
          VSTR            D16, [SP,#0xB8+var_B0]
          VLDR            S0, [R3,#0x20]
          VCVT.F64.F32    D1, S0
          VSTR            D1, [SP,#0xB8+var_A8]
          VLDR            S1, [R3,#0x24]
          VCVT.F64.F32    D2, S1
          VSTR            D2, [SP,#0xB8+var_A0]
          VLDR            S3, [R3,#0x28]
          VCVT.F64.F32    D3, S3
          VSTR            D3, [SP,#0xB8+var_98]
        }
        v52 = *(_DWORD *)(v63 + 44);
        v53 = *(_DWORD *)(v63 + 48);
        v54 = *(_DWORD *)(v63 + 52);
        v55 = *(_DWORD *)(v63 + 56);
        v32 = (HwcConfig *)_android_log_print(
                             3,
                             "hwcomposer",
                             "%s:%d: Source layer [%p], src rect{%f %f %f %f}, displayframe{%d %d %d %d}",
                             "Prepare",
                             194,
                             *(_DWORD *)(v63 + 16),
                             v58);
      }
    }
    v31 = *(_DWORD *)(v31 + 8);
  }
  android::sp<HwcLayerInfo>::~sp((unsigned int **)&v63);
LABEL_47:
  android::sp<_hwcAreaInfo>::~sp(&v60);
  sub_1268C((int)&v61);
  android::sp<HwcLayerInfo>::~sp((unsigned int **)&v59);
  return 0;
}
// 80: found interdependent unknown calls
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 2DAD8: using guessed type void *off_2DAD8;

//----- (00014F30) --------------------------------------------------------
int __fastcall OfflinePolicy::OfflinePolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DCC0;
  return result;
}
// 2DCC0: using guessed type void *;

//----- (00014F44) --------------------------------------------------------
int __fastcall OfflinePolicy::CalcComposeRect(int a1, int a2, int a3, int a4)
{
  int v4; // r7@1
  int v5; // r6@1
  int v6; // r0@1
  int v7; // r1@1
  int v8; // r2@1
  int i; // r4@1
  int v10; // r0@3
  int v11; // r1@3
  int v12; // r2@3
  int v13; // r4@4
  int v14; // r0@4
  int v15; // r7@4
  int v16; // r2@4
  HwcConfig *v17; // r0@4
  int v18; // r1@4
  int v19; // r3@4
  int v20; // r7@8
  int v22; // [sp+Ch] [bp-4Ch]@1
  int v23; // [sp+10h] [bp-48h]@1
  int v24; // [sp+14h] [bp-44h]@1
  int v25; // [sp+18h] [bp-40h]@1
  int v26; // [sp+1Ch] [bp-3Ch]@3
  int v27; // [sp+20h] [bp-38h]@3
  int v28; // [sp+24h] [bp-34h]@3
  int v29; // [sp+28h] [bp-30h]@3
  char v30; // [sp+2Ch] [bp-2Ch]@1
  int v31; // [sp+30h] [bp-28h]@4
  int v32; // [sp+34h] [bp-24h]@4

  v4 = a3;
  v5 = a2;
  v6 = *(_DWORD *)(a4 + 4);
  v7 = *(_DWORD *)(a4 + 8);
  v8 = *(_DWORD *)(a4 + 12);
  v22 = *(_DWORD *)a4;
  v23 = v6;
  v24 = v7;
  v25 = v8;
  android::Region::Region(&v30);
  for ( i = *(_DWORD *)(*(_DWORD *)(v4 + 4) + 8); i != *(_DWORD *)(v4 + 4); i = *(_DWORD *)(i + 8) )
  {
    v10 = *(_DWORD *)(*(_DWORD *)i + 48);
    v11 = *(_DWORD *)(*(_DWORD *)i + 52);
    v12 = *(_DWORD *)(*(_DWORD *)i + 56);
    v26 = *(_DWORD *)(*(_DWORD *)i + 44);
    v27 = v10;
    v28 = v11;
    v29 = v12;
    android::Region::orSelf(&v30, &v26);
  }
  android::Region::andSelf(&v30, &v22);
  v13 = v32;
  v14 = 16 * (v32 - 1);
  v15 = *(_DWORD *)(v31 + v14);
  v16 = v31 + v14 + 4;
  v17 = *(HwcConfig **)v16;
  v18 = *(_DWORD *)(v16 + 4);
  v19 = *(_DWORD *)(v16 + 8);
  if ( v18 - v15 > 0 && v19 - (signed int)v17 > 0 )
  {
    *(_DWORD *)v5 = v15;
    *(_DWORD *)(v5 + 4) = v17;
    *(_DWORD *)(v5 + 8) = v18;
    *(_DWORD *)(v5 + 12) = v19;
    v20 = v13 - 1 + ((unsigned int)(v13 - 1) <= 0) - (v13 - 1);
  }
  else
  {
    if ( HwcConfig::GetDebugLevel(v17) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: compose rect is an empty region", "CalcComposeRect", 52);
    v20 = 0;
  }
  android::Region::~Region(&v30);
  return v20;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E250: using guessed type int __fastcall android::Region::orSelf(_DWORD, _DWORD);
// E268: using guessed type int __fastcall android::Region::~Region(_DWORD);
// E2BC: using guessed type int __fastcall android::Region::Region(_DWORD);
// E328: using guessed type int __fastcall android::Region::andSelf(_DWORD, _DWORD);

//----- (00015008) --------------------------------------------------------
int __fastcall OfflinePolicy::ConstructTargetLayer(int a1, _DWORD *a2, int a3, int a4)
{
  _DWORD *v4; // r4@1
  int v5; // r5@4
  int v6; // r1@4
  int v7; // r2@4
  int v8; // r3@4
  int v17; // r12@4
  int *v18; // r5@4
  int result; // r0@4
  int v20; // r1@4
  int v21; // r2@4
  int v22; // r3@4
  _DWORD *v23; // [sp+4h] [bp-14h]@1
  int v24; // [sp+8h] [bp-10h]@1

  v23 = a2;
  v24 = a3;
  v4 = a2;
  if ( !OfflinePolicy::CalcComposeRect(a1, *a2 + 152, a3, a4) && HwcConfig::GetDebugLevel(0) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: can't form a rect to compose", "ConstructTargetLayer", 71, v23, v24);
  v5 = *v4 + 168;
  v6 = *(_DWORD *)(*v4 + 156);
  v7 = *(_DWORD *)(*v4 + 160);
  v8 = *(_DWORD *)(*v4 + 164);
  *(_DWORD *)v5 = *(_DWORD *)(*v4 + 152);
  *(_DWORD *)(v5 + 4) = v6;
  *(_DWORD *)(v5 + 8) = v7;
  *(_DWORD *)(v5 + 12) = v8;
  _R1 = *v4;
  __asm
  {
    VLDR            S15, [R1,#0xA8]
    VCVT.F32.S32    S0, S15
    VSTR            S0, [R1,#0x1C]
  }
  _R2 = *v4;
  __asm
  {
    VLDR            S1, [R2,#0xAC]
    VCVT.F32.S32    S2, S1
    VSTR            S2, [R2,#0x20]
  }
  _R3 = *v4;
  __asm
  {
    VLDR            S3, [R3,#0xB0]
    VCVT.F32.S32    S4, S3
    VSTR            S4, [R3,#0x24]
  }
  _R0 = *v4;
  __asm
  {
    VLDR            S5, [R0,#0xB4]
    VCVT.F32.S32    S6, S5
    VSTR            S6, [R0,#0x28]
  }
  v17 = *v4 + 44;
  v18 = (int *)(*v4 + 168);
  result = *v18;
  v20 = *(_DWORD *)(*v4 + 172);
  v21 = *(_DWORD *)(*v4 + 176);
  v22 = *(_DWORD *)(*v4 + 180);
  *(_DWORD *)v17 = *v18;
  *(_DWORD *)(v17 + 4) = v20;
  *(_DWORD *)(v17 + 8) = v21;
  *(_DWORD *)(v17 + 12) = v22;
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001509C) --------------------------------------------------------
signed int __fastcall CheckHasDimCompose(int a1)
{
  int v1; // r2@1
  int i; // r3@1

  v1 = *(_DWORD *)(a1 + 4);
  for ( i = *(_DWORD *)(v1 + 8); ; i = *(_DWORD *)(i + 8) )
  {
    if ( i == v1 )
      return 0;
    if ( *(_DWORD *)(*(_DWORD *)i + 124) & 0x100 )
      break;
  }
  return 1;
}

//----- (000150B8) --------------------------------------------------------
int __fastcall sub_150B8(int a1)
{
  int v1; // r5@1
  int i; // r4@1
  int result; // r0@2
  int v4; // r6@3

  v1 = a1;
  for ( i = *(_DWORD *)(*(_DWORD *)a1 + 8); ; i = v4 )
  {
    result = *(_DWORD *)v1;
    if ( i == *(_DWORD *)v1 )
      break;
    v4 = *(_DWORD *)(i + 8);
    android::sp<_hwcAreaInfo>::~sp((_DWORD *)i);
    operator delete((void *)i);
  }
  *(_DWORD *)(i + 4) = i;
  *(_DWORD *)(*(_DWORD *)v1 + 8) = *(_DWORD *)v1;
  return result;
}

//----- (000150E0) --------------------------------------------------------
void __fastcall sub_150E0(int a1)
{
  int v1; // r4@1
  unsigned int v2; // r3@2

  v1 = a1;
  __dmb();
  do
    v2 = __ldrex((unsigned int *)a1);
  while ( __strex(v2 - 1, (unsigned int *)a1) );
  if ( v2 == 1 )
  {
    if ( a1 )
    {
      android::sp<HwcLayerInfo>::~sp((unsigned int **)(a1 + 20));
      sub_1268C(v1 + 12);
      sub_11F00((_DWORD *)(v1 + 4));
      j_operator delete((void *)v1);
    }
  }
}

//----- (00015120) --------------------------------------------------------
int __fastcall OfflinePolicy::CheckNewLayerCanCompose(int a1, ChannelMgr *this, int a3, int a4, int a5, int a6)
{
  int v6; // r8@1
  ChannelMgr *v7; // r4@1
  int v8; // r7@1
  unsigned int v9; // r3@2
  unsigned int v10; // r2@4
  int v11; // r1@4
  HwcConfig *v12; // r5@10
  Channel *v13; // r0@10
  HwcLayerInfo *v14; // r5@19
  HwcConfig *v15; // r0@19
  const char *v16; // r2@21
  const char *v17; // r3@21
  const char *v18; // r1@21
  const char *v19; // r2@23
  const char *v20; // r3@23
  const char *v21; // r1@23
  int i; // r6@24
  Channel *v23; // r0@29
  const HwcLayerInfo **j; // r5@31
  HwcLayerInfo *v25; // r5@34
  HwcConfig *v26; // r0@34
  signed int v27; // r8@41
  signed int v29; // [sp+0h] [bp-38h]@21
  signed int v30; // [sp+0h] [bp-38h]@23
  int v31; // [sp+4h] [bp-34h]@21
  int v32; // [sp+4h] [bp-34h]@23
  int v33; // [sp+8h] [bp-30h]@21
  int v34; // [sp+8h] [bp-30h]@23
  int v35; // [sp+Ch] [bp-2Ch]@21
  HwcLayerInfo *v36; // [sp+14h] [bp-24h]@1
  int v37; // [sp+18h] [bp-20h]@1
  HwcConfig *v38; // [sp+1Ch] [bp-1Ch]@1

  v6 = a3;
  v7 = this;
  v8 = a4;
  v36 = 0;
  v37 = 0;
  v38 = 0;
  if ( a4 )
    v9 = a5 + 1;
  else
    v9 = a5;
  v10 = 1;
  v11 = *(_DWORD *)(*(_DWORD *)(a6 + 4) + 8);
  while ( v10 <= v9 )
  {
    if ( v10 >= v9 )
    {
      android::sp<HwcLayerInfo>::operator=((unsigned int **)&v36, (unsigned int **)v11);
      break;
    }
    v11 = *(_DWORD *)(v11 + 8);
    ++v10;
  }
  ChannelMgr::ReuseRequestedChannels(v7);
  if ( v8 )
  {
    android::sp<HwcLayerInfo>::operator=((unsigned int **)&v38, *(unsigned int ***)(*(_DWORD *)(a6 + 4) + 8));
    v12 = v38;
    v13 = (Channel *)*((_DWORD *)v38 + 29);
    if ( v13 )
      Channel::ReRequest(v13, v38);
    else
      *((_DWORD *)v12 + 29) = ChannelMgr::RequestIdleSource(v7, v38);
    if ( *((_DWORD *)v38 + 29) )
    {
      if ( HwcConfig::GetDebugLevel(v38) > 2 )
        _android_log_print(
          3,
          "hwcomposer",
          "%s:%d: targetLayer get channel[%d], wanted caps: %08x",
          "CheckNewLayerCanCompose",
          143,
          *(_DWORD *)(*((_DWORD *)v38 + 29) + 4),
          *((_DWORD *)v38 + 31));
    }
    else if ( HwcConfig::GetDebugLevel(v38) > 2 )
    {
      _android_log_print(
        3,
        "hwcomposer",
        "%s:%d: targetLayer get channel failed, wanted caps: %08x",
        "CheckNewLayerCanCompose",
        145,
        *((_DWORD *)v38 + 31));
    }
  }
  if ( a5 == 1 )
  {
    v14 = v36;
    *((_DWORD *)v14 + 29) = ChannelMgr::RequestIdleSource(v7, v36);
    v15 = (HwcConfig *)ChannelMgr::ReuseRequestedChannels(v7);
    if ( *((_DWORD *)v36 + 29) )
    {
      if ( HwcConfig::GetDebugLevel(v15) <= 2 )
        goto LABEL_41;
      v29 = 158;
      v16 = "%s:%d: layer[%p] get channel[%d], wanted caps: %08x";
      v31 = *((_DWORD *)v36 + 4);
      v17 = "CheckNewLayerCanCompose";
      v33 = *(_DWORD *)(*((_DWORD *)v36 + 29) + 4);
      v18 = "hwcomposer";
      v35 = *((_DWORD *)v36 + 31);
LABEL_37:
      _android_log_print(3, v18, v16, v17, v29, v31, v33, v35);
      goto LABEL_41;
    }
    if ( HwcConfig::GetDebugLevel(v15) <= 2 )
      goto LABEL_41;
    v30 = 162;
    v19 = "%s:%d: layer[%p] get channel failed, wanted caps: %08x";
    v20 = "CheckNewLayerCanCompose";
    v21 = "hwcomposer";
    v32 = *((_DWORD *)v36 + 4);
    v34 = *((_DWORD *)v36 + 31);
    goto LABEL_40;
  }
  for ( i = *(_DWORD *)(*(_DWORD *)(v6 + 4) + 8); i != *(_DWORD *)(v6 + 4); i = *(_DWORD *)(i + 8) )
  {
    android::sp<_hwcAreaInfo>::operator=((unsigned int **)&v37, (unsigned int **)i);
    if ( *((_DWORD *)v36 + 12) < *(_DWORD *)(v37 + 16) && *((_DWORD *)v36 + 14) > *(_DWORD *)(v37 + 8) )
    {
      for ( j = *(const HwcLayerInfo ***)(*(_DWORD *)(v37 + 24) + 8);
            j != *(const HwcLayerInfo ***)(v37 + 24);
            j = (const HwcLayerInfo **)j[2] )
      {
        v23 = (Channel *)*((_DWORD *)*j + 29);
        if ( v23 )
          Channel::ReRequest(v23, *j);
      }
    }
  }
  v25 = v36;
  *((_DWORD *)v25 + 29) = ChannelMgr::RequestIdleSource(v7, v36);
  ChannelMgr::ReuseRequestedChannels(v7);
  v26 = (HwcConfig *)*((_DWORD *)v36 + 29);
  if ( v26 )
  {
    if ( HwcConfig::GetDebugLevel(v26) <= 2 )
      goto LABEL_41;
    v29 = 187;
    v18 = "hwcomposer";
    v31 = *((_DWORD *)v36 + 4);
    v33 = *(_DWORD *)(*((_DWORD *)v36 + 29) + 4);
    v17 = "CheckNewLayerCanCompose";
    v16 = "%s:%d: layer[%p] get channel[%d], wanted caps: %08x";
    v35 = *((_DWORD *)v36 + 31);
    goto LABEL_37;
  }
  if ( HwcConfig::GetDebugLevel(0) > 2 )
  {
    v30 = 191;
    v19 = "%s:%d: layer[%p] get channel failed, wanted caps: %08x";
    v32 = *((_DWORD *)v36 + 4);
    v34 = *((_DWORD *)v36 + 31);
    v20 = "CheckNewLayerCanCompose";
    v21 = "hwcomposer";
LABEL_40:
    _android_log_print(3, v21, v19, v20, v30, v32, v34);
  }
LABEL_41:
  v27 = *((_DWORD *)v36 + 29);
  if ( *((_DWORD *)v36 + 29) )
    v27 = 1;
  android::sp<HwcLayerInfo>::~sp((unsigned int **)&v38);
  android::sp<_hwcAreaInfo>::~sp(&v37);
  android::sp<HwcLayerInfo>::~sp((unsigned int **)&v36);
  return v27;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00015378) --------------------------------------------------------
int __fastcall sub_15378(int a1, unsigned int **a2)
{
  unsigned int **v2; // r6@1
  int v3; // r5@1
  int v4; // r4@1
  unsigned int *v5; // r0@1
  int result; // r0@3

  v2 = a2;
  v3 = *(_DWORD *)(a1 + 4);
  v4 = operator new(0xCu);
  v5 = *v2;
  *(_DWORD *)v4 = *v2;
  if ( v5 )
    sub_115CA(v5);
  *(_DWORD *)(v4 + 8) = v3;
  *(_DWORD *)(v4 + 4) = *(_DWORD *)(v3 + 4);
  result = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(result + 8) = v4;
  *(_DWORD *)(v3 + 4) = v4;
  return result;
}

//----- (000153A0) --------------------------------------------------------
int __fastcall OfflinePolicy::Prepare(OfflinePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  HwcCompInfo *v4; // r4@1
  int v5; // r7@1
  int v6; // r8@1
  int i; // r5@1
  int v8; // r6@4
  int v9; // r5@5
  int v10; // r7@7
  int v11; // r2@8
  signed int v12; // r6@10
  HwcConfig *v13; // r0@10
  int v14; // r0@10
  int v15; // r0@12
  unsigned int v16; // r8@12
  unsigned int v17; // r7@14
  int v18; // r10@16
  unsigned int v19; // r6@17
  int v20; // r8@25
  int v21; // r9@25
  int v22; // r0@25
  int j; // r1@25
  int v24; // r7@28
  int v25; // r11@28
  int v26; // r7@29
  unsigned int *v27; // r0@31
  HwcConfig *v28; // r0@35
  int v29; // r11@38
  HwcConfig *v30; // r0@38
  int v31; // r2@38
  const char *v32; // r1@40
  const char *v33; // r2@40
  const char *v34; // r3@40
  ChannelMgr *v35; // r0@43
  int v36; // r11@43
  int v37; // r0@43
  int v38; // r3@43
  int v39; // r0@43
  int v40; // r2@47
  int ii; // r2@51
  HwcConfig *v42; // r0@59
  int v43; // r10@64
  int v44; // r6@65
  int v45; // r0@65
  int v46; // r0@65
  int v47; // r1@65
  int v48; // r6@67
  unsigned int *v49; // r10@68
  unsigned int *v50; // r0@70
  int v51; // r6@72
  HwcConfig *v52; // r0@75
  unsigned int v53; // r7@78
  int v54; // r9@78
  HwcConfig *v55; // r0@83
  unsigned int *v56; // r0@86
  unsigned int v57; // r8@88
  int v58; // r5@90
  int v59; // r3@90
  unsigned int **v60; // r0@90
  int v61; // r1@90
  int k; // r5@96
  int v63; // r7@99
  int v64; // r8@99
  int v65; // r6@99
  const char *v66; // r0@99
  unsigned int *v67; // r5@101
  int v68; // r0@106
  unsigned int v69; // r1@106
  int v70; // r2@106
  int l; // r3@106
  unsigned int v72; // r3@109
  int v73; // ST04_4@109
  int v74; // r7@110
  unsigned int **v75; // r0@112
  int v76; // r9@113
  int v77; // r0@113
  int m; // r9@114
  unsigned int **v79; // r0@116
  void *v85; // ST28_4@117
  void *v86; // ST2C_4@117
  void *v87; // ST30_4@117
  void *v88; // ST34_4@117
  int n; // r3@123
  int v90; // r10@126
  int v91; // r2@128
  int v92; // r11@128
  void *v93; // r0@128
  int v95; // [sp+0h] [bp-88h]@40
  int *v96; // [sp+4h] [bp-84h]@0
  int v97; // [sp+4h] [bp-84h]@40
  int *v98; // [sp+8h] [bp-80h]@0
  ChannelMgr *v99; // [sp+38h] [bp-50h]@10
  HwcConfig *v100; // [sp+3Ch] [bp-4Ch]@1
  HwcConfig *v101; // [sp+3Ch] [bp-4Ch]@60
  signed int v102; // [sp+40h] [bp-48h]@10
  int v103; // [sp+40h] [bp-48h]@67
  int v104; // [sp+44h] [bp-44h]@10
  int v105; // [sp+48h] [bp-40h]@10
  HwcConfig *v106; // [sp+4Ch] [bp-3Ch]@1
  ChannelMgr *v107; // [sp+5Ch] [bp-2Ch]@43
  int v108; // [sp+64h] [bp-24h]@1
  int v109; // [sp+68h] [bp-20h]@47
  int v110; // [sp+6Ch] [bp-1Ch]@30
  void **v111; // [sp+70h] [bp-18h]@1
  int v112; // [sp+74h] [bp-14h]@1
  void **v113; // [sp+78h] [bp-10h]@1
  int v114; // [sp+7Ch] [bp-Ch]@1
  void **v115; // [sp+80h] [bp-8h]@4
  int v116; // [sp+84h] [bp-4h]@4
  void **v117; // [sp+88h] [bp+0h]@3
  int v118; // [sp+8Ch] [bp+4h]@47
  int v119; // [sp+90h] [bp+8h]@3
  int v120; // [sp+94h] [bp+Ch]@10
  int v121; // [sp+98h] [bp+10h]@10
  int v122; // [sp+9Ch] [bp+14h]@10

  v4 = a4;
  v100 = this;
  v106 = (HwcConfig *)a2;
  v111 = &off_2DAE8;
  v112 = operator new[](0xCu);
  *(_DWORD *)(v112 + 4) = v112;
  v108 = 0;
  v113 = &off_2DAC8;
  *(_DWORD *)(v112 + 8) = v112;
  v114 = operator new[](0xCu);
  *(_DWORD *)(v114 + 4) = v114;
  v5 = v114;
  *(_DWORD *)(v5 + 8) = v5;
  v6 = *((_DWORD *)v4 + 4);
  for ( i = *(_DWORD *)(v6 + 8); i != v6; i = *(_DWORD *)(i + 8) )
  {
    v119 = v5;
    sub_115E0(&v117, (int)&v119, (unsigned int **)i);
  }
  v115 = &off_2DAD8;
  v116 = operator new[](0xCu);
  *(_DWORD *)(v116 + 4) = v116;
  *(_DWORD *)(v116 + 8) = v116;
  v8 = *((_DWORD *)v100 + 1);
  if ( HwcConfig::GetPolicyMask(v100) & v8 )
  {
    v9 = *((_BYTE *)v4 + 81);
    if ( !*((_BYTE *)v4 + 81) && *(_DWORD *)(*((_DWORD *)v4 + 4) + 8) != *((_DWORD *)v4 + 4) )
    {
      v10 = *((_DWORD *)v4 + 13);
      if ( *((_DWORD *)v4 + 28) <= 0 )
        v11 = 1;
      else
        v11 = 2;
      v119 = *(_DWORD *)(v10 + 40);
      v105 = v11;
      v120 = *(_DWORD *)(v10 + 44);
      v121 = *(_DWORD *)(v10 + 48);
      v12 = 1;
      v122 = *(_DWORD *)(v10 + 52);
      v13 = (HwcConfig *)HwcConfig::GetOfflineResouces(v106, v11, v11);
      v99 = v13;
      v14 = HwcConfig::GetPlatform(v13);
      v104 = (*(int (**)(void))(*(_DWORD *)v14 + 24))();
      v102 = v9;
LABEL_11:
      while ( *(_DWORD *)(v114 + 8) != v114 )
      {
        sub_150B8((int)&v116);
        v15 = sub_123E6((int)&v113);
        v16 = v15;
        if ( v9 )
          v16 = v15 - 1;
        v17 = 1;
        while ( v17 <= v16 )
        {
          v18 = v17 - 1 + (v17 - 1 <= 0) - (v17 - 1);
          if ( v9 )
            v19 = v17 + 1;
          else
            v19 = v17;
          if ( !v18 )
          {
            if ( !OfflinePolicy::CheckNewLayerCanCompose((int)v100, v99, (int)&v115, v9, v17, (int)&v113) )
            {
              if ( !v108 )
              {
                if ( HwcConfig::GetDebugLevel(0) >= 0 )
                  _android_log_print(6, "hwcomposer", "%s:%d: first compose err, use GPU", "Prepare", 342, v96, v98);
                goto LABEL_51;
              }
              v52 = (HwcConfig *)HwcConfig::NeedCompleteOneTime(0);
              if ( v52 )
              {
                if ( HwcConfig::GetDebugLevel(v52) > 2 )
                  _android_log_print(
                    3,
                    "hwcomposer",
                    "%s:%d: offline compose can't complete one time, use GPU lastSrcPosition %d,srcLayerCount %d",
                    "Prepare",
                    306,
                    v19,
                    v16);
                goto LABEL_51;
              }
              v53 = 1;
              v54 = *(_DWORD *)(v114 + 8);
              while ( v53 < v19 )
              {
                ++v53;
                v110 = *(_DWORD *)(v108 + 8);
                sub_115E0(&v117, (int)&v110, (unsigned int **)v54);
                v54 = *(_DWORD *)(v54 + 8);
              }
              if ( v9 )
              {
                if ( *((_BYTE *)v4 + 83) )
                {
                  v55 = (HwcConfig *)CheckHasDimCompose(v108 + 4);
                  if ( v55 )
                  {
                    if ( HwcConfig::GetDebugLevel(v55) > 2 )
                      _android_log_print(
                        3,
                        "hwcomposer",
                        "%s:%d: Dim layer is not the first offline compose, use GPU",
                        "Prepare",
                        320,
                        v96,
                        v98);
                    goto LABEL_51;
                  }
                }
              }
              v56 = *(unsigned int **)(v108 + 20);
              v117 = (void **)v56;
              if ( v56 )
                sub_115CA(v56);
              v57 = 1;
              OfflinePolicy::ConstructTargetLayer((int)v100, &v117, v108 + 4, (int)&v119);
              android::sp<HwcLayerInfo>::~sp((unsigned int **)&v117);
              sub_15378((int)&v111, (unsigned int **)&v108);
              while ( v57 < v19 )
              {
                v58 = *(_DWORD *)(v114 + 8);
                ++v57;
                v59 = *(_DWORD *)(v58 + 8);
                v60 = *(unsigned int ***)(v114 + 8);
                v61 = *(_DWORD *)(v58 + 4);
                *(_DWORD *)(v61 + 8) = v59;
                *(_DWORD *)(v59 + 4) = v61;
                android::sp<HwcLayerInfo>::~sp(v60);
                operator delete((void *)v58);
              }
              v110 = *(_DWORD *)(v114 + 8);
              sub_115E0(&v117, (int)&v110, (unsigned int **)(v108 + 20));
              if ( v108 )
                sub_150E0(v108);
              v12 = 0;
              v9 = 1;
              v108 = 0;
              goto LABEL_11;
            }
            sub_150B8((int)&v116);
          }
          v98 = (int *)&v115;
          v96 = (int *)&v113;
          v42 = (HwcConfig *)(*(int (__fastcall **)(int, int, unsigned int, int))(*(_DWORD *)v104 + 8))(
                               v104,
                               v9,
                               v17,
                               v9 ^ 1);
          if ( v42 )
          {
            v101 = v42;
            if ( HwcConfig::GetDebugLevel(v42) >= 0 )
            {
              v95 = 286;
              v97 = (int)v101;
              v32 = "hwcomposer";
              v33 = "%s:%d: CalcAreasByIndex err[%d]";
              v34 = "Prepare";
LABEL_41:
              _android_log_print(6, v32, v33, v34, v95, v97, v98);
            }
            goto LABEL_42;
          }
          if ( v18 && !OfflinePolicy::CheckNewLayerCanCompose((int)v100, v99, (int)&v115, v9, v17, (int)&v113) )
            goto LABEL_51;
          v43 = v108;
          if ( !v108 )
          {
            v44 = operator new(0x18u);
            *(_DWORD *)v44 = v43;
            *(_DWORD *)(v44 + 4) = &off_2DAC8;
            v45 = operator new[](0xCu);
            *(_DWORD *)(v44 + 8) = v45;
            *(_DWORD *)(v45 + 4) = v45;
            *(_DWORD *)(*(_DWORD *)(v44 + 8) + 8) = *(_DWORD *)(v44 + 8);
            *(_DWORD *)(v44 + 12) = &off_2DAD8;
            v46 = operator new[](0xCu);
            *(_DWORD *)(v44 + 16) = v46;
            *(_DWORD *)(v46 + 4) = v46;
            *(_DWORD *)(*(_DWORD *)(v44 + 16) + 8) = *(_DWORD *)(v44 + 16);
            *(_DWORD *)(v44 + 20) = v43;
            sub_115CA((unsigned int *)v44);
            if ( v108 )
              sub_150E0(v108);
            v108 = v44;
            v103 = HwcConfig::GetFbMem(v106, v47);
            v48 = v108;
            if ( v103 )
            {
              v49 = (unsigned int *)operator new(0xD0u);
              HwcLayerInfo::HwcLayerInfo((int)v49, v103);
            }
            else
            {
              v49 = (unsigned int *)operator new(0xD0u);
              HwcLayerInfo::HwcLayerInfo(v49, *((const void **)v4 + 13), -1);
            }
            sub_115CA(v49);
            v50 = *(unsigned int **)(v48 + 20);
            if ( v50 )
              sub_11752(v50);
            *(_DWORD *)(v48 + 20) = v49;
            v51 = *(_DWORD *)(v108 + 20);
            *(_DWORD *)(v51 + 188) = ChannelMgr::RequestWriteback(v99, *(const HwcLayerInfo **)(v108 + 20));
          }
          ++v17;
          android::List<android::sp<_hwcAreaInfo>>::operator=(v108 + 12, (int)&v115);
          v12 = 1;
          v102 = 1;
        }
        if ( !v102 || !v12 )
          goto LABEL_11;
        if ( (void ***)(v108 + 4) != &v113 )
        {
          v20 = *(_DWORD *)(v108 + 8);
          v21 = v114;
          v22 = *(_DWORD *)(v20 + 8);
          for ( j = *(_DWORD *)(v114 + 8); j != v21; j = v25 )
          {
            if ( v22 == v20 )
            {
              v26 = j;
              do
              {
                v117 = (void **)v20;
                sub_115E0(&v110, (int)&v117, (unsigned int **)v26);
                v26 = *(_DWORD *)(v26 + 8);
              }
              while ( v26 != v21 );
              goto LABEL_31;
            }
            v24 = *(_DWORD *)(v22 + 8);
            v25 = *(_DWORD *)(j + 8);
            android::sp<HwcLayerInfo>::operator=((unsigned int **)v22, (unsigned int **)j);
            v22 = v24;
          }
          v90 = v22;
          while ( v90 != v20 )
          {
            v91 = *(_DWORD *)(v90 + 4);
            v92 = *(_DWORD *)(v90 + 8);
            *(_DWORD *)(v91 + 8) = v92;
            *(_DWORD *)(v92 + 4) = v91;
            android::sp<HwcLayerInfo>::~sp((unsigned int **)v90);
            v93 = (void *)v90;
            v90 = v92;
            operator delete(v93);
          }
        }
LABEL_31:
        v27 = *(unsigned int **)(v108 + 20);
        v117 = (void **)v27;
        if ( v27 )
          sub_115CA(v27);
        OfflinePolicy::ConstructTargetLayer((int)v100, &v117, v108 + 4, (int)&v119);
        android::sp<HwcLayerInfo>::~sp((unsigned int **)&v117);
        if ( v9 )
        {
          if ( *((_BYTE *)v4 + 83) )
          {
            v28 = (HwcConfig *)CheckHasDimCompose(v108 + 4);
            if ( v28 )
            {
              if ( HwcConfig::GetDebugLevel(v28) > 2 )
                _android_log_print(
                  3,
                  "hwcomposer",
                  "%s:%d: Dim layer is not the first offline compose, use GPU",
                  "Prepare",
                  379,
                  v96,
                  v98);
              goto LABEL_51;
            }
          }
        }
        sub_15378((int)&v111, (unsigned int **)&v108);
        sub_11ED6((int)&v114);
        sub_150B8((int)&v116);
        v110 = v114;
        sub_115E0(&v117, (int)&v110, (unsigned int **)(v108 + 20));
        v96 = (int *)&v113;
        v98 = (int *)&v115;
        v29 = (*(int (__fastcall **)(int, _DWORD))(*(_DWORD *)v104 + 8))(v104, 0);
        v30 = (HwcConfig *)sub_11ED6((int)&v114);
        if ( v29 )
        {
          if ( HwcConfig::GetDebugLevel(v30) >= 0 )
          {
            v95 = 398;
            v97 = v29;
            v32 = "hwcomposer";
            v33 = "%s:%d: only one target layer CalcAreasByIndex err[%d]";
            v34 = "Prepare";
            goto LABEL_41;
          }
LABEL_42:
          *((_BYTE *)v4 + 92) = 1;
          goto LABEL_51;
        }
        v35 = (ChannelMgr *)HwcConfig::GetOnlineResouces(v106, v105, v31);
        v107 = v35;
        v36 = *(_DWORD *)(v108 + 20);
        v37 = ChannelMgr::RequestSource(v35, *(const HwcLayerInfo **)(v108 + 20));
        v38 = v108;
        *(_DWORD *)(v36 + 116) = v37;
        v39 = *(_DWORD *)(v38 + 20);
        if ( !*(_DWORD *)(v39 + 116) )
        {
          if ( HwcConfig::GetDebugLevel((HwcConfig *)v39) >= 0 )
            _android_log_print(
              6,
              "hwcomposer",
              "%s:%d: RequestSrcChannel for target layer to display failed",
              "Prepare",
              410,
              &v113,
              &v115);
          goto LABEL_51;
        }
        ChannelMgr::ReuseRequestedChannels(v107);
        v117 = &off_2DAC8;
        v118 = operator new[](0xCu);
        v40 = v108;
        *(_DWORD *)(v118 + 4) = v118;
        v109 = v118;
        *(_DWORD *)(v118 + 8) = v118;
        sub_115E0(&v110, (int)&v109, (unsigned int **)(v40 + 20));
        HwcCompInfo::ConstructOnlineVirtualLayer((int)v4, (int)v4 + 60, (int)&v115, (int)&v117);
        if ( v108 )
          sub_150E0(v108);
        v108 = 0;
        sub_11F00(&v117);
      }
      if ( v102 )
      {
        ChannelMgr::ReuseRequestedChannels(v99);
        for ( k = *(_DWORD *)(v112 + 8); k != v112; k = *(_DWORD *)(k + 8) )
          sub_15378((int)v4 + 20, (unsigned int **)k);
        v63 = 0;
        v64 = 0;
        v110 = 0;
        v117 = 0;
        v65 = *(_DWORD *)(k + 8);
        v66 = "%s:%d: OFFLINE compose. subcompose info [%d], mSourceList size[%d], mAreaList size[%d], mTargetLayer mTarg"
              "etCrop{%d %d %d %d} mTargetFrame{%d %d %d %d}";
        while ( v65 != v112 )
        {
          v67 = *(unsigned int **)v65;
          if ( *(_DWORD *)v65 )
            v66 = (const char *)sub_115CA(*(unsigned int **)v65);
          if ( v63 )
            sub_150E0(v63);
          if ( HwcConfig::GetDebugLevel((HwcConfig *)v66) > 2 )
          {
            v68 = sub_123E6((int)(v67 + 1));
            v69 = v67[4];
            v70 = 0;
            for ( l = *(_DWORD *)(v69 + 8); l != v69; l = *(_DWORD *)(l + 8) )
              ++v70;
            v72 = v67[5];
            v73 = v64++;
            _android_log_print(
              3,
              "hwcomposer",
              "%s:%d: OFFLINE compose. subcompose info [%d], mSourceList size[%d], mAreaList size[%d], mTargetLayer mTarg"
              "etCrop{%d %d %d %d} mTargetFrame{%d %d %d %d}",
              "Prepare",
              467,
              v73,
              v68,
              v70,
              *(_QWORD *)(v72 + 152),
              *(_QWORD *)(v72 + 160),
              *(_DWORD *)(v72 + 168),
              *(_DWORD *)(v72 + 172),
              *(_DWORD *)(v72 + 176),
              *(_DWORD *)(v72 + 180));
          }
          v74 = *(_DWORD *)(v67[4] + 8);
          v66 = "hwcomposer";
          while ( v74 != v67[4] )
          {
            v75 = android::sp<_hwcAreaInfo>::operator=((unsigned int **)&v110, (unsigned int **)v74);
            if ( HwcConfig::GetDebugLevel((HwcConfig *)v75) > 2 )
            {
              v76 = v110;
              v77 = sub_123E6(v110 + 20);
              _android_log_print(
                3,
                "hwcomposer",
                "%s:%d: area{%d %d %d %d}, mSourceList size[%d], mDimIndex[%d]",
                "Prepare",
                475,
                *(_DWORD *)(v76 + 4),
                *(_QWORD *)(v76 + 8),
                *(_DWORD *)(v76 + 16),
                v77,
                *(_DWORD *)(v76 + 32));
            }
            for ( m = *(_DWORD *)(*(_DWORD *)(v110 + 24) + 8); ; m = *(_DWORD *)(m + 8) )
            {
              v66 = *(const char **)(v110 + 24);
              if ( (const char *)m == v66 )
                break;
              v79 = android::sp<HwcLayerInfo>::operator=((unsigned int **)&v117, (unsigned int **)m);
              if ( HwcConfig::GetDebugLevel((HwcConfig *)v79) > 2 )
              {
                _R3 = v117;
                __asm
                {
                  VLDR            S15, [R3,#0x1C]
                  VCVT.F64.F32    D16, S15
                  VSTR            D16, [SP,#0xA4+var_9C]
                  VLDR            S0, [R3,#0x20]
                  VCVT.F64.F32    D1, S0
                  VSTR            D1, [SP,#0xA4+var_94]
                  VLDR            S1, [R3,#0x24]
                  VCVT.F64.F32    D2, S1
                  VSTR            D2, [SP,#0xA4+var_8C]
                  VLDR            S3, [R3,#0x28]
                  VCVT.F64.F32    D3, S3
                  VSTR            D3, [SP,#0xA4+var_84]
                }
                v85 = v117[11];
                v86 = v117[12];
                v87 = v117[13];
                v88 = v117[14];
                _android_log_print(
                  3,
                  "hwcomposer",
                  "%s:%d: Source layer [%p], src rect{%f %f %f %f}, displayframe{%d %d %d %d}",
                  "Prepare",
                  489,
                  v117[4],
                  v98);
              }
            }
            v74 = *(_DWORD *)(v74 + 8);
          }
          v65 = *(_DWORD *)(v65 + 8);
          v63 = (int)v67;
        }
        android::sp<HwcLayerInfo>::~sp((unsigned int **)&v117);
        android::sp<_hwcAreaInfo>::~sp(&v110);
        if ( v63 )
          sub_150E0(v63);
        for ( n = *(_DWORD *)(*((_DWORD *)v4 + 4) + 8); n != *((_DWORD *)v4 + 4); n = *(_DWORD *)(n + 8) )
          *(_BYTE *)(*(_DWORD *)n + 144) = 1;
        *((_BYTE *)v4 + 77) = 1;
        sub_11ED6((int)v4 + 16);
      }
      else
      {
LABEL_51:
        ChannelMgr::ReleaseRequestedChannels(v99);
        for ( ii = *(_DWORD *)(*((_DWORD *)v4 + 4) + 8); ii != *((_DWORD *)v4 + 4); ii = *(_DWORD *)(ii + 8) )
          *(_DWORD *)(*(_DWORD *)ii + 116) = 0;
        if ( v105 == 2 )
          *((_BYTE *)v4 + 108) = 1;
      }
    }
  }
  sub_1268C((int)&v115);
  sub_11F00(&v113);
  if ( v108 )
    sub_150E0(v108);
  sub_126E0((int)&v111);
  return 0;
}
// D6: found interdependent unknown calls
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 2DAC8: using guessed type void *off_2DAC8;
// 2DAD8: using guessed type void *off_2DAD8;
// 2DAE8: using guessed type void *off_2DAE8;

//----- (00015C28) --------------------------------------------------------
int __fastcall GpuComposePolicy::GpuComposePolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DCD8;
  return result;
}
// 2DCD8: using guessed type void *;

//----- (00015C3C) --------------------------------------------------------
int __fastcall sub_15C3C(int a1, unsigned int **a2)
{
  unsigned int **v2; // r5@1
  int v3; // r4@1
  int result; // r0@1
  unsigned int *v5; // r3@1
  unsigned int v6; // r2@3

  v2 = a2;
  v3 = *(_DWORD *)(a1 + 4);
  result = operator new(0xCu);
  v5 = *v2;
  *(_DWORD *)result = *v2;
  if ( v5 )
  {
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 + 1, v5) );
  }
  *(_DWORD *)(result + 8) = v3;
  *(_DWORD *)(result + 4) = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 8) = result;
  *(_DWORD *)(v3 + 4) = result;
  return result;
}

//----- (00015C70) --------------------------------------------------------
int __fastcall GpuComposePolicy::Prepare(GpuComposePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  HwcCompInfo *v4; // r4@1
  GpuComposePolicy *v5; // r6@1
  HwcConfig *v6; // r9@1
  int v7; // r0@1
  int v8; // r7@1
  int v9; // r0@3
  int v10; // r3@7
  int i; // r8@7
  int v12; // r7@9
  unsigned int v13; // r1@11
  unsigned int v14; // r3@14
  int v15; // r6@17
  int j; // r6@21
  int v17; // r7@23
  HwcLayerInfo *v18; // r7@24
  unsigned int v19; // r6@25
  HwcConfig *v20; // r0@26
  int v21; // r0@26
  int v22; // r0@26
  int v23; // r2@26
  ChannelMgr *v24; // r0@26
  HwcLayerInfo *v25; // r9@26
  ChannelMgr *v26; // r10@26
  int v28; // [sp+10h] [bp-40h]@7
  HwcLayerInfo *v29; // [sp+14h] [bp-3Ch]@24
  void **v30; // [sp+18h] [bp-38h]@1
  int v31; // [sp+1Ch] [bp-34h]@1
  void **v32; // [sp+20h] [bp-30h]@1
  int v33; // [sp+24h] [bp-2Ch]@1
  void **v34; // [sp+28h] [bp-28h]@26
  int v35; // [sp+2Ch] [bp-24h]@26

  v4 = a4;
  v5 = this;
  v6 = (HwcConfig *)a2;
  v30 = &off_2DAC8;
  v31 = operator new[](0xCu);
  *(_DWORD *)(v31 + 4) = v31;
  *(_DWORD *)(v31 + 8) = v31;
  v32 = &off_2DAD8;
  v7 = operator new[](0xCu);
  v33 = v7;
  *(_DWORD *)(v7 + 4) = v7;
  *(_DWORD *)(v33 + 8) = v33;
  v8 = *((_DWORD *)v5 + 1);
  if ( HwcConfig::GetPolicyMask((HwcConfig *)v7) & v8 )
  {
    if ( *(_DWORD *)(*((_DWORD *)v4 + 4) + 8) == *((_DWORD *)v4 + 4) )
    {
      v9 = *((_DWORD *)v4 + 9);
      if ( *(_DWORD *)(v9 + 8) != v9 )
        goto LABEL_27;
      if ( HwcConfig::GetDebugLevel((HwcConfig *)v9) > 2 )
        _android_log_print(3, "hwcomposer", "%s:%d: use gpu to refresh a blank fb layer", "Prepare", 51);
      *((_BYTE *)v4 + 79) = 1;
    }
    v10 = *((_DWORD *)v4 + 6);
    v28 = 0;
    for ( i = *(_DWORD *)(v10 + 8); i != *((_DWORD *)v4 + 6); i = *(_DWORD *)(i + 8) )
    {
      v12 = *(_DWORD *)i;
      if ( *(_DWORD *)i )
      {
        __dmb();
        do
          v13 = __ldrex((unsigned int *)v12);
        while ( __strex(v13 + 1, (unsigned int *)v12) );
      }
      if ( v28 )
      {
        __dmb();
        do
          v14 = __ldrex((unsigned int *)v28);
        while ( __strex(v14 - 1, (unsigned int *)v28) );
        if ( v14 == 1 )
        {
          android::sp<HwcLayerInfo>::~sp((unsigned int **)(v28 + 20));
          sub_1268C(v28 + 12);
          sub_11F00((_DWORD *)(v28 + 4));
          operator delete((void *)v28);
        }
      }
      v15 = *(_DWORD *)(v12 + 8);
      v28 = v12;
      while ( 1 )
      {
        v15 = *(_DWORD *)(v15 + 8);
        if ( v15 == *(_DWORD *)(v12 + 8) )
          break;
        *(_BYTE *)(*(_DWORD *)v15 + 144) = 0;
      }
    }
    for ( j = *(_DWORD *)(i + 8); j != *((_DWORD *)v4 + 6); j = v17 )
    {
      v17 = *(_DWORD *)(j + 8);
      android::sp<_hwcSubCompInfo>::~sp((_DWORD *)j);
      operator delete((void *)j);
    }
    *(_DWORD *)(j + 4) = j;
    *(_DWORD *)(*((_DWORD *)v4 + 6) + 8) = *((_DWORD *)v4 + 6);
    v18 = (HwcLayerInfo *)operator new(0xD0u);
    HwcLayerInfo::HwcLayerInfo(v18, *((const void **)v4 + 13), -1);
    v29 = v18;
    __dmb();
    do
      v19 = __ldrex((unsigned int *)v18);
    while ( __strex(v19 + 1, (unsigned int *)v18) );
    v20 = (HwcConfig *)sub_15C3C((int)&v30, (unsigned int **)&v29);
    v21 = HwcConfig::GetPlatform(v20);
    v22 = (*(int (**)(void))(*(_DWORD *)v21 + 24))();
    (*(void (__cdecl **)(int, _DWORD, signed int))(*(_DWORD *)v22 + 8))(v22, 0, 1);
    v24 = (ChannelMgr *)HwcConfig::GetOnlineResouces(v6, 1, v23);
    v25 = v29;
    v26 = v24;
    *((_DWORD *)v25 + 29) = ChannelMgr::RequestSource(v24, v29);
    ChannelMgr::ReleaseRequestedChannels(v26);
    v34 = &off_2DAC8;
    v35 = operator new[](0xCu);
    *(_DWORD *)(v35 + 4) = v35;
    *(_DWORD *)(v35 + 8) = v35;
    sub_15C3C((int)&v34, (unsigned int **)&v29);
    HwcCompInfo::ConstructOnlineVirtualLayer((int)v4, (int)v4 + 60, (int)&v32, (int)&v34);
    *((_BYTE *)v4 + 78) = 1;
    sub_11ED6((int)v4 + 16);
    sub_11F00(&v34);
    android::sp<HwcLayerInfo>::~sp((unsigned int **)&v29);
    android::sp<_hwcSubCompInfo>::~sp(&v28);
  }
LABEL_27:
  sub_1268C((int)&v32);
  sub_11F00(&v30);
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 2DAC8: using guessed type void *off_2DAC8;
// 2DAD8: using guessed type void *off_2DAD8;

//----- (00015E74) --------------------------------------------------------
int __fastcall IdleGpuComposePolicy::Prepare(IdleGpuComposePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  GpuComposePolicy *v4; // r6@1
  int v5; // r8@1
  int v6; // r7@1
  const HwcCompInfo *v7; // r4@1
  HwcCompInfo *v8; // r5@1
  int v9; // r7@6
  int i; // r7@6
  int v11; // r6@8
  unsigned int v12; // r0@10
  unsigned int v13; // r3@13
  int v14; // r0@16
  int j; // r7@20
  int v16; // r6@22
  int v18; // [sp+4h] [bp-1Ch]@1

  v18 = a2;
  v4 = this;
  v5 = *((_DWORD *)this + 1);
  v6 = a2;
  v7 = a3;
  v8 = a4;
  if ( HwcConfig::GetPolicyMask(this) & v5 && *(_DWORD *)(*((_DWORD *)v8 + 4) + 8) != *((_DWORD *)v8 + 4) )
  {
    if ( v7 && (*((_BYTE *)v7 + 78) || *((_BYTE *)v7 + 77)) )
    {
      v9 = *((_DWORD *)v8 + 6);
      v18 = 0;
      for ( i = *(_DWORD *)(v9 + 8); i != *((_DWORD *)v8 + 6); i = *(_DWORD *)(i + 8) )
      {
        v11 = *(_DWORD *)i;
        if ( *(_DWORD *)i )
        {
          __dmb();
          do
            v12 = __ldrex((unsigned int *)v11);
          while ( __strex(v12 + 1, (unsigned int *)v11) );
        }
        if ( v18 )
        {
          __dmb();
          do
            v13 = __ldrex((unsigned int *)v18);
          while ( __strex(v13 - 1, (unsigned int *)v18) );
          if ( v13 == 1 )
          {
            android::sp<HwcLayerInfo>::~sp((unsigned int **)(v18 + 20));
            sub_1268C(v18 + 12);
            sub_11F00((_DWORD *)(v18 + 4));
            operator delete((void *)v18);
          }
        }
        v14 = *(_DWORD *)(v11 + 8);
        v18 = v11;
        while ( 1 )
        {
          v14 = *(_DWORD *)(v14 + 8);
          if ( v14 == *(_DWORD *)(v11 + 8) )
            break;
          *(_BYTE *)(*(_DWORD *)v14 + 144) = 0;
        }
      }
      for ( j = *(_DWORD *)(i + 8); j != *((_DWORD *)v8 + 6); j = v16 )
      {
        v16 = *(_DWORD *)(j + 8);
        android::sp<_hwcSubCompInfo>::~sp((_DWORD *)j);
        operator delete((void *)j);
      }
      *(_DWORD *)(j + 4) = j;
      *(_DWORD *)(*((_DWORD *)v8 + 6) + 8) = *((_DWORD *)v8 + 6);
      sub_11ED6((int)v8 + 36);
      android::sp<_hwcSubCompInfo>::~sp(&v18);
    }
    else
    {
      GpuComposePolicy::Prepare(v4, v6, v7, v8);
    }
  }
  return 0;
}

//----- (00015F64) --------------------------------------------------------
int __fastcall VirtualDisplayPolicy::VirtualDisplayPolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DD08;
  return result;
}
// 2DD08: using guessed type void *;

//----- (00015F78) --------------------------------------------------------
int __fastcall VirtualDisplayPolicy::Prepare(VirtualDisplayPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  HwcCompInfo *v4; // r5@1
  const void *v5; // r6@1
  int i; // r3@2
  int v7; // r4@5
  int v8; // r0@5
  int v9; // r0@5
  unsigned int *v10; // r8@5
  unsigned int *v11; // r9@5
  unsigned int *v12; // r6@5
  unsigned int v13; // r3@7
  int v14; // r6@10
  int v15; // r5@10
  unsigned int v16; // r7@11
  int v18; // [sp+4h] [bp-24h]@1
  const HwcCompInfo *v19; // [sp+8h] [bp-20h]@1

  v18 = a2;
  v19 = a3;
  v4 = a4;
  v5 = (const void *)*((_BYTE *)a4 + 77);
  if ( *((_BYTE *)a4 + 77) )
  {
    for ( i = *(_DWORD *)(*((_DWORD *)a4 + 2) + 8); i != *((_DWORD *)v4 + 2); i = *(_DWORD *)(i + 8) )
      *(_BYTE *)(*(_DWORD *)i + 144) = 1;
  }
  else
  {
    v7 = operator new(0x18u);
    *(_DWORD *)v7 = v5;
    *(_DWORD *)(v7 + 4) = &off_2DAC8;
    v8 = operator new[](0xCu);
    *(_DWORD *)(v7 + 8) = v8;
    *(_DWORD *)(v8 + 4) = v8;
    *(_DWORD *)(*(_DWORD *)(v7 + 8) + 8) = *(_DWORD *)(v7 + 8);
    *(_DWORD *)(v7 + 12) = &off_2DAD8;
    v9 = operator new[](0xCu);
    *(_DWORD *)(v7 + 16) = v9;
    *(_DWORD *)(v9 + 4) = v9;
    *(_DWORD *)(*(_DWORD *)(v7 + 16) + 8) = *(_DWORD *)(v7 + 16);
    *(_DWORD *)(v7 + 20) = v5;
    sub_115CA((unsigned int *)v7);
    v10 = (unsigned int *)operator new(0xD0u);
    HwcLayerInfo::HwcLayerInfo(v10, *((const void **)v4 + 13), -1);
    v18 = (int)v10;
    sub_115CA(v10);
    sub_15C3C((int)v4 + 4, (unsigned int **)&v18);
    sub_15C3C(v7 + 4, (unsigned int **)&v18);
    v11 = (unsigned int *)operator new(0xD0u);
    HwcLayerInfo::HwcLayerInfo(v11, v5, -1);
    sub_115CA(v11);
    v12 = *(unsigned int **)(v7 + 20);
    if ( v12 )
    {
      __dmb();
      do
        v13 = __ldrex(v12);
      while ( __strex(v13 - 1, v12) );
      if ( v13 == 1 )
      {
        android::Vector<HwcPolicy *>::do_construct();
        operator delete(v12);
      }
    }
    *(_DWORD *)(v7 + 20) = v11;
    v14 = *((_DWORD *)v4 + 6);
    v15 = operator new(0xCu);
    *(_DWORD *)v15 = v7;
    sub_115CA((unsigned int *)v7);
    *(_DWORD *)(v15 + 8) = v14;
    *(_DWORD *)(v15 + 4) = *(_DWORD *)(v14 + 4);
    *(_DWORD *)(*(_DWORD *)(v14 + 4) + 8) = v15;
    *(_DWORD *)(v14 + 4) = v15;
    android::sp<HwcLayerInfo>::~sp((unsigned int **)&v18);
    __dmb();
    do
      v16 = __ldrex((unsigned int *)v7);
    while ( __strex(v16 - 1, (unsigned int *)v7) );
    if ( v16 == 1 )
    {
      android::sp<HwcLayerInfo>::~sp((unsigned int **)(v7 + 20));
      sub_1268C(v7 + 12);
      sub_11F00((_DWORD *)(v7 + 4));
      operator delete((void *)v7);
    }
  }
  return 0;
}
// 2DAC8: using guessed type void *off_2DAC8;
// 2DAD8: using guessed type void *off_2DAD8;

//----- (000160B8) --------------------------------------------------------
int __fastcall VirtualDisplaySkipPolicy::Prepare(VirtualDisplaySkipPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  HwcCompInfo *v4; // r4@1
  int v5; // r5@1
  int i; // r2@2

  v4 = a4;
  v5 = *((_DWORD *)this + 1);
  if ( HwcConfig::GetPolicyMask(this) & v5 )
  {
    for ( i = *(_DWORD *)(*((_DWORD *)v4 + 2) + 8); i != *((_DWORD *)v4 + 2); i = *(_DWORD *)(i + 8) )
      *(_BYTE *)(*(_DWORD *)i + 144) = 1;
  }
  return 0;
}

//----- (000160E0) --------------------------------------------------------
int __fastcall VirtualDisplaySkipPolicy::VirtualDisplaySkipPolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DD20;
  return result;
}
// 2DD20: using guessed type void *;

//----- (000160F4) --------------------------------------------------------
int __fastcall PartialUpdatesResetPolicy::Prepare(PartialUpdatesResetPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  HwcCompInfo *v4; // r4@1
  int v5; // r5@1
  int v6; // r1@1
  int v7; // r0@3
  unsigned int **v8; // r0@7
  int v9; // r0@7

  v4 = a4;
  v5 = *((_DWORD *)this + 1);
  if ( HwcConfig::GetPolicyMask(this) & v5 )
  {
    if ( *(_DWORD *)(*((_DWORD *)v4 + 4) + 8) != *((_DWORD *)v4 + 4) )
    {
      v7 = HwcConfig::GetDisplay(0, v6);
      if ( *((_DWORD *)v4 + 15)
        || *((_DWORD *)v4 + 16)
        || *((_DWORD *)v4 + 17) != *(_DWORD *)(v7 + 20)
        || *((_DWORD *)v4 + 18) != *(_DWORD *)(v7 + 24) )
      {
        v8 = HwcCompInfo::ResetPartialUpdates(v4);
        v9 = HwcConfig::GetPlatform((HwcConfig *)v8);
        (*(void (**)(void))(*(_DWORD *)v9 + 32))();
      }
    }
  }
  return 0;
}

//----- (00016140) --------------------------------------------------------
int __fastcall PartialUpdatesResetPolicy::PartialUpdatesResetPolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DD38;
  return result;
}
// 2DD38: using guessed type void *;

//----- (00016154) --------------------------------------------------------
signed int __fastcall CapaProvider::request(CapaProvider *this, const HwcLayerInfo *a2, int a3)
{
  signed int v3; // r1@3
  signed int result; // r0@4

  if ( a3 && *((_BYTE *)this + 5) || (v3 = *((_BYTE *)this + 4)) != 0 )
  {
    result = -1;
  }
  else
  {
    *((_BYTE *)this + 4) = 1;
    result = v3;
  }
  return result;
}

//----- (0001616C) --------------------------------------------------------
int __fastcall CapaProvider::release(int result, const HwcLayerInfo *a2)
{
  *(_BYTE *)(result + 4) = 0;
  return result;
}

//----- (00016172) --------------------------------------------------------
signed int __fastcall CapaProvider::set(CapaProvider *this, const HwcLayerInfo *a2)
{
  signed int v2; // r3@1
  signed int result; // r0@2

  v2 = *((_BYTE *)this + 5);
  if ( *((_BYTE *)this + 5) )
  {
    result = -1;
  }
  else
  {
    *((_BYTE *)this + 5) = 1;
    result = v2;
  }
  return result;
}

//----- (00016184) --------------------------------------------------------
int __fastcall CapaProvider::reset(int result)
{
  *(_BYTE *)(result + 5) = 0;
  return result;
}

//----- (0001618C) --------------------------------------------------------
int __fastcall CapaProvider::CapaProvider(int result)
{
  *(_BYTE *)(result + 4) = 0;
  *(_BYTE *)(result + 5) = 0;
  *(_DWORD *)result = &off_2DD50;
  return result;
}
// 2DD50: using guessed type void *;

//----- (000161A4) --------------------------------------------------------
signed int __fastcall IAccelerator::getAccelType(IAccelerator *this)
{
  return 257;
}

//----- (000161AC) --------------------------------------------------------
int __fastcall Segmenter::Segmenter(int result, char a2)
{
  *(_BYTE *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DD70;
  return result;
}
// 2DD70: using guessed type void *;

//----- (000161C0) --------------------------------------------------------
signed int __fastcall Segmenter::CalcAreasByIndex(int a1, unsigned int a2, unsigned int a3, int a4, int a5, int a6, int a7)
{
  unsigned int v7; // r6@1
  int v8; // r10@1
  unsigned int v9; // r5@1
  int v10; // r9@1
  HwcConfig *v11; // r0@1
  int v12; // r0@2
  int v13; // r8@3
  int v14; // r4@4
  int v15; // r0@4
  int v16; // r4@6
  int v17; // r6@6
  char *v18; // r0@11
  int v19; // r3@15
  signed int v20; // r11@17
  int v21; // r8@17
  signed int v22; // r9@19
  unsigned int v23; // r10@22
  unsigned int **v24; // r3@22
  signed int v25; // r4@22
  int v26; // r11@22
  unsigned int **v27; // ST28_4@25
  unsigned int **v28; // r0@25
  int v29; // r0@27
  int v30; // lr@28
  char *v31; // r12@28
  int v32; // r1@28
  int v33; // r0@35
  int i; // r2@35
  int v35; // r12@37
  int v36; // lr@37
  int v37; // r1@40
  int v38; // r2@40
  signed int v39; // r3@42
  signed int v40; // r3@43
  int v41; // r2@52
  int v42; // r0@52
  signed int v43; // r9@53
  unsigned int v44; // r10@53
  HwcConfig *v45; // r11@58
  int v46; // r9@59
  int v47; // r0@59
  HwcConfig *v48; // r11@59
  unsigned int v49; // r0@61
  int v50; // r0@68
  HwcConfig *v51; // r1@69
  HwcConfig *v52; // r0@70
  HwcConfig **v53; // r0@77
  int v54; // r0@82
  int v56; // [sp+28h] [bp-D0h]@52
  int v57; // [sp+2Ch] [bp-CCh]@52
  int v58; // [sp+30h] [bp-C8h]@53
  signed int v59; // [sp+34h] [bp-C4h]@21
  int v60; // [sp+38h] [bp-C0h]@3
  int v61; // [sp+4Ch] [bp-ACh]@1
  HwcConfig *v62; // [sp+50h] [bp-A8h]@4
  int s[31]; // [sp+54h] [bp-A4h]@1
  char v64[40]; // [sp+D0h] [bp-28h]@28

  v7 = a2;
  v8 = a1;
  v9 = a3;
  v61 = 0;
  v10 = a4;
  v11 = (HwcConfig *)memset(s, 0, 0x7Cu);
  if ( HwcConfig::GetDebugLevel(v11) > 2 )
  {
    v12 = sub_123E6(a6);
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: startLayerIndex[%d] layerNum[%d] expandBlank[%d] limitRect{%d %d %d %d}        pendingList size[%d]",
      "CalcAreasByIndex",
      45,
      v7,
      v9,
      v10,
      *(_DWORD *)a5,
      *(_DWORD *)(a5 + 4),
      *(_DWORD *)(a5 + 8),
      *(_DWORD *)(a5 + 12),
      v12);
  }
  v60 = *(_DWORD *)(a5 + 8) - *(_DWORD *)a5;
  v13 = *(_DWORD *)(a5 + 12) - *(_DWORD *)(a5 + 4);
  if ( *(_BYTE *)(v8 + 4) )
  {
    v18 = (char *)sub_123E6(a6);
    if ( v9 > (unsigned int)v18 || v7 > (unsigned int)(v18 - 1) || v7 + v9 > (unsigned int)v18 )
    {
      if ( HwcConfig::GetDebugLevel((HwcConfig *)v18) >= 0 )
      {
        v54 = sub_123E6(a6);
        _android_log_print(
          6,
          "hwcomposer",
          "%s:%d: invalid param startLayerIndex[%d] layerNum[%d] list.size[%d]",
          "CalcAreasByIndex",
          82,
          v7,
          v9,
          v54);
      }
    }
    else
    {
      if ( v7 == 1 )
      {
        ++v9;
        v59 = 1;
      }
      else
      {
        v18 = 0;
        v59 = 0;
      }
      v23 = 0;
      v24 = (unsigned int **)&v61;
      v25 = 0;
      v26 = *(_DWORD *)(*(_DWORD *)(a6 + 4) + 8);
      while ( v23 != v9 )
      {
        if ( v23 >= v7 )
        {
          v27 = v24;
          v28 = android::sp<HwcLayerInfo>::operator=(v24, (unsigned int **)v26);
          v24 = v27;
          if ( v25 > 29 )
          {
            if ( HwcConfig::GetDebugLevel((HwcConfig *)v28) >= 0 )
            {
              v29 = sub_123E6(a6);
              _android_log_print(6, "hwcomposer", "%s:%d: too many layer to compose[%d]", "CalcAreasByIndex", 111, v29);
            }
            goto LABEL_33;
          }
          v30 = v25 + 1;
          v31 = &v64[4 * v25];
          v18 = v64;
          v25 += 2;
          v32 = *(_DWORD *)(v61 + 56);
          *((_DWORD *)v31 - 31) = *(_DWORD *)(v61 + 48);
          *(_DWORD *)&v64[4 * v30 - 124] = v32;
        }
        v26 = *(_DWORD *)(v26 + 8);
        ++v23;
      }
      if ( v25 )
      {
        v19 = 0;
        do
        {
          v33 = v19 + 1;
          for ( i = v19 + 1; i < v25; ++i )
          {
            v35 = s[i];
            v36 = s[v19];
            if ( v36 > v35 )
            {
              s[v19] = v35;
              s[i] = v36;
            }
          }
          ++v19;
        }
        while ( v33 < v25 );
        if ( v10 )
        {
          v37 = s[0];
          v38 = *(_DWORD *)&v64[4 * v25 - 128];
          if ( s[0] > 0 )
          {
            v40 = 0;
            do
            {
              if ( s[v40] == v37 )
                s[v40] = 0;
              ++v40;
            }
            while ( v40 < v25 );
          }
          if ( v38 < v13 )
          {
            v39 = 0;
            do
            {
              if ( s[v39] == v38 )
                s[v39] = v13;
              ++v39;
            }
            while ( v39 < v25 );
          }
        }
        v20 = -1;
        v21 = 0;
        while ( v21 < v25 - 1 )
        {
          v41 = s[v21++];
          v42 = s[v21];
          v62 = 0;
          v56 = v41;
          v57 = v42;
          if ( v41 == v42 )
          {
LABEL_78:
            v53 = &v62;
          }
          else
          {
            v43 = 0;
            v44 = 0;
            v58 = *(_DWORD *)(*(_DWORD *)(a6 + 4) + 8);
            while ( v44 != v9 )
            {
              if ( v44 >= v7 )
              {
                android::sp<HwcLayerInfo>::operator=((unsigned int **)&v61, (unsigned int **)v58);
                if ( *(_DWORD *)(v61 + 48) < v57 && *(_DWORD *)(v61 + 56) > v56 )
                {
                  v45 = v62;
                  if ( !v62 )
                  {
                    v46 = operator new(0x28u);
                    *(_DWORD *)v46 = v45;
                    *(_DWORD *)(v46 + 20) = &off_2DAC8;
                    v47 = operator new[](0xCu);
                    *(_DWORD *)(v46 + 24) = v47;
                    *(_DWORD *)(v47 + 4) = v47;
                    *(_DWORD *)(*(_DWORD *)(v46 + 24) + 8) = *(_DWORD *)(v46 + 24);
                    sub_115CA((unsigned int *)v46);
                    v48 = v62;
                    if ( v62 )
                    {
                      __dmb();
                      do
                        v49 = __ldrex((unsigned int *)v48);
                      while ( __strex(v49 - 1, (unsigned int *)v48) );
                      if ( v49 == 1 )
                      {
                        sub_11F00((_DWORD *)v48 + 5);
                        operator delete((void *)v48);
                      }
                    }
                    v62 = (HwcConfig *)v46;
                    *(_DWORD *)(v46 + 4) = 0;
                    *(_DWORD *)(v46 + 36) = 0;
                    *(_DWORD *)(v46 + 12) = v60;
                    *(_DWORD *)(v46 + 8) = v56;
                    *(_DWORD *)(v46 + 16) = v57;
                    *(_DWORD *)(v46 + 32) = -1;
                    if ( v59 )
                      sub_15C3C(v46 + 20, *(unsigned int ***)(*(_DWORD *)(a6 + 4) + 8));
                  }
                  if ( !v62 )
                  {
                    if ( HwcConfig::GetDebugLevel(0) >= 0 )
                      _android_log_print(6, "hwcomposer", "%s:%d: should never be here", "CalcAreasByIndex", 201);
                    v22 = -2;
                    android::sp<_hwcAreaInfo>::~sp(&v62);
                    goto LABEL_86;
                  }
                  v43 = 1;
                  v20 = *(_DWORD *)(v61 + 148);
                  sub_15C3C((int)v62 + 20, (unsigned int **)&v61);
                }
                v50 = v61;
                if ( *(_DWORD *)(v61 + 124) & 0x100 )
                {
                  v51 = v62;
                  if ( v62 )
                  {
                    *((_DWORD *)v62 + 8) = v20;
                    v52 = (HwcConfig *)(*(_BYTE *)(v50 + 76) << 16);
                    *((_DWORD *)v51 + 9) = (unsigned int)v52 | 0x805;
                    if ( HwcConfig::GetDebugLevel(v52) > 2 )
                      _android_log_print(
                        3,
                        "hwcomposer",
                        "%s:%d: hwcAreaInfo->mDimIndex = %d",
                        "CalcAreasByIndex",
                        213,
                        *((_DWORD *)v62 + 8));
                  }
                }
              }
              ++v44;
              v58 = *(_DWORD *)(v58 + 8);
            }
            if ( !v43 )
            {
              s[v21] = v56;
              goto LABEL_78;
            }
            if ( v62 )
              sub_15378(a7, (unsigned int **)&v62);
            v53 = &v62;
          }
          android::sp<_hwcAreaInfo>::~sp(v53);
        }
        goto LABEL_19;
      }
      if ( HwcConfig::GetDebugLevel((HwcConfig *)v18) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: NULL area in this compostion", "CalcAreasByIndex", 120);
    }
LABEL_33:
    v22 = -1;
    goto LABEL_86;
  }
  v14 = operator new(0x28u);
  *(_DWORD *)v14 = 0;
  *(_DWORD *)(v14 + 20) = &off_2DAC8;
  v15 = operator new[](0xCu);
  *(_DWORD *)(v14 + 24) = v15;
  *(_DWORD *)(v15 + 4) = v15;
  *(_DWORD *)(*(_DWORD *)(v14 + 24) + 8) = *(_DWORD *)(v14 + 24);
  v62 = (HwcConfig *)v14;
  sub_115CA((unsigned int *)v14);
  *(_DWORD *)(v14 + 4) = 0;
  *(_DWORD *)(v14 + 12) = v60;
  *(_DWORD *)(v14 + 8) = 0;
  *(_DWORD *)(v14 + 16) = v13;
  *(_DWORD *)(v14 + 32) = -1;
  *(_DWORD *)(v14 + 36) = 0;
  if ( v7 )
    ++v9;
  v16 = *(_DWORD *)(*(_DWORD *)(a6 + 4) + 8);
  v17 = 0;
  while ( v16 != *(_DWORD *)(a6 + 4) && v17 != v9 )
  {
    ++v17;
    sub_15C3C((int)v62 + 20, (unsigned int **)v16);
    v16 = *(_DWORD *)(v16 + 8);
  }
  sub_15378(a7, (unsigned int **)&v62);
  android::sp<_hwcAreaInfo>::~sp(&v62);
LABEL_19:
  v22 = 0;
LABEL_86:
  android::sp<HwcLayerInfo>::~sp((unsigned int **)&v61);
  return v22;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 2DAC8: using guessed type void *off_2DAC8;
// 161C0: using guessed type int s[31];
// 161C0: using guessed type char var_28[40];

//----- (0001666C) --------------------------------------------------------
HwcConfig *__fastcall HwcMem::HwcMem(HwcConfig *a1, signed int a2, int a3, int a4, int a5)
{
  signed int v5; // r5@1
  HwcConfig *v6; // r4@1
  int v7; // r8@1
  int v8; // r7@1
  HwcConfig *v9; // r0@7
  const char *v10; // r1@9
  const char *v11; // r2@9
  const char *v12; // r3@9
  HwcConfig *v13; // r0@10
  int v14; // r6@14
  unsigned int v15; // r0@15
  int v16; // ST04_4@18
  HwcConfig *v17; // r0@18
  int v18; // r2@19
  int v19; // r6@21
  unsigned int v20; // r0@24
  int v21; // r0@26
  int v22; // r3@26
  int v23; // r7@30
  int v24; // r1@30
  void *v25; // r0@34
  signed int v27; // [sp+0h] [bp-40h]@9

  v5 = a2;
  v6 = a1;
  v7 = a3;
  v8 = a4;
  if ( a2 <= 0 || a3 <= 0 || a4 <= 0 )
  {
    if ( HwcConfig::GetDebugLevel(a1) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: invalid args count[%d] w[%d] h[%d]", "HwcMem", 27, v5, v7, v8);
    return v6;
  }
  if ( !HwcMem::mGrDev )
  {
    v9 = (HwcConfig *)hw_get_module("gralloc", &HwcMem::mModule);
    if ( v9 )
    {
      if ( HwcConfig::GetDebugLevel(v9) < 0 )
        return v6;
      v27 = 33;
      v10 = "hwcomposer";
      v11 = "%s:%d: Couldn't get gralloc module";
      v12 = "HwcMem";
LABEL_13:
      _android_log_print(6, v10, v11, v12, v27);
      return v6;
    }
    v13 = (HwcConfig *)(**(int (***)(void))(HwcMem::mModule + 20))();
    if ( v13 )
    {
      if ( HwcConfig::GetDebugLevel(v13) < 0 )
        return v6;
      v27 = 37;
      v10 = "hwcomposer";
      v11 = "%s:%d: Couldn't open gralloc device";
      v12 = "HwcMem";
      goto LABEL_13;
    }
  }
  v14 = 0;
  if ( v5 > 532676608 )
    v15 = -1;
  else
    v15 = 4 * v5;
  *(_DWORD *)v6 = operator new[](v15);
  while ( 1 )
  {
    *(_DWORD *)(*(_DWORD *)v6 + 4 * v14) = 0;
    v16 = *(_DWORD *)v6 + 4 * v14;
    v17 = (HwcConfig *)(*(int (__cdecl **)(_DWORD, int, int))(HwcMem::mGrDev + 64))(HwcMem::mGrDev, v7, v8);
    if ( v17 )
      break;
    if ( ++v14 == v5 )
    {
      if ( v5 > 532676608 )
        v20 = -1;
      else
        v20 = 4 * v5;
      v21 = operator new[](v20);
      v22 = 0;
      *((_DWORD *)v6 + 1) = v21;
      do
        *(_DWORD *)(*((_DWORD *)v6 + 1) + 4 * v22++) = -1;
      while ( v22 != v5 );
      *((_DWORD *)v6 + 5) = v8;
      *((_DWORD *)v6 + 2) = v22;
      *((_DWORD *)v6 + 3) = 0;
      *((_DWORD *)v6 + 4) = v7;
      *((_DWORD *)v6 + 6) = a5;
      return v6;
    }
  }
  if ( HwcConfig::GetDebugLevel(v17) >= 0 )
    _android_log_print(
      6,
      "hwcomposer",
      "%s:%d: failed to alloc when create HwcMem, index is %d/%d",
      "HwcMem",
      48,
      v14,
      v5);
  v19 = 0;
  do
  {
    v23 = 4 * v19;
    v24 = *(_DWORD *)(*(_DWORD *)v6 + 4 * v19);
    if ( v24 )
      (*(void (__cdecl **)(_DWORD, int, int))(HwcMem::mGrDev + 68))(HwcMem::mGrDev, v24, v18);
    ++v19;
    *(_DWORD *)(*(_DWORD *)v6 + v23) = 0;
  }
  while ( v19 != v5 );
  if ( *(_DWORD *)v6 )
    operator delete[](*(void **)v6);
  v25 = (void *)*((_DWORD *)v6 + 1);
  *(_DWORD *)v6 = 0;
  if ( v25 )
    operator delete[](v25);
  *((_DWORD *)v6 + 1) = 0;
  *(_DWORD *)v6 = 0;
  *((_DWORD *)v6 + 3) = 0;
  *((_DWORD *)v6 + 2) = 0;
  return v6;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E808: using guessed type int __fastcall hw_get_module(_DWORD, _DWORD);

//----- (00016850) --------------------------------------------------------
HwcMem *__fastcall HwcMem::~HwcMem(HwcMem *this)
{
  int v1; // r5@1
  HwcMem *i; // r4@1
  _DWORD *v3; // r0@2
  int v4; // r7@3
  int v5; // r0@8
  int v6; // r5@8
  _DWORD *v7; // r0@9
  int v8; // r0@10

  v1 = 0;
  for ( i = this; ; *(_DWORD *)(*(_DWORD *)i + v4) = 0 )
  {
    v3 = *(_DWORD **)i;
    if ( v1 >= *((_DWORD *)i + 2) )
      break;
    v4 = 4 * v1;
    if ( v3[v1] )
      (*(void (**)(void))(HwcMem::mGrDev + 68))();
    ++v1;
  }
  if ( v3 )
    operator delete[](v3);
  v5 = *((_DWORD *)i + 1);
  v6 = 0;
  *(_DWORD *)i = 0;
  if ( v5 )
  {
    while ( 1 )
    {
      v7 = (_DWORD *)*((_DWORD *)i + 1);
      if ( v6 >= *((_DWORD *)i + 2) )
        break;
      v8 = v7[v6];
      if ( v8 >= 0 )
      {
        close(v8);
        *(_DWORD *)(*((_DWORD *)i + 1) + 4 * v6) = -1;
      }
      ++v6;
    }
    if ( v7 )
      operator delete[](v7);
  }
  return i;
}

//----- (000168BC) --------------------------------------------------------
int __fastcall HwcMem::getBuffer(HwcMem *this)
{
  return *(_DWORD *)(*(_DWORD *)this + 4 * *((_DWORD *)this + 3));
}

//----- (000168C8) --------------------------------------------------------
int __fastcall HwcMem::setReleaseFence(HwcMem *this, int a2, int a3)
{
  HwcMem *v3; // r4@1
  int v4; // r5@1
  HwcConfig *v5; // r0@1
  int result; // r0@5
  int v7; // [sp+4h] [bp-14h]@1
  int v8; // [sp+8h] [bp-10h]@1

  v7 = a2;
  v8 = a3;
  v3 = this;
  v4 = a2;
  v5 = *(HwcConfig **)(*((_DWORD *)this + 1) + 4 * *((_DWORD *)this + 3));
  if ( (signed int)v5 >= 0 )
  {
    if ( HwcConfig::GetDebugLevel(v5) > 0 )
      _android_log_print(
        5,
        "hwcomposer",
        "%s:%d: use a displaying buf, should never happen",
        "setReleaseFence",
        128,
        v7,
        v8);
    close(*(_DWORD *)(*((_DWORD *)v3 + 1) + 4 * *((_DWORD *)v3 + 3)));
  }
  result = *((_DWORD *)v3 + 3);
  *(_DWORD *)(*((_DWORD *)v3 + 1) + 4 * result) = v4;
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001691C) --------------------------------------------------------
int __fastcall HwcMem::swap(HwcMem *this, int a2, int a3, int a4)
{
  HwcMem *v4; // r4@1
  signed int v5; // r2@1
  signed int v6; // r3@1
  int v7; // r5@1
  int result; // r0@1
  HwcConfig *v9; // r0@2
  int v10; // r0@3
  int v11; // r1@3
  int *v12; // r0@4
  int v13; // r6@4
  char *v14; // r0@4
  int v15; // [sp+Ch] [bp-14h]@1

  v15 = a4;
  v4 = this;
  v5 = *((_DWORD *)this + 2);
  v6 = *((_DWORD *)this + 3) + 1;
  v7 = v6 - v5 * (v6 / v5);
  result = *(_DWORD *)(*((_DWORD *)this + 1) + 4 * v7);
  if ( result >= 0 )
  {
    v9 = (HwcConfig *)sync_wait(result, 3000, v5, v6);
    if ( (signed int)v9 < 0 )
    {
      v10 = HwcConfig::GetDebugLevel(v9);
      if ( v10 >= 0 )
      {
        v12 = (int *)_errno(v10, v11);
        v13 = *v12;
        v14 = strerror(*v12);
        _android_log_print(
          6,
          "hwcomposer",
          "%s:%d: sync_wait error!! error no = %d err str = %s",
          "swap",
          142,
          v13,
          v14,
          v15);
      }
    }
    close(*(_DWORD *)(*((_DWORD *)v4 + 1) + 4 * v7));
    result = *((_DWORD *)v4 + 1);
    *(_DWORD *)(result + 4 * v7) = -1;
  }
  *((_DWORD *)v4 + 3) = v7;
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E0B8: using guessed type int __cdecl sync_wait(_DWORD, _DWORD, _DWORD, _DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);

//----- (0001699C) --------------------------------------------------------
int __fastcall HwcMem::width(HwcMem *this)
{
  return *((_DWORD *)this + 4);
}

//----- (000169A0) --------------------------------------------------------
int __fastcall HwcMem::height(HwcMem *this)
{
  return *((_DWORD *)this + 5);
}

//----- (000169A4) --------------------------------------------------------
signed int __fastcall HwcMem::configBuffer(HwcMem *this, int a2, int a3, int a4)
{
  int v4; // r10@1
  HwcMem *v5; // r8@1
  int v6; // r5@1
  int v7; // r9@1
  HwcConfig *v9; // r0@7
  HwcConfig *v10; // r6@7
  bool v11; // zf@23
  signed int v12; // r4@30
  HwcConfig *v13; // r0@30
  int v14; // r7@32
  signed int v15; // r1@33
  int v16; // r6@42
  int v17; // r0@44
  int v18; // r0@44

  v4 = a3;
  v5 = this;
  v6 = a2;
  v7 = a4;
  if ( a3 <= 0 || a4 <= 0 || *((_DWORD *)this + 2) <= 0 )
  {
    if ( HwcConfig::GetDebugLevel(this) >= 0 )
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: invalid input. w = %d, h = %d, mCount = %d",
        "configBuffer",
        164,
        v4,
        v7,
        *((_DWORD *)v5 + 2));
    return 0;
  }
  v9 = (HwcConfig *)sub_11658(**(_DWORD **)this);
  v10 = v9;
  if ( !v9 )
  {
    if ( HwcConfig::GetDebugLevel(0) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: no mem for rot", "configBuffer", 173);
    return 0;
  }
  if ( v6 == 17 )
    goto LABEL_30;
  if ( v6 > 17 )
  {
    if ( v6 >= 258 )
    {
      if ( v6 == 264 )
      {
LABEL_31:
        v12 = (v4 + 15) & 0xFFFFFFF0;
        v13 = (HwcConfig *)(2 * v7 * v12);
        goto LABEL_32;
      }
      if ( v6 != 842094169 )
      {
        v11 = v6 == 260;
LABEL_27:
        if ( !v11 )
        {
LABEL_37:
          if ( HwcConfig::GetDebugLevel(v9) >= 0 )
            _android_log_print(6, "hwcomposer", "%s:%d: unsurport format %d", "configBuffer", 217, v6);
          return 0;
        }
        goto LABEL_35;
      }
    }
    else if ( v6 < 256 )
    {
      if ( v6 == 20 )
        goto LABEL_35;
      v11 = v6 == 32;
      goto LABEL_27;
    }
LABEL_30:
    v12 = (v4 + 15) & 0xFFFFFFF0;
    v13 = (HwcConfig *)(3 * v7 * v12 / 2);
LABEL_32:
    v14 = v12;
    goto LABEL_39;
  }
  if ( v6 == 3 )
  {
    v12 = (3 * v4 + 15) & 0xFFFFFFF0;
    v13 = (HwcConfig *)(v7 * v12);
    v14 = v12 / 3;
    goto LABEL_39;
  }
  if ( v6 <= 3 )
  {
    if ( v6 < 1 )
      goto LABEL_37;
    goto LABEL_33;
  }
  if ( v6 != 5 )
  {
    if ( v6 >= 5 )
    {
      if ( v6 != 16 )
        goto LABEL_37;
      goto LABEL_31;
    }
LABEL_35:
    v15 = 2;
    v12 = (2 * v4 + 15) & 0xFFFFFFF0;
    v13 = (HwcConfig *)(v7 * v12);
    goto LABEL_36;
  }
LABEL_33:
  v15 = 4;
  v12 = (4 * v4 + 15) & 0xFFFFFFF0;
  v13 = (HwcConfig *)(v7 * v12);
LABEL_36:
  v14 = v12 / v15;
LABEL_39:
  if ( (signed int)v13 > *((_DWORD *)v10 + 10) )
  {
    if ( HwcConfig::GetDebugLevel(v13) > 0 )
      _android_log_print(
        5,
        "hwcomposer",
        "%s:%d: block rot buf{w=%d, h=%d, format=%d} larger than mem buf[%d]",
        "configBuffer",
        223,
        v4,
        v7,
        v6,
        *((_DWORD *)v10 + 10));
    return 0;
  }
  v16 = 0;
  while ( v16 < *((_DWORD *)v5 + 2) )
  {
    v17 = *(_DWORD *)(*(_DWORD *)v5 + 4 * v16++);
    v18 = sub_11658(v17);
    *(_DWORD *)(v18 + 20) = v6;
    *(_DWORD *)(v18 + 32) = v12;
    *(_DWORD *)(v18 + 156) = v14;
    *(_DWORD *)(v18 + 92) = v7;
    *(_DWORD *)(v18 + 88) = v4;
  }
  return 1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00016B84) --------------------------------------------------------
int __fastcall HwcIdleMgr::IdleDetectTimeout(HwcIdleMgr *this, sigval a2, int a3)
{
  HwcIdleMgr *v3; // r4@1
  int v4; // r1@3
  void *v5; // r0@3
  _DWORD *v6; // r0@5
  int v8; // [sp+4h] [bp-14h]@1
  int v9; // [sp+8h] [bp-10h]@1

  v8 = a2.sival_int;
  v9 = a3;
  v3 = this;
  if ( HwcConfig::GetDebugLevel(this) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: hwc idle timer expired", "IdleDetectTimeout", 48, v8, v9);
  pthread_mutex_lock((pthread_mutex_t *)((char *)v3 + 4));
  *(_BYTE *)v3 = 1;
  v5 = (void *)*((_DWORD *)v3 + 2);
  if ( v5 )
  {
    timer_delete(v5);
    v4 = 0;
    *((_DWORD *)v3 + 2) = 0;
  }
  v6 = (_DWORD *)*((_DWORD *)v3 + 3);
  if ( v6 )
    (*(void (__cdecl **)(_DWORD *, int, _DWORD))(*v6 + 8))(v6, v4, *v6);
  return j_j_pthread_mutex_unlock((pthread_mutex_t *)((char *)v3 + 4));
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00016BE0) --------------------------------------------------------
_BYTE *__fastcall HwcIdleMgr::HwcIdleMgr(_BYTE *a1, int a2)
{
  _BYTE *v2; // r4@1
  int v3; // r6@1
  pthread_mutex_t *v4; // r0@1
  _BYTE *result; // r0@1

  v2 = a1;
  v3 = a2;
  *a1 = 0;
  v4 = (pthread_mutex_t *)(a1 + 4);
  v4[-1].__size[21] = 0;
  pthread_mutex_init(v4, 0);
  *((_DWORD *)v2 + 2) = 0;
  result = v2;
  *((_DWORD *)v2 + 3) = v3;
  return result;
}

//----- (00016BFE) --------------------------------------------------------
HwcIdleMgr *__fastcall HwcIdleMgr::~HwcIdleMgr(HwcIdleMgr *this)
{
  pthread_mutex_t *v1; // r5@1
  HwcIdleMgr *v2; // r4@1
  void *v3; // r0@1

  v1 = (pthread_mutex_t *)((char *)this + 4);
  v2 = this;
  pthread_mutex_lock((pthread_mutex_t *)((char *)this + 4));
  v3 = (void *)*((_DWORD *)v2 + 2);
  if ( v3 )
    timer_delete(v3);
  pthread_mutex_unlock(v1);
  *((_DWORD *)v2 + 3) = 0;
  pthread_mutex_destroy(v1);
  return v2;
}

//----- (00016C28) --------------------------------------------------------
signed int __fastcall HwcIdleMgr::CheckIdle(int a1, int a2, int a3)
{
  pthread_mutex_t *v3; // r7@1
  int v4; // r8@1
  int v5; // r11@1
  int v6; // r9@1
  int v7; // r5@2
  int v8; // r10@3
  int i; // r6@3
  int v10; // r1@6
  signed int v11; // r4@8
  HwcConfig *v12; // r0@11
  HwcConfig *v13; // r0@14
  HwcConfig *v14; // r9@14
  int v15; // r0@15
  int v16; // r1@15
  int *v17; // r0@16
  char *v18; // r0@16
  void *v19; // r0@17
  HwcConfig *v20; // r0@18
  HwcConfig *v21; // r5@18
  int v22; // r0@19
  int v23; // r1@19
  int *v24; // r0@20
  char *v25; // r0@20
  int s; // [sp+10h] [bp-68h]@14
  int v28; // [sp+14h] [bp-64h]@14
  int v29; // [sp+18h] [bp-60h]@14
  int (__fastcall *v30)(HwcIdleMgr *, sigval, int); // [sp+1Ch] [bp-5Ch]@14
  int v31; // [sp+20h] [bp-58h]@14

  v3 = (pthread_mutex_t *)(a1 + 4);
  v4 = a1;
  v5 = a2;
  v6 = a3;
  pthread_mutex_lock((pthread_mutex_t *)(a1 + 4));
  if ( !*(_BYTE *)v4 )
    goto LABEL_28;
  *(_BYTE *)v4 = 0;
  v7 = *(_DWORD *)(v6 + 12) & 1;
  if ( v7 )
    goto LABEL_28;
  v8 = v6 + 20;
  for ( i = *(_DWORD *)(*(_DWORD *)(v5 + 8) + 8); ; i = *(_DWORD *)(i + 8) )
  {
    if ( i == *(_DWORD *)(v5 + 8) )
    {
      v11 = 1;
      goto LABEL_11;
    }
    if ( v7 == *(_DWORD *)(v6 + 16) - 1 )
    {
      v11 = 0;
      goto LABEL_11;
    }
    v10 = v8;
    v8 += 112;
    if ( !HwcLayerInfo::IsSame(*(_DWORD *)i, v10) )
      break;
    ++v7;
  }
  v11 = 0;
LABEL_11:
  v12 = (HwcConfig *)(*(_DWORD *)(v6 + 16) - 1);
  if ( (HwcConfig *)v7 != v12 )
    goto LABEL_28;
  if ( v11 )
  {
    if ( HwcConfig::GetDebugLevel(v12) > 2 )
      _android_log_print(3, "hwcomposer", "%s:%d: hwc now in idle", "CheckIdle", 137);
  }
  else
  {
LABEL_28:
    if ( !*(_DWORD *)(v4 + 8) )
    {
      memset(&s, 0, 0x40u);
      v29 = 2;
      v28 = _libc_current_sigrtmin();
      s = v4;
      v30 = HwcIdleMgr::IdleDetectTimeout;
      v31 = 0;
      v13 = (HwcConfig *)timer_create(0, (struct sigevent *)&s, (timer_t *)(v4 + 8));
      v14 = v13;
      if ( (signed int)v13 < 0 )
      {
        v15 = HwcConfig::GetDebugLevel(v13);
        if ( v15 >= 0 )
        {
          v17 = (int *)_errno(v15, v16);
          v18 = strerror(*v17);
          _android_log_print(
            6,
            "hwcomposer",
            "%s:%d: failed to create idle timer [%d], error = %s",
            "CheckIdle",
            121,
            v14,
            v18);
        }
      }
    }
    v19 = *(void **)(v4 + 8);
    if ( v19 )
    {
      s = 0;
      v28 = 0;
      v29 = 0;
      v30 = (int (__fastcall *)(HwcIdleMgr *, sigval, int))100000000;
      v20 = (HwcConfig *)timer_settime(v19, 0, (const struct itimerspec *)&s, 0);
      v21 = v20;
      if ( (signed int)v20 < 0 )
      {
        v22 = HwcConfig::GetDebugLevel(v20);
        if ( v22 >= 0 )
        {
          v24 = (int *)_errno(v22, v23);
          v25 = strerror(*v24);
          _android_log_print(
            6,
            "hwcomposer",
            "%s:%d: failed to set idle timer [%d], error = %s",
            "CheckIdle",
            133,
            v21,
            v25);
        }
      }
      v11 = 0;
    }
    else
    {
      v11 = 0;
    }
  }
  pthread_mutex_unlock(v3);
  return v11;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);

//----- (00016DB4) --------------------------------------------------------
int __fastcall IdlePolicy::Prepare(IdlePolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  HwcCompInfo *v4; // r6@1
  int v5; // r4@1
  int v6; // r3@2
  int v7; // r2@2
  int v8; // r4@5
  unsigned int *v9; // r5@7
  int v10; // r7@7
  unsigned int v11; // r3@9
  void *v12; // r0@12

  v4 = a4;
  v5 = *((_DWORD *)this + 1);
  if ( HwcConfig::GetPolicyMask(this) & v5 )
  {
    v6 = *((_DWORD *)v4 + 4);
    v7 = *(_DWORD *)(v6 + 8);
    if ( v7 != v6 )
    {
      while ( v7 != *((_DWORD *)v4 + 4) )
      {
        *(_BYTE *)(*(_DWORD *)v7 + 144) = 1;
        v7 = *(_DWORD *)(v7 + 8);
      }
      v8 = *(_DWORD *)(v7 + 8);
      while ( v8 != *((_DWORD *)v4 + 4) )
      {
        v9 = *(unsigned int **)v8;
        v10 = *(_DWORD *)(v8 + 8);
        if ( *(_DWORD *)v8 )
        {
          __dmb();
          do
            v11 = __ldrex(v9);
          while ( __strex(v11 - 1, v9) );
          if ( v11 == 1 )
          {
            android::Vector<HwcPolicy *>::do_construct();
            operator delete(v9);
          }
        }
        v12 = (void *)v8;
        v8 = v10;
        operator delete(v12);
      }
      *(_DWORD *)(v8 + 4) = v8;
      *(_DWORD *)(*((_DWORD *)v4 + 4) + 8) = *((_DWORD *)v4 + 4);
    }
  }
  return 0;
}

//----- (00016E20) --------------------------------------------------------
int __fastcall IdlePolicy::IdlePolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DD88;
  return result;
}
// 2DD88: using guessed type void *;

//----- (00016E34) --------------------------------------------------------
int __fastcall BlockRotPolicy::BlockRotPolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DDA0;
  return result;
}
// 2DDA0: using guessed type void *;

//----- (00016E48) --------------------------------------------------------
int __fastcall BlockRotPolicy::Prepare(BlockRotPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  int v4; // r4@1
  HwcConfig *v5; // r5@1
  HwcCompInfo *v6; // r6@1
  int v7; // r4@2
  int v8; // r3@3
  int v9; // r2@3
  int v10; // r9@5
  int v11; // r0@7
  int v12; // r1@7
  ChannelMgr *v13; // r10@7
  int i; // r11@8
  int v16; // r8@10
  int v17; // r1@11
  int v25; // r5@22
  HwcConfig *v26; // r0@30
  int v27; // r7@33
  HwcConfig *v28; // r8@33
  int j; // r5@33
  unsigned int *v30; // r4@35
  unsigned int v31; // r3@39
  int v32; // r0@40
  int v33; // r2@40
  HwcConfig *v34; // r0@40
  int v35; // r4@41
  int v36; // r0@45
  int v37; // r0@45
  unsigned int v38; // r3@47
  int v39; // r11@50
  int v40; // r1@50
  int v41; // r7@50
  unsigned int *v42; // r0@50
  int v43; // r2@52
  HwcMem *v44; // r0@52
  HwcMem *v45; // r11@52
  int v46; // r0@55
  int v47; // r0@55
  int v48; // r7@61
  unsigned int *v49; // r0@61
  int v51; // r3@63
  int v60; // r1@66
  int v61; // r12@69
  int v62; // t1@69
  int v63; // t1@69
  int v64; // r1@69
  int v65; // r2@69
  int v66; // r3@69
  int v67; // r7@69
  int v68; // r2@69
  int v69; // r7@69
  unsigned int *v70; // r0@69
  int v71; // r8@71
  int v72; // r7@71
  unsigned int v73; // r6@79
  int v75; // [sp+10h] [bp-40h]@52
  unsigned int *v76; // [sp+24h] [bp-2Ch]@7

  v4 = *((_DWORD *)this + 1);
  v5 = (HwcConfig *)a2;
  v6 = a4;
  if ( HwcConfig::GetPolicyMask(this) & v4 )
  {
    v7 = *((_BYTE *)v6 + 81);
    if ( !*((_BYTE *)v6 + 81) )
    {
      v8 = *((_DWORD *)v6 + 4);
      v9 = *(_DWORD *)(v8 + 8);
      if ( v9 != v8 )
      {
        if ( *((_DWORD *)v6 + 28) <= 0 )
          v10 = 1;
        else
          v10 = 2;
        v11 = HwcConfig::GetOfflineResouces(v5, v10, v9);
        v12 = *((_DWORD *)v6 + 22);
        v13 = (ChannelMgr *)v11;
        v76 = (unsigned int *)v7;
        if ( v12 )
        {
          for ( i = *(_DWORD *)(*((_DWORD *)v6 + 4) + 8); i != *((_DWORD *)v6 + 4); i = *(_DWORD *)(i + 8) )
          {
            _R7 = *(_DWORD *)i;
            v16 = *(_DWORD *)(*(_DWORD *)i + 124);
            if ( v16 & 2 )
            {
              v17 = *((_DWORD *)v6 + 22);
              if ( v17 == 2 )
                goto LABEL_86;
              if ( v17 == 1 )
              {
                v11 = *(_DWORD *)(_R7 + 16);
                if ( *(_DWORD *)(*(_DWORD *)i + 20) << 29 >= 0 )
                  __asm { VLDRPL          S15, [R7,#0x24] }
                else
                  __asm { VLDRMI          S15, [R7,#0x28] }
                if ( _NF )
                  __asm { VLDRMI          S14, [R7,#0x20] }
                else
                  __asm { VLDRPL          S14, [R7,#0x1C] }
                if ( _NF )
                  __asm { VCVTRMI.S32.F32 S15, S15 }
                else
                  __asm { VCVTRPL.S32.F32 S15, S15 }
                __asm
                {
                  VCVTR.S32.F32   S14, S14
                  VMOV            R3, S15
                  VMOV            R5, S14
                }
                v25 = _R3 - _R5;
                if ( v11 )
                {
                  v11 = sub_11658(v11);
                  if ( v11 )
                  {
                    if ( v25 > 1088 )
                    {
                      v11 = *(_DWORD *)(v11 + 20);
                      if ( v11 == 256 || v11 == 17 || v25 > 1184 )
                      {
LABEL_86:
                        ++v7;
                        *(_DWORD *)(_R7 + 124) = v16 & 0xFFFFFFFD;
                        *(_DWORD *)(*(_DWORD *)i + 124) |= 4u;
                      }
                    }
                  }
                }
              }
            }
          }
          v26 = (HwcConfig *)HwcConfig::GetRotMemNum((HwcConfig *)v11);
          if ( v7 <= (signed int)v26 )
          {
            v27 = 0;
            v28 = 0;
            for ( j = *(_DWORD *)(*((_DWORD *)v6 + 4) + 8); j != *((_DWORD *)v6 + 4); j = *(_DWORD *)(j + 8) )
            {
              v30 = *(unsigned int **)j;
              if ( *(_DWORD *)j )
                sub_115CA(*(unsigned int **)j);
              if ( v76 )
                sub_11752(v76);
              v31 = v30[31];
              v76 = v30;
              if ( v31 & 4 )
              {
                v32 = ChannelMgr::RequestSource(v13, (const HwcLayerInfo *)v30);
                v33 = (int)v76;
                v30[29] = v32;
                v34 = *(HwcConfig **)(v33 + 116);
                if ( !v34 )
                {
                  v35 = v27;
                  if ( HwcConfig::GetDebugLevel(0) > 1 )
                    _android_log_print(
                      4,
                      "hwcomposer",
                      "%s:%d: src_layer[%p] need block rot but get chan failed, allocType[%d], wanted caps: %08x",
                      "Prepare",
                      119,
                      v76[4],
                      v10,
                      v76[31]);
                  goto LABEL_74;
                }
                if ( HwcConfig::GetDebugLevel(v34) > 2 )
                  _android_log_print(
                    3,
                    "hwcomposer",
                    "%s:%d: src_layer[%p] chan[%d] need blockRot.",
                    "Prepare",
                    123,
                    v76[4],
                    *(_DWORD *)(v76[29] + 4));
                ChannelMgr::ReleaseRequestedChannels(v13);
                v35 = operator new(0x18u);
                *(_DWORD *)v35 = 0;
                *(_DWORD *)(v35 + 4) = &off_2DAC8;
                v36 = operator new[](0xCu);
                *(_DWORD *)(v35 + 8) = v36;
                *(_DWORD *)(v36 + 4) = v36;
                *(_DWORD *)(*(_DWORD *)(v35 + 8) + 8) = *(_DWORD *)(v35 + 8);
                *(_DWORD *)(v35 + 12) = &off_2DAD8;
                v37 = operator new[](0xCu);
                *(_DWORD *)(v35 + 16) = v37;
                *(_DWORD *)(v37 + 4) = v37;
                *(_DWORD *)(*(_DWORD *)(v35 + 16) + 8) = *(_DWORD *)(v35 + 16);
                *(_DWORD *)(v35 + 20) = 0;
                sub_115CA((unsigned int *)v35);
                if ( v27 )
                {
                  __dmb();
                  do
                    v38 = __ldrex((unsigned int *)v27);
                  while ( __strex(v38 - 1, (unsigned int *)v27) );
                  if ( v38 == 1 )
                  {
                    android::sp<HwcLayerInfo>::~sp((unsigned int **)(v27 + 20));
                    sub_1268C(v27 + 12);
                    sub_11F00((_DWORD *)(v27 + 4));
                    operator delete((void *)v27);
                  }
                }
                v39 = *(_DWORD *)(v35 + 8);
                v41 = operator new(0xCu);
                v42 = v76;
                *(_DWORD *)v41 = v76;
                if ( v42 )
                  sub_115CA(v42);
                *(_DWORD *)(v41 + 8) = v39;
                v43 = *(_DWORD *)(v39 + 4);
                v75 = (int)v28 + 1;
                *(_DWORD *)(v41 + 4) = v43;
                *(_DWORD *)(*(_DWORD *)(v39 + 4) + 8) = v41;
                *(_DWORD *)(v39 + 4) = v41;
                v44 = (HwcMem *)HwcConfig::GetRotMem(v28, v40, v43, (int)v28 + 1);
                v45 = v44;
                if ( !v44 )
                {
                  if ( HwcConfig::GetDebugLevel(0) >= 0 )
                    _android_log_print(6, "hwcomposer", "%s:%d: rotMem is NULL. Should use GPU", "Prepare", 133);
                  goto LABEL_74;
                }
                v46 = HwcMem::getBuffer(v44);
                v47 = sub_11658(v46);
                if ( !v47 || !*(_DWORD *)(v47 + 116) )
                {
                  if ( HwcConfig::GetDebugLevel((HwcConfig *)v47) > 2 )
                    _android_log_print(
                      3,
                      "hwcomposer",
                      "%s:%d: no continuous memory, block Rot failed, use gpu to compose",
                      "Prepare",
                      140);
                  goto LABEL_74;
                }
                v48 = operator new(0xD0u);
                HwcLayerInfo::HwcLayerInfo(v48, (int)v45);
                sub_115CA((unsigned int *)v48);
                v49 = *(unsigned int **)(v35 + 20);
                if ( v49 )
                  sub_11752(v49);
                _R0 = (int)v76;
                *(_DWORD *)(v35 + 20) = v48;
                *(_DWORD *)(v48 + 124) = *(_DWORD *)(_R0 + 124);
                *(_DWORD *)(*(_DWORD *)(v35 + 20) + 124) &= 0xFFFFFFFB;
                *(_DWORD *)(*(_DWORD *)(v35 + 20) + 24) = *(_DWORD *)(_R0 + 24);
                *(_BYTE *)(*(_DWORD *)(v35 + 20) + 76) = *(_BYTE *)(_R0 + 76);
                *(_DWORD *)(*(_DWORD *)(v35 + 20) + 148) = *(_DWORD *)(_R0 + 148);
                v51 = *(_DWORD *)(_R0 + 20);
                __asm
                {
                  VLDR            S14, [R0,#0x28]
                  VLDR            S15, [R0,#0x20]
                  VLDR            S12, [R0,#0x24]
                  VLDR            S13, [R0,#0x1C]
                }
                if ( _ZF )
                {
                  __asm
                  {
                    VCVTR.S32.F32   S0, S12
                    VCVTR.S32.F32   S1, S13
                    VCVTR.S32.F32   S2, S14
                    VCVTR.S32.F32   S3, S15
                    VMOV            R7, S0
                    VMOV            LR, S1
                    VMOV            R1, S2
                    VMOV            R2, S3
                  }
                  _R8 = _R7 - _LR;
                }
                else
                {
                  __asm
                  {
                    VCVTR.S32.F32   S4, S14
                    VCVTR.S32.F32   S5, S15
                    VCVTR.S32.F32   S6, S12
                    VCVTR.S32.F32   S7, S13
                    VMOV            R3, S4
                    VMOV            R7, S5
                    VMOV            R1, S6
                    VMOV            R2, S7
                  }
                  _R8 = _R3 - _R7;
                }
                _R7 = _R1 - _R2;
                v60 = *(_DWORD *)(sub_11658(*(_DWORD *)(_R0 + 16)) + 20);
                if ( v60 == 4 )
                  v60 = 5;
                if ( !HwcMem::configBuffer(v45, v60, _R8, _R7) )
                  goto LABEL_74;
                __asm
                {
                  VMOV            S8, R8
                  VMOV            S10, R7
                }
                v61 = (int)v76;
                *(_DWORD *)(*(_DWORD *)(v35 + 20) + 28) = 0;
                __asm
                {
                  VCVT.F32.S32    S9, S8
                  VCVT.F32.S32    S11, S10
                }
                *(_DWORD *)(*(_DWORD *)(v35 + 20) + 32) = 0;
                v62 = *(_DWORD *)(v35 + 20);
                __asm { VSTR            S9, [R3,#0x24] }
                v63 = *(_DWORD *)(v35 + 20);
                __asm { VSTR            S11, [R0,#0x28] }
                v64 = *(_DWORD *)(v61 + 48);
                v65 = *(_DWORD *)(v61 + 52);
                v66 = *(_DWORD *)(v61 + 56);
                v67 = *(_DWORD *)(v35 + 20) + 44;
                *(_DWORD *)v67 = *(_DWORD *)(v61 + 44);
                *(_DWORD *)(v67 + 4) = v64;
                *(_DWORD *)(v67 + 8) = v65;
                *(_DWORD *)(v67 + 12) = v66;
                *(_BYTE *)(v61 + 144) = 1;
                v68 = *(_DWORD *)(j + 4);
                v69 = *(_DWORD *)(j + 8);
                *(_DWORD *)(v68 + 8) = v69;
                *(_DWORD *)(v69 + 4) = v68;
                android::sp<HwcLayerInfo>::~sp((unsigned int **)j);
                operator delete((void *)j);
                j = operator new(0xCu);
                v70 = *(unsigned int **)(v35 + 20);
                *(_DWORD *)j = v70;
                if ( v70 )
                  sub_115CA(v70);
                *(_DWORD *)(j + 8) = v69;
                *(_DWORD *)(j + 4) = *(_DWORD *)(v69 + 4);
                *(_DWORD *)(*(_DWORD *)(v69 + 4) + 8) = j;
                *(_DWORD *)(v69 + 4) = j;
                v71 = *((_DWORD *)v6 + 6);
                v72 = operator new(0xCu);
                *(_DWORD *)v72 = v35;
                sub_115CA((unsigned int *)v35);
                *(_DWORD *)(v72 + 8) = v71;
                *(_DWORD *)(v72 + 4) = *(_DWORD *)(v71 + 4);
                *(_DWORD *)(*(_DWORD *)(v71 + 4) + 8) = v72;
                *(_DWORD *)(v71 + 4) = v72;
                v28 = (HwcConfig *)v75;
                v27 = v35;
              }
            }
          }
          else
          {
            if ( HwcConfig::GetDebugLevel(v26) >= 0 )
              _android_log_print(
                6,
                "hwcomposer",
                "%s:%d: Shear mem and rot layer[%d] too much, use gpu compose",
                "Prepare",
                103,
                v7);
            v35 = 0;
LABEL_74:
            v27 = v35;
            if ( v10 == 2 )
              *((_BYTE *)v6 + 108) = 1;
            *((_BYTE *)v6 + 81) = 1;
          }
          if ( v27 )
          {
            __dmb();
            do
              v73 = __ldrex((unsigned int *)v27);
            while ( __strex(v73 - 1, (unsigned int *)v27) );
            if ( v73 == 1 )
            {
              android::sp<HwcLayerInfo>::~sp((unsigned int **)(v27 + 20));
              sub_1268C(v27 + 12);
              sub_11F00((_DWORD *)(v27 + 4));
              operator delete((void *)v27);
            }
          }
        }
        android::sp<HwcLayerInfo>::~sp(&v76);
      }
    }
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 2DAC8: using guessed type void *off_2DAC8;
// 2DAD8: using guessed type void *off_2DAD8;

//----- (00017310) --------------------------------------------------------
int __fastcall sub_17310(int a1)
{
  int v1; // r4@1
  int i; // r0@1
  int v3; // r5@3
  void *v4; // r0@4

  v1 = a1;
  *(_DWORD *)a1 = &off_2DB10;
  for ( i = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 16); i != *(_DWORD *)(v1 + 4); i = v3 )
  {
    v3 = *(_DWORD *)(i + 16);
    operator delete((void *)i);
  }
  *(_DWORD *)(i + 12) = i;
  *(_DWORD *)(*(_DWORD *)(v1 + 4) + 16) = *(_DWORD *)(v1 + 4);
  v4 = *(void **)(v1 + 4);
  if ( v4 )
    operator delete[](v4);
  return v1;
}
// 2DB10: using guessed type void *;

//----- (00017348) --------------------------------------------------------
void *__fastcall sub_17348(int a1)
{
  void *v1; // r4@1

  v1 = (void *)a1;
  sub_17310(a1);
  operator delete(v1);
  return v1;
}

//----- (0001735A) --------------------------------------------------------
_DWORD *__fastcall sub_1735A(_DWORD *a1, int a2, int a3)
{
  _DWORD *v3; // r6@1
  int v4; // r4@1
  int v5; // r5@1
  int v6; // r0@1
  int v7; // r3@1
  int v8; // r1@1
  int v9; // r2@1
  _DWORD *result; // r0@1

  v3 = a1;
  v4 = a2;
  v5 = a3;
  v6 = operator new(0x14u);
  v7 = v6;
  v8 = *(_DWORD *)(v5 + 4);
  v9 = *(_DWORD *)(v5 + 8);
  *(_DWORD *)v6 = *(_DWORD *)v5;
  *(_DWORD *)(v6 + 4) = v8;
  *(_DWORD *)(v6 + 8) = v9;
  *(_DWORD *)(v6 + 16) = *(_DWORD *)v4;
  result = v3;
  *(_DWORD *)(v7 + 12) = *(_DWORD *)(*(_DWORD *)v4 + 12);
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)v4 + 12) + 16) = v7;
  *(_DWORD *)(*(_DWORD *)v4 + 12) = v7;
  *v3 = v7;
  return result;
}

//----- (0001738C) --------------------------------------------------------
int __fastcall HwcBandwidth::HwcBandwidth(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r5@1
  int v5; // r0@1
  int v6; // r1@1
  int v7; // r1@1
  int v8; // r3@1
  int v9; // r0@2

  v3 = a1;
  v4 = a3;
  *(_DWORD *)(a1 + 24) = &off_2DB10;
  v5 = operator new[](0x14u);
  *(_DWORD *)(v3 + 28) = v5;
  *(_DWORD *)(v5 + 12) = v5;
  *(_DWORD *)(*(_DWORD *)(v3 + 28) + 16) = *(_DWORD *)(v3 + 28);
  v7 = *(_DWORD *)(HwcConfig::GetDisplay(0, v6) + 24);
  *(_DWORD *)v3 = v7;
  v8 = *(_DWORD *)(HwcConfig::GetDisplay(0, v7) + 20);
  *(_DWORD *)(v3 + 8) = 0;
  *(_DWORD *)(v3 + 12) = 0;
  *(_DWORD *)(v3 + 4) = v8;
  *(_DWORD *)(v3 + 16) = 0;
  if ( v4 == 3 )
  {
    v9 = 4 * *(_DWORD *)v3;
  }
  else
  {
    if ( v4 != 4 )
    {
      *(_DWORD *)(v3 + 20) = 0;
      return v3;
    }
    v9 = 8 * *(_DWORD *)v3;
  }
  *(_DWORD *)(v3 + 20) = v8 * v9;
  return v3;
}
// 2DB10: using guessed type void *off_2DB10;

//----- (000173E8) --------------------------------------------------------
HwcBandwidth *__fastcall HwcBandwidth::~HwcBandwidth(HwcBandwidth *this)
{
  HwcBandwidth *v1; // r4@1

  v1 = this;
  sub_17310((int)this + 24);
  return v1;
}

//----- (000173F6) --------------------------------------------------------
int __fastcall HwcBandwidth::InitSegment(int a1, int a2, int a3)
{
  int v3; // r4@1
  HwcConfig *v4; // r0@1
  int v5; // r0@1
  int v6; // r0@1
  int result; // r0@1

  v3 = a3;
  *(_DWORD *)a3 = *(_DWORD *)(a2 + 48);
  v4 = *(HwcConfig **)(a2 + 56);
  *(_DWORD *)(a3 + 4) = v4;
  v5 = HwcConfig::GetPlatform(v4);
  v6 = (*(int (**)(void))(*(_DWORD *)v5 + 20))();
  result = (*(int (**)(void))(*(_DWORD *)v6 + 28))();
  *(_DWORD *)(v3 + 8) = result;
  return result;
}

//----- (0001741C) --------------------------------------------------------
HwcConfig *__fastcall HwcBandwidth::ReCalculate(HwcBandwidth *this, const HwcLayerInfo *a2)
{
  HwcBandwidth *v2; // r5@1
  HwcConfig *result; // r0@1
  int v5; // r0@2
  int v6; // r0@2
  HwcConfig *v7; // r4@2
  int v8; // r1@4
  int *v10; // r0@7
  int *v11; // r1@7
  HwcConfig *v12; // r3@12
  HwcConfig *v13; // r3@13
  signed int v17; // r7@14
  int v18; // r2@22
  int v19; // [sp+8h] [bp-40h]@16
  int v20; // [sp+Ch] [bp-3Ch]@7
  HwcConfig *v21; // [sp+10h] [bp-38h]@1
  HwcConfig *v22; // [sp+14h] [bp-34h]@11
  int v23; // [sp+18h] [bp-30h]@1
  HwcConfig *v24; // [sp+1Ch] [bp-2Ch]@7
  HwcConfig *v25; // [sp+20h] [bp-28h]@14
  int v26; // [sp+24h] [bp-24h]@13

  v2 = this;
  result = (HwcConfig *)HwcBandwidth::InitSegment((int)this, (int)a2, (int)&v21);
  __asm
  {
    VLDR            S15, [SP,#0x48+var_30]
    VCMP.F32        S15, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _ZF )
    return result;
  v5 = HwcConfig::GetPlatform(result);
  v6 = (*(int (**)(void))(*(_DWORD *)v5 + 20))();
  v7 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v6 + 32))();
  if ( HwcConfig::GetDebugLevel(v7) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: layer clockRate = %u", "ReCalculate", 62, v7);
  v8 = *((_DWORD *)v2 + 7);
  if ( (unsigned int)v7 > *((_DWORD *)v2 + 4) )
    *((_DWORD *)v2 + 4) = v7;
  _R4 = *(_DWORD *)(v8 + 16);
  if ( _R4 == v8 )
  {
    v20 = *(_DWORD *)(v8 + 16);
    v10 = (int *)&v24;
    v11 = &v20;
    return (HwcConfig *)sub_1735A(v10, (int)v11, (int)&v21);
  }
  while ( _R4 != *((_DWORD *)v2 + 7) )
  {
    result = v21;
    if ( (signed int)v21 >= (signed int)v22 )
      return result;
    v12 = *(HwcConfig **)_R4;
    if ( (signed int)v21 >= *(_DWORD *)_R4 )
    {
      if ( (signed int)v21 > *(_DWORD *)_R4 )
      {
        if ( (signed int)v21 >= *(_DWORD *)(_R4 + 4) )
          goto LABEL_9;
        v25 = v21;
        v24 = v12;
        v18 = *(_DWORD *)(_R4 + 8);
        v19 = _R4;
        v26 = v18;
        sub_1735A(&v20, (int)&v19, (int)&v24);
        *(_DWORD *)_R4 = v21;
      }
    }
    else
    {
      v24 = v21;
      v26 = v23;
      v13 = *(HwcConfig **)_R4;
      _VF = __OFSUB__(v22, *(_DWORD *)_R4);
      _ZF = v22 == *(HwcConfig **)_R4;
      _NF = (signed int)v22 - *(_DWORD *)_R4 < 0;
      if ( (signed int)v22 <= *(_DWORD *)_R4 )
      {
        v25 = v22;
        v17 = 1;
      }
      else
      {
        v17 = 0;
        v25 = *(HwcConfig **)_R4;
        v13 = *(HwcConfig **)_R4;
      }
      v19 = _R4;
      if ( !((unsigned __int8)(_NF ^ _VF) | _ZF) )
        v21 = v13;
      result = (HwcConfig *)sub_1735A(&v20, (int)&v19, (int)&v24);
      if ( v17 )
        return result;
    }
    __asm { VLDR            S13, [SP,#0x48+var_30] }
    if ( (signed int)v22 < *(_DWORD *)(_R4 + 4) )
    {
      v25 = v22;
      v24 = v21;
      __asm { VLDR            S14, [R4,#8] }
      v19 = _R4;
      __asm
      {
        VADD.F32        S2, S14, S13
        VSTR            S2, [SP,#0x48+var_24]
      }
      result = (HwcConfig *)sub_1735A(&v20, (int)&v19, (int)&v24);
      *(_DWORD *)_R4 = v22;
      return result;
    }
    __asm { VLDR            S0, [R4,#8] }
    v21 = *(HwcConfig **)(_R4 + 4);
    __asm
    {
      VADD.F32        S1, S0, S13
      VSTR            S1, [R4,#8]
    }
LABEL_9:
    _R4 = *(_DWORD *)(_R4 + 16);
  }
  v10 = &v20;
  v11 = &v19;
  v19 = _R4;
  return (HwcConfig *)sub_1735A(v10, (int)v11, (int)&v21);
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001755C) --------------------------------------------------------
int __fastcall HwcBandwidth::SetBoostDdrRate(HwcBandwidth *this, int a2, int a3)
{
  int v3; // r0@1
  int v4; // r2@1
  _DWORD *v5; // r0@1
  int v6; // r1@1
  HwcConfig *v7; // r4@1
  int result; // r0@1
  _DWORD *v9; // r0@3
  int v10; // r0@3
  HwcConfig *v11; // r0@3
  int v12; // [sp+8h] [bp-10h]@1

  v12 = a3;
  v3 = HwcConfig::GetPlatform(this);
  v5 = (_DWORD *)(*(int (__cdecl **)(int, _DWORD, int))(*(_DWORD *)v3 + 20))(v3, *(_DWORD *)(*(_DWORD *)v3 + 20), v4);
  v7 = (HwcConfig *)(*(int (__cdecl **)(_DWORD *, int, _DWORD))(*v5 + 44))(v5, v6, *v5);
  result = (int)dword_2F960;
  if ( dword_2F960 < v7 && dword_2F974 < v7 )
  {
    v9 = (_DWORD *)HwcConfig::GetPlatform(dword_2F960);
    v10 = (*(int (__cdecl **)(_DWORD *, _DWORD, _DWORD))(*v9 + 20))(v9, *v9, *(_DWORD *)(*v9 + 20));
    v11 = (HwcConfig *)(*(int (__cdecl **)(int, HwcConfig *, _DWORD))(*(_DWORD *)v10 + 8))(
                         v10,
                         v7,
                         *(_DWORD *)(*(_DWORD *)v10 + 8));
    if ( v11 )
      dword_2F974 = v7;
    result = HwcConfig::GetDebugLevel(v11);
    if ( result > 2 )
      result = _android_log_print(
                 3,
                 "hwcomposer",
                 "%s:%d: start to boost ddr rate to %u MB/s",
                 "SetBoostDdrRate",
                 226,
                 v7,
                 v12);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (000175CC) --------------------------------------------------------
int __fastcall HwcBandwidth::ClearBoostDdrRate(HwcBandwidth *this)
{
  _DWORD *v1; // r0@2
  int v2; // r0@2
  HwcConfig *v3; // r0@2
  int result; // r0@2

  if ( dword_2F974 )
  {
    dword_2F974 = 0;
    v1 = (_DWORD *)HwcConfig::GetPlatform(0);
    v2 = (*(int (__cdecl **)(_DWORD *, _DWORD))(*v1 + 20))(v1, *v1);
    v3 = (HwcConfig *)(*(int (__cdecl **)(int, HwcConfig *))(*(_DWORD *)v2 + 8))(v2, dword_2F960);
    result = HwcConfig::GetDebugLevel(v3);
    if ( result > 2 )
      result = _android_log_print(
                 3,
                 "hwcomposer",
                 "%s:%d: finish boost and set ddr to %u MB/s",
                 "ClearBoostDdrRate",
                 237,
                 dword_2F960);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00017624) --------------------------------------------------------
HwcConfig *__fastcall HwcBandwidth::RequestDdrSatisfy(HwcBandwidth *this, unsigned int a2)
{
  unsigned int v2; // r5@1
  int v3; // r0@1
  int v4; // r0@1
  HwcConfig *v5; // r0@1
  HwcConfig *result; // r0@2
  signed int v7; // r4@3
  int v8; // r0@4
  int v9; // r0@4
  unsigned int v10; // [sp+14h] [bp-14h]@1

  v2 = a2;
  v10 = 0;
  v3 = HwcConfig::GetPlatform(this);
  v4 = (*(int (**)(void))(*(_DWORD *)v3 + 20))();
  v5 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v4 + 8))();
  if ( v5 )
  {
    v7 = 1;
    while ( 1 )
    {
      v8 = HwcConfig::GetPlatform(v5);
      v9 = (*(int (**)(void))(*(_DWORD *)v8 + 20))();
      result = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v9 + 12))();
      if ( !result )
        break;
      if ( v10 >= v2 )
        return result;
      if ( !v7 )
      {
        if ( HwcConfig::GetDebugLevel(result) <= 1 )
          return 0;
        _android_log_print(
          4,
          "hwcomposer",
          "%s:%d: ddr freq[%u] not satisfy request[%u]",
          "RequestDdrSatisfy",
          264,
          v10,
          v2);
        return 0;
      }
      v7 = 0;
      v5 = (HwcConfig *)usleep(0x64u);
    }
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (000176AC) --------------------------------------------------------
int __fastcall HwcBandwidth::Request(int a1)
{
  int v1; // r6@1
  int v2; // r5@1
  int v8; // r0@6
  int v9; // r0@6
  unsigned int v11; // r5@6
  HwcConfig *v12; // r0@6
  unsigned int v13; // r1@8
  int v14; // r0@11
  int v15; // r0@11
  int v16; // r3@17
  HwcConfig *v17; // r0@22
  unsigned int v18; // r5@24
  int v19; // r0@24
  int v20; // r0@24
  HwcConfig *v21; // r0@24
  int result; // r0@27
  unsigned int v23; // r6@28
  HwcConfig *v24; // r5@30
  int v25; // r0@32
  int v26; // r0@32
  unsigned int v27; // [sp+Ch] [bp-1Ch]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 28);
  __asm { VLDR            S16, =0.0 }
  v27 = 0;
  _R3 = *(_DWORD *)(v2 + 16);
  while ( _R3 != v2 )
  {
    __asm { VLDR            S15, [R3,#8] }
    _R3 = *(_DWORD *)(_R3 + 16);
    __asm
    {
      VCMP.F32        S15, S16
      VMRS            APSR_nzcv, FPSCR
    }
    if ( !((unsigned __int8)(_NF ^ _VF) | _ZF) )
      __asm { VMOVGT.F32      S16, S15 }
  }
  v8 = HwcConfig::GetPlatform((HwcConfig *)a1);
  v9 = (*(int (**)(void))(*(_DWORD *)v8 + 20))();
  __asm { VMOV            R1, S16 }
  v11 = (*(int (**)(void))(*(_DWORD *)v9 + 36))();
  v12 = (HwcConfig *)unk_2F960;
  if ( v11 <= unk_2F960 && unk_2F970 <= 1u )
  {
    if ( v11 >= unk_2F960 )
    {
      v16 = 0;
      unk_2F968 = 0;
    }
    else
    {
      v16 = unk_2F970 + 1;
      if ( v11 > unk_2F968 )
        unk_2F968 = v11;
    }
    unk_2F970 = v16;
  }
  else
  {
    v13 = unk_2F968;
    unk_2F968 = 0;
    unk_2F970 = 0;
    if ( v13 < v11 )
      v13 = v11;
    unk_2F960 = v13;
    if ( v11 > (unsigned int)dword_2F974 )
    {
      v12 = HwcBandwidth::RequestDdrSatisfy((HwcBandwidth *)v1, v13);
      if ( !v12 )
        return 0;
    }
    else
    {
      v14 = HwcConfig::GetPlatform(dword_2F974);
      v15 = (*(int (**)(void))(*(_DWORD *)v14 + 20))();
      if ( !(*(int (**)(void))(*(_DWORD *)v15 + 12))() )
        return 0;
      v12 = (HwcConfig *)v27;
      if ( v27 < v11 )
        return 0;
    }
  }
  v17 = (HwcConfig *)HwcConfig::GetDebugLevel(v12);
  if ( (signed int)v17 > 2 )
    v17 = (HwcConfig *)_android_log_print(
                         3,
                         "hwcomposer",
                         "%s:%d: clock rate is %u Hz",
                         "Request",
                         182,
                         *(_DWORD *)(v1 + 16));
  v18 = *(_DWORD *)(v1 + 16);
  v19 = HwcConfig::GetPlatform(v17);
  v20 = (*(int (**)(void))(*(_DWORD *)v19 + 20))();
  v21 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v20 + 40))();
  if ( v18 > (unsigned int)v21 )
  {
    if ( HwcConfig::GetDebugLevel(v21) > 0 )
      _android_log_print(
        5,
        "hwcomposer",
        "%s:%d: clock rate request %d can not be satisfied",
        "Request",
        185,
        *(_DWORD *)(v1 + 16));
    return 0;
  }
  v23 = *(_DWORD *)(v1 + 16);
  if ( v23 <= (unsigned int)HwcBandwidth::m_permanetData && unk_2F96C <= 1u )
  {
    if ( v23 >= (unsigned int)HwcBandwidth::m_permanetData )
    {
      unk_2F964 = 0;
      unk_2F96C = 0;
    }
    else
    {
      ++unk_2F96C;
      if ( v23 >= unk_2F964 )
        unk_2F964 = v23;
    }
    result = 1;
  }
  else
  {
    v24 = (HwcConfig *)unk_2F964;
    if ( unk_2F964 < v23 )
      v24 = (HwcConfig *)v23;
    v25 = HwcConfig::GetPlatform(HwcBandwidth::m_permanetData);
    v26 = (*(int (**)(void))(*(_DWORD *)v25 + 20))();
    result = (*(int (**)(void))(*(_DWORD *)v26 + 24))();
    if ( !result )
      return 0;
    HwcBandwidth::m_permanetData = v24;
    unk_2F964 = 0;
    unk_2F96C = 0;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00017830) --------------------------------------------------------
void __fastcall HwcBandwidth::ReleaseRequest(HwcBandwidth *this)
{
  unk_2F960 = 0;
  unk_2F968 = 0;
  unk_2F970 = 0;
  HwcBandwidth::m_permanetData = 0;
  unk_2F964 = 0;
  unk_2F96C = 0;
  unk_2F974 = 0;
}

//----- (0001784C) --------------------------------------------------------
void __fastcall HwcBandwidth::SetIdleDdrRate(HwcBandwidth *this)
{
  HwcBandwidth *v1; // r5@1
  int v2; // r0@1
  int v3; // r0@1
  int v4; // r0@2
  int v5; // r0@2
  HwcConfig *v6; // r0@2
  int v7; // r0@2
  int v8; // r0@2

  v1 = this;
  v2 = HwcConfig::GetPlatform(this);
  v3 = (*(int (**)(void))(*(_DWORD *)v2 + 20))();
  if ( (unsigned int)(*(int (**)(void))(*(_DWORD *)v3 + 48))() < unk_2F960 )
  {
    v4 = HwcConfig::GetPlatform((HwcConfig *)&HwcBandwidth::m_permanetData);
    v5 = (*(int (**)(void))(*(_DWORD *)v4 + 20))();
    v6 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v5 + 8))();
    v7 = HwcConfig::GetPlatform(v6);
    v8 = (*(int (**)(void))(*(_DWORD *)v7 + 20))();
    (*(void (**)(void))(*(_DWORD *)v8 + 24))();
    j_j_j__ZN12HwcBandwidth14ReleaseRequestEv(v1);
  }
}

//----- (000178A4) --------------------------------------------------------
void __fastcall HwcBandwidth::SetBlankDdrRate(HwcBandwidth *this)
{
  HwcBandwidth *v1; // r4@1
  int v2; // r0@1
  int v3; // r0@1
  HwcConfig *v4; // r0@1
  int v5; // r0@1
  int v6; // r0@1

  v1 = this;
  v2 = HwcConfig::GetPlatform(this);
  v3 = (*(int (**)(void))(*(_DWORD *)v2 + 20))();
  v4 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v3 + 52))();
  v5 = HwcConfig::GetPlatform(v4);
  v6 = (*(int (**)(void))(*(_DWORD *)v5 + 20))();
  (*(void (**)(void))(*(_DWORD *)v6 + 8))();
  j_j_j__ZN12HwcBandwidth14ReleaseRequestEv(v1);
}

//----- (000178D8) --------------------------------------------------------
int __fastcall HwcBandwidth::UpdateDelayedDdrRequest(int result, int a2, int a3, int a4)
{
  HwcConfig *v4; // r2@7
  int v5; // [sp+Ch] [bp-Ch]@1

  v5 = a4;
  if ( dword_2F968 )
  {
    if ( unk_2F970 > 1u )
    {
      if ( !HwcBandwidth::RequestDdrSatisfy((HwcBandwidth *)result, dword_2F968) && HwcConfig::GetDebugLevel(0) > 0 )
        _android_log_print(
          5,
          "hwcomposer",
          "%s:%d: Update ddr from %d to %d failed",
          "UpdateDelayedDdrRequest",
          309,
          dword_2F960,
          dword_2F968,
          v5);
      v4 = (HwcConfig *)dword_2F968;
      result = 0;
      dword_2F968 = 0;
      unk_2F970 = 0;
      dword_2F960 = v4;
    }
    else
    {
      ++unk_2F970;
    }
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00017940) --------------------------------------------------------
int __fastcall HwcBandwidth::SetIdleBoostDdrRate(HwcBandwidth *this)
{
  int v1; // r0@1
  int v2; // r0@1
  HwcConfig *v3; // r0@1
  int v4; // r0@1
  int v5; // r0@1

  v1 = HwcConfig::GetPlatform(this);
  v2 = (*(int (**)(void))(*(_DWORD *)v1 + 20))();
  v3 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v2 + 56))();
  v4 = HwcConfig::GetPlatform(v3);
  v5 = (*(int (**)(void))(*(_DWORD *)v4 + 20))();
  return (*(int (**)(void))(*(_DWORD *)v5 + 8))();
}

//----- (0001796C) --------------------------------------------------------
int __fastcall sub_1796C(int result, int a2)
{
  int v2; // r3@1
  int v3; // r6@1
  HwcConfig *v4; // r0@2
  const char *v5; // r0@7
  int v6; // r4@7
  HwcConfig *v7; // r0@25
  HwcConfig *v8; // r0@25
  const void *v9; // r8@27
  HwcConfig *v10; // r0@28
  FILE *v11; // r6@30
  HwcConfig *v12; // r0@33
  char s; // [sp+1Ch] [bp-9Ch]@25
  int v14; // [sp+9Ch] [bp-1Ch]@1

  v2 = result;
  v3 = a2;
  v14 = _stack_chk_guard;
  if ( !a2 )
    goto LABEL_40;
  v4 = *(HwcConfig **)(a2 + 20);
  if ( v4 == (HwcConfig *)5 )
  {
    v6 = 4 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92);
    v5 = "BGRA";
    goto LABEL_25;
  }
  if ( (signed int)v4 > 5 )
  {
    if ( v4 == (HwcConfig *)20 )
    {
      v5 = "YUYV";
      v6 = 2 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92);
      goto LABEL_25;
    }
    if ( (signed int)v4 > 20 )
    {
      if ( v4 == (HwcConfig *)256 )
      {
        v6 = 3 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92) / 2;
        v5 = "NV12";
        goto LABEL_25;
      }
      if ( v4 == (HwcConfig *)260 )
      {
        v5 = "UYVY";
        v6 = 2 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92);
        goto LABEL_25;
      }
    }
    else if ( v4 == (HwcConfig *)17 )
    {
      v6 = 3 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92) / 2;
      v5 = "NV21";
      goto LABEL_25;
    }
    goto LABEL_23;
  }
  if ( v4 == (HwcConfig *)2 )
  {
    v5 = "RGBX";
    v6 = 4 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92);
    goto LABEL_25;
  }
  if ( (signed int)v4 > 2 )
  {
    if ( v4 == (HwcConfig *)3 )
    {
      v6 = 3 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92);
      v5 = "RGB888";
      goto LABEL_25;
    }
    if ( v4 == (HwcConfig *)4 )
    {
      v5 = "RGB565";
      v6 = 2 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92);
      goto LABEL_25;
    }
LABEL_23:
    result = HwcConfig::GetDebugLevel(v4);
    if ( result > 0 )
      result = _android_log_print(
                 5,
                 "hwcomposer",
                 "%s:%d: Unsupported format %d",
                 "dumpRawLayer",
                 242,
                 *(_DWORD *)(v3 + 20));
    goto LABEL_40;
  }
  if ( v4 != (HwcConfig *)1 )
    goto LABEL_23;
  v5 = "RGBA";
  v6 = 4 * *(_DWORD *)(a2 + 156) * *(_DWORD *)(a2 + 92);
LABEL_25:
  v7 = (HwcConfig *)snprintf(
                      &s,
                      0x80u,
                      "/data/hwcdump/%s_l%d_h%p_%dx%d_%s.bin",
                      v2,
                      0,
                      a2,
                      *(_DWORD *)(a2 + 156),
                      *(_DWORD *)(a2 + 92),
                      v5);
  v8 = (HwcConfig *)HwcConfig::GetDebugLevel(v7);
  if ( (signed int)v8 > 2 )
    v8 = (HwcConfig *)_android_log_print(3, "hwcomposer", "%s:%d: Writing %s ...", "dumpRawLayer", 256, &s);
  v9 = *(const void **)(v3 + 48);
  if ( v9 )
  {
    v11 = fopen(&s, "wb");
    if ( v11 )
    {
      v12 = (HwcConfig *)fwrite(v9, 1u, v6, v11);
      if ( v12 == (HwcConfig *)v6 )
      {
        result = fclose(v11);
        goto LABEL_40;
      }
      if ( HwcConfig::GetDebugLevel(v12) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: Error: Can not write file", "writeRawInfoToFile", 183);
      v10 = (HwcConfig *)fclose(v11);
    }
    else
    {
      v10 = (HwcConfig *)HwcConfig::GetDebugLevel(0);
      if ( (signed int)v10 >= 0 )
        v10 = (HwcConfig *)_android_log_print(
                             6,
                             "hwcomposer",
                             "%s:%d: Can not open %s for write.",
                             "writeRawInfoToFile",
                             177,
                             &s);
    }
  }
  else
  {
    v10 = (HwcConfig *)HwcConfig::GetDebugLevel(v8);
    if ( (signed int)v10 >= 0 )
      v10 = (HwcConfig *)_android_log_print(6, "hwcomposer", "%s:%d: data is NULL.", "writeRawInfoToFile", 170);
  }
  result = HwcConfig::GetDebugLevel(v10);
  if ( result >= 0 )
    result = _android_log_print(6, "hwcomposer", "%s:%d: Writing %s file error!", "dumpRawLayer", 259, &s);
LABEL_40:
  if ( v14 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00017C04) --------------------------------------------------------
int __fastcall sub_17C04(int a1, int a2, int a3, int a4)
{
  int v4; // r4@1
  int v5; // r10@1
  int v6; // r7@1
  int v7; // r6@1
  int v8; // r5@1
  char v9; // r3@6
  __int16 v10; // r3@7
  char v11; // lr@7
  int v12; // r12@7
  int v14; // [sp+4h] [bp-24h]@3

  v4 = 0;
  v5 = a4;
  v6 = a1;
  v7 = a2;
  v8 = a2;
  while ( v4 < v5 )
  {
    v14 = 0;
    switch ( a3 )
    {
      case 1:
      case 2:
        v14 = *(_DWORD *)v8;
        break;
      case 5:
        LOBYTE(v14) = *(_BYTE *)(v8 + 2);
        BYTE1(v14) = *(_BYTE *)(v8 + 1);
        BYTE2(v14) = *(_BYTE *)(a2 + 4 * v4);
        BYTE3(v14) = *(_BYTE *)(v8 + 3);
        break;
      case 3:
        LOBYTE(v14) = *(_BYTE *)v7;
        BYTE1(v14) = *(_BYTE *)(v7 + 1);
        v9 = *(_BYTE *)(v7 + 2);
        goto LABEL_8;
      case 4:
        v10 = *(_WORD *)(a2 + 2 * v4);
        v11 = (unsigned __int16)(v10 & 0xF800) >> 8;
        v12 = v10 & 0x7E0;
        v9 = 8 * v10;
        LOBYTE(v14) = v11;
        BYTE1(v14) = v12 >> 3;
LABEL_8:
        BYTE2(v14) = v9;
        BYTE3(v14) = -1;
        break;
      default:
        break;
    }
    v6 += 4;
    v8 += 4;
    v7 += 3;
    *(_BYTE *)(v6 - 2) = v14;
    *(_BYTE *)(v6 - 3) = BYTE1(v14);
    *(_BYTE *)(a1 + 4 * v4++) = BYTE2(v14);
    *(_BYTE *)(v6 - 1) = BYTE3(v14);
  }
  return 0;
}

//----- (00017CBA) --------------------------------------------------------
int __fastcall sub_17CBA(tinyxml2::XMLElement *a1, const char *a2, int a3)
{
  int v3; // r4@1
  int *v4; // r0@1

  v3 = a3;
  v4 = tinyxml2::XMLElement::FindOrCreateAttribute(a1, a2);
  return j_j_j__ZN8tinyxml212XMLAttribute12SetAttributeEi((tinyxml2::XMLAttribute *)v4, v3);
}

//----- (00017CCC) --------------------------------------------------------
int __fastcall sub_17CCC(tinyxml2::XMLElement *a1, int *a2)
{
  int *v2; // r4@1
  tinyxml2::XMLElement *v3; // r5@1

  v2 = a2;
  v3 = a1;
  sub_17CBA(a1, "left", *a2);
  sub_17CBA(v3, "right", v2[2]);
  sub_17CBA(v3, "top", v2[1]);
  return sub_17CBA(v3, "bottom", v2[3]);
}

//----- (00017D14) --------------------------------------------------------
int __fastcall sub_17D14(tinyxml2::XMLElement *a1, const char *a2, unsigned int a3)
{
  unsigned int v3; // r4@1
  int *v4; // r0@1

  v3 = a3;
  v4 = tinyxml2::XMLElement::FindOrCreateAttribute(a1, a2);
  return j_j_j__ZN8tinyxml212XMLAttribute12SetAttributeEj((tinyxml2::XMLAttribute *)v4, v3);
}

//----- (00017D28) --------------------------------------------------------
signed int __fastcall WriteBitmap(const char *a1, const void *a2, unsigned int a3, unsigned int a4, unsigned int a5, int a6)
{
  const char *v6; // r11@1
  int v7; // r6@1
  unsigned int v8; // r7@1
  size_t v9; // r8@4
  int v10; // r4@4
  HwcConfig *v11; // r0@4
  int v12; // r5@4
  HwcConfig *v13; // r0@7
  const char *v14; // r2@9
  const char *v15; // r3@9
  const char *v16; // r1@9
  HwcConfig *v17; // r0@10
  void *v18; // r9@14
  char *v20; // r10@18
  int v21; // r0@20
  int v22; // r1@20
  int v23; // r2@20
  HwcConfig *v24; // r0@26
  signed int v25; // [sp+0h] [bp-70h]@9
  char *v26; // [sp+Ch] [bp-64h]@1
  __int16 buf; // [sp+10h] [bp-60h]@4
  unsigned int v28; // [sp+12h] [bp-5Eh]@4
  __int16 v29; // [sp+16h] [bp-5Ah]@4
  __int16 v30; // [sp+18h] [bp-58h]@4
  __int16 v31; // [sp+1Ah] [bp-56h]@4
  __int16 v32; // [sp+1Ch] [bp-54h]@4
  int s; // [sp+20h] [bp-50h]@4
  int v34; // [sp+24h] [bp-4Ch]@4
  unsigned int v35; // [sp+28h] [bp-48h]@4
  __int16 v36; // [sp+2Ch] [bp-44h]@4
  __int16 v37; // [sp+2Eh] [bp-42h]@4
  unsigned int v38; // [sp+34h] [bp-3Ch]@4

  v6 = a1;
  v7 = a3;
  v8 = a4;
  v26 = (char *)a2;
  if ( !a2 || !a3 || !a4 )
    return -22;
  v9 = 4 * a3;
  v10 = 0;
  buf = 19778;
  v31 = 54;
  v29 = 0;
  v30 = 0;
  v32 = 0;
  v28 = a4 * 4 * a3 + 54;
  memset(&s, 0, 0x28u);
  v38 = v8 * v9;
  s = 40;
  v34 = v7;
  v35 = v8;
  v36 = 1;
  v37 = 32;
  v11 = (HwcConfig *)open(v6, 577, 777);
  v12 = (int)v11;
  if ( (signed int)v11 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v11) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: open file %s failed\n", "WriteBitmap", 313, v6);
    return -13;
  }
  v13 = (HwcConfig *)write((int)v11, &buf, 0xEu);
  if ( v13 != (HwcConfig *)14 )
  {
    if ( HwcConfig::GetDebugLevel(v13) >= 0 )
    {
      v25 = 319;
      v14 = "%s:%d: write file header failed\n";
      v15 = "WriteBitmap";
      v16 = "hwcomposer";
LABEL_13:
      _android_log_print(6, v16, v14, v15, v25);
      goto LABEL_30;
    }
    goto LABEL_30;
  }
  v17 = (HwcConfig *)write(v12, &s, 0x28u);
  if ( v17 != (HwcConfig *)40 )
  {
    if ( HwcConfig::GetDebugLevel(v17) >= 0 )
    {
      v25 = 326;
      v16 = "hwcomposer";
      v14 = "%s:%d: write info header failed\n";
      v15 = "WriteBitmap";
      goto LABEL_13;
    }
LABEL_30:
    close(v12);
    return -13;
  }
  v18 = malloc(v9);
  if ( v18 )
  {
    v20 = &v26[a5 * (v8 - 1)];
    while ( 1 )
    {
      switch ( a6 )
      {
        case 1:
          v21 = (int)v18;
          v22 = (int)v20;
          v23 = 1;
          goto LABEL_25;
        case 5:
          memcpy(v18, v20, v9);
          break;
        case 2:
          v21 = (int)v18;
          v22 = (int)v20;
          v23 = 2;
          goto LABEL_25;
        case 3:
          v21 = (int)v18;
          v22 = (int)v20;
          v23 = 3;
          goto LABEL_25;
        case 4:
          v21 = (int)v18;
          v22 = (int)v20;
          v23 = 4;
LABEL_25:
          sub_17C04(v21, v22, v23, v7);
          break;
        default:
          break;
      }
      v24 = (HwcConfig *)write(v12, v18, v9);
      if ( v24 != (HwcConfig *)v9 )
        break;
      ++v10;
      v20 -= a5;
      if ( v10 == v8 )
      {
        free(v18);
        close(v12);
        return 0;
      }
    }
    if ( HwcConfig::GetDebugLevel(v24) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: write line data failed\n", "WriteBitmap", 380);
    free(v18);
    goto LABEL_30;
  }
  if ( HwcConfig::GetDebugLevel(0) >= 0 )
    _android_log_print(6, "hwcomposer", "%s:%d: alloc line buffer failed\n", "WriteBitmap", 335);
  close(v12);
  return -12;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00017F5C) --------------------------------------------------------
signed int __fastcall HwcDumpBmp(int a1, int a2)
{
  int v2; // r7@1
  int v3; // r4@1
  signed int result; // r0@1
  struct timeval v5; // [sp+Ch] [bp-12Ch]@1
  int v6; // [sp+10h] [bp-128h]@1
  struct timezone tz; // [sp+14h] [bp-124h]@1
  char s; // [sp+1Ch] [bp-11Ch]@1
  int v9; // [sp+11Ch] [bp-1Ch]@1

  v2 = a1;
  v9 = _stack_chk_guard;
  v3 = sub_11658(a2);
  gettimeofday(&v5, &tz);
  snprintf(&s, 0x100u, "/data/hwcdump/%s_%ld_%ld.bmp", v2, v5.tv_sec, v6);
  result = WriteBitmap(
             &s,
             *(const void **)(v3 + 48),
             *(_DWORD *)(v3 + 88),
             *(_DWORD *)(v3 + 92),
             *(_DWORD *)(v3 + 32),
             *(_DWORD *)(v3 + 20));
  if ( v9 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00017FC4) --------------------------------------------------------
void HwcTimeConsumeBegin(void)
{
  dword_2F978 = 0;
}
// 2F978: using guessed type int dword_2F978;

//----- (00017FD4) --------------------------------------------------------
int __fastcall HwcTimeConsumeLog(const char *a1, int a2, int a3)
{
  const char *v3; // r5@1
  int result; // r0@1
  int v5; // r3@3
  const char *v6; // [sp+0h] [bp-18h]@1
  int v7; // [sp+4h] [bp-14h]@1
  int v8; // [sp+8h] [bp-10h]@1

  v6 = a1;
  v7 = a2;
  v8 = a3;
  v3 = a1;
  result = HwcConfig::IsTimeConsumingLogEnabled((HwcConfig *)a1);
  if ( result )
  {
    if ( dword_2F978 <= 31 )
    {
      v5 = 3 * dword_2F978;
      dword_2FA80[v5] = (int)v3;
      gettimeofday((struct timeval *)&dword_2FA80[v5 + 1], (__timezone_ptr_t)&v6);
      result = dword_2F978++ + 1;
    }
  }
  return result;
}
// 2F978: using guessed type int dword_2F978;
// 2FA80: using guessed type int dword_2FA80[];

//----- (00018010) --------------------------------------------------------
int HwcTimeConsumeOutput(void)
{
  HwcConfig *v0; // r0@1
  int result; // r0@1
  signed int v2; // r5@2
  char *v3; // r9@2
  int *v4; // r4@2
  int v5; // r0@5
  int v6; // [sp+Ch] [bp-10h]@2
  int v7; // [sp+1Ch] [bp+0h]@1
  int v8; // [sp+41Ch] [bp+400h]@1

  v8 = _stack_chk_guard;
  v0 = (HwcConfig *)memset(&v7, 0, 0x400u);
  result = HwcConfig::IsTimeConsumingLogEnabled(v0);
  if ( result )
  {
    v2 = 1024;
    v3 = (char *)&v7;
    v6 = 0;
    v4 = &dword_2FA84;
    while ( v6 < dword_2F978 )
    {
      v5 = v6 ? snprintf(
                  v3,
                  v2,
                  ">%u>%s",
                  v4[1] - *(int *)((char *)v4 + 0xFFFFFFF8) + 1000000 * (*v4 - *(int *)((char *)v4 + 0xFFFFFFF4)),
                  *(int *)((char *)v4 + 0xFFFFFFFC)) : snprintf(v3, v2, "%s", dword_2FA80[0]);
      if ( v5 < 0 )
        break;
      v4 += 3;
      if ( v5 >= v2 )
        break;
      v3 += v5;
      v2 -= v5;
      ++v6;
    }
    result = _android_log_print(4, "hwcomposer", "%s", &v7);
  }
  if ( v8 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// 2F978: using guessed type int dword_2F978;
// 2FA80: using guessed type int dword_2FA80[];
// 2FA84: using guessed type int dword_2FA84;

//----- (00018110) --------------------------------------------------------
signed int HwcCreateDumpDir(void)
{
  signed int result; // r0@2
  HwcConfig *v1; // r0@3
  char v2; // [sp+8h] [bp-70h]@1

  if ( stat("/data/hwcdump", (struct stat *)&v2) && (v1 = (HwcConfig *)mkdir("/data/hwcdump", 0x1EDu)) != 0 )
  {
    if ( HwcConfig::GetDebugLevel(v1) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: mkdir failed", "HwcCreateDumpDir", 722);
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001816C) --------------------------------------------------------
int __fastcall HwcDumpBin(const HwcLayerInfo *a1, const char *a2)
{
  const HwcLayerInfo *v2; // r6@1
  const char *v3; // r7@1
  int result; // r0@1
  int v5; // r6@4
  int v6; // r2@4
  char v7; // [sp+Ch] [bp-11Ch]@4
  int v8; // [sp+10Ch] [bp-1Ch]@1

  v2 = a1;
  v3 = a2;
  v8 = _stack_chk_guard;
  result = HwcConfig::IsHwcDumpEnabled(a1);
  if ( result )
  {
    if ( v2 )
    {
      result = HwcCreateDumpDir();
      if ( result )
      {
        v5 = sub_11658(*((_DWORD *)v2 + 4));
        v6 = dword_2FC00++;
        snprintf(&v7, 0x40u, "%s_f%d", v3, v6);
        result = sub_1796C((int)&v7, v5);
      }
    }
  }
  if ( v8 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// 2FC00: using guessed type int dword_2FC00;

//----- (000181D8) --------------------------------------------------------
int __fastcall HwcDumpHandle(HwcConfig *a1, int a2)
{
  int v2; // r6@1
  int v3; // r7@1
  int result; // r0@1
  int v5; // r6@4
  int v6; // r2@4
  char v7; // [sp+Ch] [bp-11Ch]@4
  int v8; // [sp+10Ch] [bp-1Ch]@1

  v2 = (int)a1;
  v3 = a2;
  v8 = _stack_chk_guard;
  result = HwcConfig::IsHwcDumpEnabled(a1);
  if ( result )
  {
    if ( v2 )
    {
      result = HwcCreateDumpDir();
      if ( result )
      {
        v5 = sub_11658(v2);
        v6 = dword_2FC04++;
        snprintf(&v7, 0x40u, "%s_f%d", v3, v6);
        result = sub_1796C((int)&v7, v5);
      }
    }
  }
  if ( v8 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// 2FC04: using guessed type int dword_2FC04;

//----- (00018244) --------------------------------------------------------
tinyxml2::XMLDocument *__fastcall HwcDumpDisplayContents(HwcConfig *a1, int a2, int a3)
{
  HwcConfig *v3; // r7@1
  int v4; // r6@1
  tinyxml2::XMLDocument *result; // r0@1
  FILE *v6; // r4@3
  struct tm *v7; // r9@8
  int *v8; // r0@8
  const char *v9; // r1@10
  const char *v10; // r2@10
  const char *v11; // r3@10
  int v12; // r6@11
  int *v13; // r0@11
  unsigned int v14; // r7@12
  int v15; // t1@17
  int *v16; // r0@18
  int *v17; // r0@22
  tinyxml2::XMLElement *v18; // r4@22
  int *v20; // r0@25
  tinyxml2::XMLElement *v25; // r10@25
  int *v26; // r0@25
  int v28; // r1@25
  int *v29; // r0@25
  int v31; // r1@25
  int *v32; // r0@25
  int v34; // r1@25
  int *v36; // r0@25
  int v38; // r1@25
  int *v39; // r10@25
  unsigned int v40; // r10@25
  int *v41; // r9@25
  int *v42; // ST54_4@27
  int *v43; // r1@27
  int *v44; // r8@29
  int v45; // r0@29
  int v46; // r10@29
  int v47; // r5@29
  tinyxml2::XMLElement *v48; // r0@30
  int v49; // r0@30
  char *v50; // r0@30
  FILE *v51; // r0@30
  FILE *v52; // r9@30
  HwcConfig *v53; // r0@33
  int *v54; // r10@37
  int *v55; // r0@38
  tinyxml2::XMLDocument *v56; // r0@41
  signed int v57; // [sp+0h] [bp-508h]@10
  int i; // [sp+18h] [bp-4F0h]@11
  tinyxml2::XMLElement *v59; // [sp+1Ch] [bp-4ECh]@18
  int v60; // [sp+20h] [bp-4E8h]@25
  tinyxml2::XMLNode *v61; // [sp+24h] [bp-4E4h]@8
  int v62; // [sp+28h] [bp-4E0h]@1
  time_t timer; // [sp+58h] [bp-4B0h]@8
  char *endptr; // [sp+5Ch] [bp-4ACh]@5
  char v65; // [sp+60h] [bp-4A8h]@8
  int v66; // [sp+64h] [bp-4A4h]@8
  struct timezone tz; // [sp+68h] [bp-4A0h]@8
  char v68; // [sp+70h] [bp-498h]@8
  char v69; // [sp+1D0h] [bp-338h]@8
  char s; // [sp+2D0h] [bp-238h]@4
  char v71; // [sp+3D0h] [bp-138h]@30
  int v72; // [sp+4D4h] [bp-34h]@1

  v3 = a1;
  v4 = a3;
  v62 = a2;
  v72 = _stack_chk_guard;
  result = (tinyxml2::XMLDocument *)HwcConfig::IsHwcDumpEnabled(a1);
  if ( !result )
    goto LABEL_44;
  result = (tinyxml2::XMLDocument *)HwcCreateDumpDir();
  if ( !result )
    goto LABEL_44;
  v6 = popen("du -m /data/hwcdump", "r");
  if ( v6 )
  {
    if ( fgets(&s, 256, v6) && (signed int)strtoul(&s, &endptr, 10) >= 300 )
    {
      result = (tinyxml2::XMLDocument *)pclose(v6);
      goto LABEL_44;
    }
    pclose(v6);
  }
  time(&timer);
  v7 = localtime(&timer);
  gettimeofday((struct timeval *)&v65, &tz);
  snprintf(
    (char *)&binNamePrefix,
    0x100u,
    "%s_%02d%02d-%02d%02d%02d-%ld",
    v3,
    v7->tm_mon + 1,
    v7->tm_mday,
    v7->tm_hour,
    v7->tm_min,
    v7->tm_sec,
    v66);
  snprintf(&v69, 0x100u, "/data/hwcdump/%s.xml", &binNamePrefix);
  tinyxml2::XMLDocument::XMLDocument((tinyxml2::XMLDocument *)&v68, 1);
  v8 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "file");
  v61 = (tinyxml2::XMLNode *)v8;
  if ( !v8 )
  {
    if ( HwcConfig::GetDebugLevel(0) < 0 )
      goto LABEL_42;
    v57 = 571;
    v9 = "hwcomposer";
    v10 = "%s:%d: Failed to create file xml element\n";
    v11 = "HwcDumpDisplayContents";
    goto LABEL_21;
  }
  v12 = v4 - 4;
  v13 = tinyxml2::XMLElement::FindOrCreateAttribute((tinyxml2::XMLElement *)v8, "filename");
  tinyxml2::XMLAttribute::SetAttribute((tinyxml2::XMLAttribute *)v13, &v69);
  tinyxml2::XMLNode::InsertEndChild((tinyxml2::XMLNode *)&v68, v61);
  for ( i = 0; ; ++i )
  {
    if ( i == v62 )
    {
      tinyxml2::XMLDocument::SaveFile((tinyxml2::XMLDocument *)&v68, &v69);
      v56 = (tinyxml2::XMLDocument *)&v68;
      goto LABEL_43;
    }
    v15 = *(_DWORD *)(v12 + 4);
    v12 += 4;
    if ( v15 )
      break;
LABEL_15:
    ;
  }
  v16 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "display");
  v59 = (tinyxml2::XMLElement *)v16;
  if ( !v16 )
  {
    if ( HwcConfig::GetDebugLevel(0) < 0 )
      goto LABEL_42;
    v57 = 584;
    v9 = "hwcomposer";
    v10 = "%s:%d: Failed to create display xml element\n";
    v11 = "HwcDumpDisplayContents";
LABEL_21:
    _android_log_print(6, v9, v10, v11, v57);
    goto LABEL_42;
  }
  v14 = 0;
  sub_17D14((tinyxml2::XMLElement *)v16, "flags", *(_DWORD *)(*(_DWORD *)v12 + 12));
  sub_17D14(v59, "numHwLayers", *(_DWORD *)(*(_DWORD *)v12 + 16));
  while ( 1 )
  {
    if ( v14 >= *(_DWORD *)(*(_DWORD *)v12 + 16) )
    {
      tinyxml2::XMLNode::InsertEndChild(v61, v59);
      goto LABEL_15;
    }
    v17 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "layer");
    v18 = (tinyxml2::XMLElement *)v17;
    if ( !v17 )
      break;
    v60 = *(_DWORD *)v12;
    _R5 = *(_DWORD *)v12 + 112 * v14;
    sub_17CBA((tinyxml2::XMLElement *)v17, "connectedApi", *(_DWORD *)(_R5 + 112));
    sub_17CBA(v18, "compositionType", *(_DWORD *)(_R5 + 20));
    sub_17D14(v18, "hints", *(_DWORD *)(_R5 + 24));
    sub_17D14(v18, "flags", *(_DWORD *)(_R5 + 28));
    sub_17D14(v18, "transform", *(_DWORD *)(_R5 + 36));
    sub_17CBA(v18, "blending", *(_DWORD *)(_R5 + 40));
    sub_17D14(v18, "planeAlpha", *(_BYTE *)(_R5 + 92));
    v20 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "sourceCropf");
    __asm { VLDR            S16, [R5,#0x2C] }
    v25 = (tinyxml2::XMLElement *)v20;
    __asm { VCVT.F64.F32    D8, S16 }
    v26 = tinyxml2::XMLElement::FindOrCreateAttribute((tinyxml2::XMLElement *)v20, "left");
    __asm { VMOV            R2, R3, D8 }
    tinyxml2::XMLAttribute::SetAttribute((tinyxml2::XMLAttribute *)v26, v28, _R2);
    __asm
    {
      VLDR            S0, [R5,#0x34]
      VCVT.F64.F32    D8, S0
    }
    v29 = tinyxml2::XMLElement::FindOrCreateAttribute(v25, "right");
    __asm { VMOV            R2, R3, D8 }
    tinyxml2::XMLAttribute::SetAttribute((tinyxml2::XMLAttribute *)v29, v31, _R2);
    __asm
    {
      VLDR            S1, [R5,#0x30]
      VCVT.F64.F32    D8, S1
    }
    v32 = tinyxml2::XMLElement::FindOrCreateAttribute(v25, "top");
    __asm { VMOV            R2, R3, D8 }
    tinyxml2::XMLAttribute::SetAttribute((tinyxml2::XMLAttribute *)v32, v34, _R2);
    _R11 = _R5 + 40;
    __asm
    {
      VLDR            S2, [R11,#0x10]
      VCVT.F64.F32    D8, S2
    }
    v36 = tinyxml2::XMLElement::FindOrCreateAttribute(v25, "bottom");
    __asm { VMOV            R2, R3, D8 }
    tinyxml2::XMLAttribute::SetAttribute((tinyxml2::XMLAttribute *)v36, v38, _R2);
    tinyxml2::XMLNode::InsertEndChild(v18, v25);
    v39 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "displayFrame");
    sub_17CCC((tinyxml2::XMLElement *)v39, (int *)(v60 + 112 * v14 + 60));
    tinyxml2::XMLNode::InsertEndChild(v18, (tinyxml2::XMLNode *)v39);
    v40 = 0;
    v41 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "visibleRegionScreen");
    sub_17D14((tinyxml2::XMLElement *)v41, "numRects", *(_DWORD *)(_R5 + 76));
    while ( v40 < *(_DWORD *)(_R5 + 76) )
    {
      v42 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "rect");
      v43 = (int *)(*(_DWORD *)(_R5 + 80) + 16 * v40++);
      sub_17CCC((tinyxml2::XMLElement *)v42, v43);
      tinyxml2::XMLNode::InsertEndChild((tinyxml2::XMLNode *)v41, (tinyxml2::XMLNode *)v42);
    }
    tinyxml2::XMLNode::InsertEndChild(v18, (tinyxml2::XMLNode *)v41);
    if ( sub_11658(*(_DWORD *)(_R5 + 32)) )
    {
      v44 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "handle");
      v45 = sub_11658(*(_DWORD *)(_R5 + 32));
      v46 = *(_DWORD *)(_R5 + 20);
      v47 = v45;
      sub_17CBA((tinyxml2::XMLElement *)v44, "width", *(_DWORD *)(v45 + 88));
      sub_17CBA((tinyxml2::XMLElement *)v44, "height", *(_DWORD *)(v47 + 92));
      sub_17CBA((tinyxml2::XMLElement *)v44, "format", *(_DWORD *)(v47 + 20));
      sub_17CBA((tinyxml2::XMLElement *)v44, "usage", *(_DWORD *)(v47 + 136));
      sub_17CBA((tinyxml2::XMLElement *)v44, "k3_alloc_type", *(_DWORD *)(v47 + 132));
      sub_17CBA((tinyxml2::XMLElement *)v44, "byte_stride", *(_DWORD *)(v47 + 32));
      sub_17CBA((tinyxml2::XMLElement *)v44, "uStride", *(_DWORD *)(v47 + 100));
      sub_17CBA((tinyxml2::XMLElement *)v44, "vStride", *(_DWORD *)(v47 + 104));
      sub_17CBA((tinyxml2::XMLElement *)v44, "uOffset", *(_DWORD *)(v47 + 108));
      sub_17CBA((tinyxml2::XMLElement *)v44, "vOffset", *(_DWORD *)(v47 + 112));
      if ( v46 != 3 )
      {
        v48 = (tinyxml2::XMLElement *)tinyxml2::XMLNode::FirstChildElement((tinyxml2::XMLNode *)&v68, "file");
        v49 = tinyxml2::XMLElement::Attribute(v48, "filename", 0);
        _strcpy_chk(&v71, v49, 260);
        v50 = strstr(&v71, ".xml");
        sprintf(v50, "_%zu.bin", v14);
        v51 = fopen(&v71, "w+");
        v52 = v51;
        if ( v51 )
        {
          v53 = (HwcConfig *)fwrite(*(const void **)(v47 + 48), 1u, *(_DWORD *)(v47 + 40), v51);
          if ( v53 != *(HwcConfig **)(v47 + 40) && HwcConfig::GetDebugLevel(v53) >= 0 )
            _android_log_print(6, "hwcomposer", "%s:%d: fail to write layer data to %s", "DumpHandle", 472, &v71);
          fclose(v52);
        }
        else if ( HwcConfig::GetDebugLevel(0) >= 0 )
        {
          _android_log_print(6, "hwcomposer", "%s:%d: fail to create binary file to dump layer data", "DumpHandle", 468);
        }
      }
      tinyxml2::XMLNode::InsertEndChild(v18, (tinyxml2::XMLNode *)v44);
      v54 = tinyxml2::XMLDocument::NewElement((tinyxml2::XMLDocument *)&v68, "binFile");
      if ( *(_DWORD *)(v60 + 112 * v14 + 20) != 3 )
      {
        _sprintf_chk(&v71, 0, 260, "%s_%zu.bin", &binNamePrefix, v14);
        v55 = tinyxml2::XMLElement::FindOrCreateAttribute((tinyxml2::XMLElement *)v54, "bin");
        tinyxml2::XMLAttribute::SetAttribute((tinyxml2::XMLAttribute *)v55, &v71);
      }
      tinyxml2::XMLNode::InsertEndChild(v18, (tinyxml2::XMLNode *)v54);
    }
    ++v14;
    tinyxml2::XMLNode::InsertEndChild(v59, v18);
  }
  if ( HwcConfig::GetDebugLevel(0) >= 0 )
  {
    v57 = 593;
    v9 = "hwcomposer";
    v10 = "%s:%d: Failed to create layer xml element\n";
    v11 = "HwcDumpDisplayContents";
    goto LABEL_21;
  }
LABEL_42:
  v56 = (tinyxml2::XMLDocument *)&v68;
LABEL_43:
  result = tinyxml2::XMLDocument::~XMLDocument(v56);
LABEL_44:
  if ( v72 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E9E8: using guessed type int __fastcall _strcpy_chk(_DWORD, _DWORD, _DWORD);
// EA0C: using guessed type int _sprintf_chk(_DWORD, _DWORD, _DWORD, const char *, ...);

//----- (000188A0) --------------------------------------------------------
_DWORD *__fastcall HwcPureLayerChecker::HwcPureLayerChecker(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int v2; // r0@1
  int v3; // r0@1
  _DWORD *result; // r0@1

  v1 = a1;
  *a1 = &off_2DB20;
  v2 = operator new[](0x1Cu);
  v1[1] = v2;
  *(_DWORD *)(v2 + 20) = v2;
  *(_DWORD *)(v1[1] + 24) = v1[1];
  v1[2] = &off_2DB20;
  v3 = operator new[](0x1Cu);
  v1[3] = v3;
  *(_DWORD *)(v3 + 20) = v3;
  result = v1;
  *(_DWORD *)(v1[3] + 24) = v1[3];
  return result;
}
// 2DB20: using guessed type void *;

//----- (000188D8) --------------------------------------------------------
int __fastcall sub_188D8(int a1)
{
  int v1; // r5@1
  int i; // r4@1
  int result; // r0@2
  int v4; // r6@3

  v1 = a1;
  for ( i = *(_DWORD *)(*(_DWORD *)a1 + 24); ; i = v4 )
  {
    result = *(_DWORD *)v1;
    if ( i == *(_DWORD *)v1 )
      break;
    v4 = *(_DWORD *)(i + 24);
    android::sp<HwcLayerInfo>::~sp((unsigned int **)(i + 16));
    operator delete((void *)i);
  }
  *(_DWORD *)(i + 20) = i;
  *(_DWORD *)(*(_DWORD *)v1 + 24) = *(_DWORD *)v1;
  return result;
}

//----- (00018904) --------------------------------------------------------
_DWORD *__fastcall sub_18904(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  void *v2; // r0@1

  v1 = a1;
  *a1 = &off_2DB20;
  sub_188D8((int)(a1 + 1));
  v2 = (void *)v1[1];
  if ( v2 )
    operator delete[](v2);
  return v1;
}
// 2DB20: using guessed type void *off_2DB20;

//----- (00018928) --------------------------------------------------------
void *__fastcall sub_18928(_DWORD *a1)
{
  void *v1; // r4@1

  v1 = a1;
  sub_18904(a1);
  operator delete(v1);
  return v1;
}

//----- (0001893A) --------------------------------------------------------
HwcPureLayerChecker *__fastcall HwcPureLayerChecker::~HwcPureLayerChecker(HwcPureLayerChecker *this)
{
  HwcPureLayerChecker *v1; // r4@1

  v1 = this;
  sub_18904((_DWORD *)this + 2);
  sub_18904(v1);
  return v1;
}

//----- (0001894E) --------------------------------------------------------
int __fastcall HwcPureLayerChecker::Clear(HwcPureLayerChecker *this)
{
  HwcPureLayerChecker *v1; // r4@1

  v1 = this;
  sub_188D8((int)this + 4);
  return sub_188D8((int)v1 + 12);
}

//----- (00018964) --------------------------------------------------------
_DWORD *__fastcall sub_18964(_DWORD *a1, int a2)
{
  _DWORD *v2; // r6@1
  int v3; // r4@1
  int v4; // r0@1
  int v5; // r5@1

  v2 = a1;
  v3 = *(_DWORD *)(*(_DWORD *)a2 + 24);
  v4 = *(_DWORD *)(*(_DWORD *)a2 + 20);
  *(_DWORD *)(v4 + 24) = v3;
  *(_DWORD *)(v3 + 20) = v4;
  v5 = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 )
  {
    android::sp<HwcLayerInfo>::~sp((unsigned int **)(v5 + 16));
    operator delete((void *)v5);
  }
  *v2 = v3;
  return v2;
}

//----- (0001898A) --------------------------------------------------------
int __fastcall sub_1898A(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r5@1
  int result; // r0@1
  unsigned int *v5; // r4@1
  unsigned int v6; // r2@3

  v2 = a2;
  v3 = *(_DWORD *)(a1 + 4);
  result = operator new(0x1Cu);
  *(_DWORD *)result = *(_DWORD *)v2;
  *(_DWORD *)(result + 4) = *(_DWORD *)(v2 + 4);
  *(_DWORD *)(result + 8) = *(_DWORD *)(v2 + 8);
  *(_DWORD *)(result + 12) = *(_DWORD *)(v2 + 12);
  v5 = *(unsigned int **)(v2 + 16);
  *(_DWORD *)(result + 16) = v5;
  if ( v5 )
  {
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 + 1, v5) );
  }
  *(_DWORD *)(result + 24) = v3;
  *(_DWORD *)(result + 20) = *(_DWORD *)(v3 + 20);
  *(_DWORD *)(*(_DWORD *)(v3 + 20) + 24) = result;
  *(_DWORD *)(v3 + 20) = result;
  return result;
}

//----- (000189CC) --------------------------------------------------------
unsigned int **__fastcall HwcPureLayerChecker::UpdateLayerInfo(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r8@1
  unsigned int **result; // r0@2
  int v5; // r6@3
  int v6; // r2@5
  int v7; // r6@5
  signed int v8; // r3@6
  int v9; // r0@9
  signed int v10; // r5@9
  unsigned __int8 v11; // cf@10
  int v12; // r7@12
  int i; // r6@12
  HwcConfig *v14; // r0@13
  int j; // r6@15
  int v16; // r7@17
  int k; // r6@20
  int v18; // r7@22
  signed int v19; // r9@26
  int v20; // [sp+8h] [bp-228h]@30
  char v21; // [sp+Ch] [bp-224h]@31
  char s; // [sp+10h] [bp-220h]@4

  v2 = a1;
  v3 = a2;
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24) != *(_DWORD *)(a1 + 4)
    || (result = *(unsigned int ***)(a1 + 12), (unsigned int **)result[6] != result) )
  {
    v5 = 0;
    do
      *((_DWORD *)&s + v5++) = 0;
    while ( v5 != 128 );
    v6 = *(_DWORD *)(a2 + 4);
    v7 = *(_DWORD *)(v6 + 8);
    if ( v7 == v6 )
      goto LABEL_39;
    v8 = 0;
    do
    {
      v7 = *(_DWORD *)(v7 + 8);
      ++v8;
    }
    while ( v7 != v6 );
    if ( v8 <= 128 )
    {
      v12 = 0;
      memset(&s, 0, 0x200u);
      for ( i = *(_DWORD *)(v7 + 8); ; i = *(_DWORD *)(i + 8) )
      {
        v14 = *(HwcConfig **)(v3 + 4);
        if ( (HwcConfig *)i == v14 )
          break;
        android::sp<HwcLayerInfo>::operator=((unsigned int **)(&s + v12), (unsigned int **)i);
        v12 += 4;
      }
      for ( j = *(_DWORD *)(*(_DWORD *)(v2 + 12) + 24); j != *(_DWORD *)(v2 + 12); j = *(_DWORD *)(j + 24) )
      {
        v16 = *(_DWORD *)j;
        if ( *(_DWORD *)j <= 0x7Fu && *((_DWORD *)&s + v16) )
        {
          v14 = (HwcConfig *)android::sp<HwcLayerInfo>::operator=((unsigned int **)(j + 16), (unsigned int **)&s + v16);
        }
        else
        {
          if ( HwcConfig::GetDebugLevel(v14) > 0 )
            _android_log_print(5, "hwcomposer", "%s:%d: invalid pure layer index: %d", "UpdateLayerInfo", 168, v16, v20);
          v20 = j;
          v14 = (HwcConfig *)sub_18964(&v21, (int)&v20);
          j = *(_DWORD *)(*(_DWORD *)&v21 + 20);
        }
      }
      for ( k = *(_DWORD *)(*(_DWORD *)(v2 + 4) + 24); k != *(_DWORD *)(v2 + 4); k = *(_DWORD *)(k + 24) )
      {
        v18 = *(_DWORD *)k;
        if ( *(_DWORD *)k <= 0x7Fu && (v14 = (HwcConfig *)*((_DWORD *)&s + v18)) != 0 )
        {
          v14 = (HwcConfig *)android::sp<HwcLayerInfo>::operator=((unsigned int **)(k + 16), (unsigned int **)&s + v18);
        }
        else
        {
          if ( HwcConfig::GetDebugLevel(v14) > 0 )
            _android_log_print(
              5,
              "hwcomposer",
              "%s:%d: invalid candidate layer index: %d",
              "UpdateLayerInfo",
              181,
              v18,
              v20);
          v20 = k;
          v14 = (HwcConfig *)sub_18964(&v21, (int)&v20);
          k = *(_DWORD *)(*(_DWORD *)&v21 + 20);
        }
      }
      v19 = 127;
      do
      {
        result = android::sp<HwcLayerInfo>::~sp((unsigned int **)&s + v19);
        v11 = __CFADD__(v19--, -1);
      }
      while ( v11 );
    }
    else
    {
LABEL_39:
      sub_188D8(v2 + 4);
      v9 = v2 + 12;
      v10 = 127;
      sub_188D8(v9);
      do
      {
        result = android::sp<HwcLayerInfo>::~sp((unsigned int **)&s + v10);
        v11 = __CFADD__(v10--, -1);
      }
      while ( v11 );
    }
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00018B58) --------------------------------------------------------
signed int __fastcall HwcPureLayerChecker::Check(int a1, int a2, int a3)
{
  int v3; // r6@1
  int v4; // r7@1
  int v5; // r3@5
  int v6; // r4@5
  int v7; // r7@6
  int v8; // r0@6
  int v9; // r4@11
  int v10; // r0@12
  int v11; // r8@12
  int v12; // r0@12
  int v13; // r5@12
  int v14; // r1@14
  int v15; // r0@14
  int v16; // r0@20
  int v17; // r11@20
  int i; // r8@20
  int v19; // r0@22
  signed int v20; // r1@33
  char v22; // [sp+12h] [bp-46h]@35
  char v23; // [sp+13h] [bp-45h]@35
  int v24; // [sp+14h] [bp-44h]@39
  int v25; // [sp+18h] [bp-40h]@20
  int v26; // [sp+1Ch] [bp-3Ch]@42
  int v27; // [sp+20h] [bp-38h]@44
  int v28; // [sp+24h] [bp-34h]@44
  int v29; // [sp+2Ch] [bp-2Ch]@44

  v3 = a1;
  v4 = a2;
  if ( !a2 || !a3 || *(_DWORD *)(a3 + 12) & 1 )
  {
    sub_188D8(a1 + 4);
LABEL_10:
    sub_188D8(v3 + 12);
    return 0;
  }
  v5 = *(_DWORD *)(a1 + 12);
  v6 = *(_DWORD *)(v5 + 24);
  if ( v6 != v5 )
  {
    while ( 1 )
    {
      v7 = *(_DWORD *)(v6 + 16);
      v8 = *(_DWORD *)(v7 + 196);
      if ( v8 )
      {
        if ( *(_DWORD *)(v7 + 16) != *(_DWORD *)(v8 + 12) )
          break;
      }
      v6 = *(_DWORD *)(v6 + 24);
      if ( v6 == v5 )
        return 1;
    }
    if ( HwcConfig::GetDebugLevel((HwcConfig *)v8) > 1 )
      _android_log_print(4, "hwcomposer", "%s:%d: pure layer%d has changed its buffer", "Check", 49, *(_DWORD *)v6);
    goto LABEL_10;
  }
  v9 = *(_BYTE *)(a2 + 76);
  if ( !*(_BYTE *)(a2 + 76) )
    goto LABEL_18;
  v10 = HwcConfig::GetPlatform((HwcConfig *)a1);
  v11 = (*(int (**)(void))(*(_DWORD *)v10 + 12))();
  v12 = *(_DWORD *)(v3 + 4);
  v13 = *(_DWORD *)(v12 + 24);
  if ( v13 == v12 )
    goto LABEL_48;
  while ( v13 != *(_DWORD *)(v3 + 4) )
  {
    v14 = *(_DWORD *)(v13 + 16);
    v15 = *(_DWORD *)(v14 + 196);
    if ( v15 && *(_DWORD *)(v14 + 16) != *(_DWORD *)(v15 + 12) )
      goto LABEL_49;
    v20 = *(_DWORD *)(v13 + 8);
    if ( v20 <= 1 )
    {
      *(_DWORD *)(v13 + 8) = v20 + 1;
      goto LABEL_41;
    }
    if ( (*(int (__fastcall **)(int, _DWORD, char *, char *))(*(_DWORD *)v11 + 32))(
           v11,
           *(_DWORD *)(v13 + 4),
           &v22,
           &v23)
      || !v22
      || !v23 )
    {
LABEL_49:
      v25 = v13;
      sub_18964(&v26, (int)&v25);
      v13 = *(_DWORD *)(v26 + 20);
    }
    else
    {
      if ( HwcConfig::GetDebugLevel(0) > 1 )
        _android_log_print(4, "hwcomposer", "%s:%d: layer%d has pure color 0x%08x", "Check", 85, *(_DWORD *)v13, v24);
      *(_DWORD *)(v13 + 12) = v24;
      sub_1898A(v3 + 8, v13);
    }
LABEL_41:
    v13 = *(_DWORD *)(v13 + 24);
  }
  if ( *(_DWORD *)(*(_DWORD *)(v3 + 12) + 24) == *(_DWORD *)(v3 + 12) )
  {
LABEL_48:
    v9 = 0;
    if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 24) != *(_DWORD *)(v3 + 4) )
      return v9;
    v16 = *(_DWORD *)(v4 + 8);
    v17 = 0;
    v25 = 0;
    for ( i = *(_DWORD *)(v16 + 8); i != *(_DWORD *)(v4 + 8); i = *(_DWORD *)(i + 8) )
    {
      android::sp<HwcLayerInfo>::operator=((unsigned int **)&v25, (unsigned int **)i);
      v19 = *(_DWORD *)(v25 + 196);
      if ( (!v19 || *(_DWORD *)(v25 + 16) == *(_DWORD *)(v19 + 12))
        && *(_BYTE *)(v4 + 76)
        && !*(_BYTE *)(v25 + 145)
        && !(*(_DWORD *)(v25 + 12) & 0x100) )
      {
        v29 = 0;
        v26 = v17;
        v28 = 1;
        v27 = v9;
        android::sp<HwcLayerInfo>::operator=((unsigned int **)&v29, (unsigned int **)&v25);
        sub_1898A(v3, (int)&v26);
        android::sp<HwcLayerInfo>::~sp((unsigned int **)&v29);
      }
      if ( !*(_BYTE *)(v25 + 145) )
        ++v9;
      ++v17;
    }
    android::sp<HwcLayerInfo>::~sp((unsigned int **)&v25);
    return 0;
  }
LABEL_18:
  sub_188D8(v3 + 4);
  return v9;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00018D50) --------------------------------------------------------
int __fastcall PureLayerPolicy::PureLayerPolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2DDB8;
  return result;
}
// 2DDB8: using guessed type void *;

//----- (00018D64) --------------------------------------------------------
unsigned int __fastcall PureLayerPolicy::IsAlphaLayer(int a1, unsigned int *a2)
{
  unsigned int result; // r0@1
  int v3; // r2@8

  result = *a2;
  if ( *a2 )
  {
    result = *(_DWORD *)(result + 16);
    if ( result )
    {
      if ( *(_DWORD *)result == 12
        && *(_DWORD *)(result + 8) == 48
        && *(_DWORD *)(result + 4) == 1
        && *(_DWORD *)(result + 16) == 51647890 )
      {
        v3 = *(_DWORD *)(result + 20);
        result = v3 & 0xFFFFFFFB;
        if ( (v3 & 0xFFFFFFFB) != 1 )
          result = v3 - 12 + ((unsigned int)(v3 - 12) <= 0) - (v3 - 12);
      }
      else
      {
        result = 0;
      }
    }
  }
  return result;
}

//----- (00018DA4) --------------------------------------------------------
void __fastcall PureLayerPolicy::removePureLayer(HwcConfig *a1, int a2, HwcConfig **a3)
{
  int v3; // r3@3
  unsigned int **i; // r4@3
  HwcConfig *v5; // r0@5
  unsigned int *v6; // r3@8
  unsigned int *v7; // r2@8
  int v8; // [sp+4h] [bp-Ch]@1

  v8 = a2;
  if ( a2 || *a3 )
  {
    v3 = *(_DWORD *)(a2 + 16);
    for ( i = *(unsigned int ***)(v3 + 8); i != (unsigned int **)v3; i = (unsigned int **)i[2] )
    {
      v5 = *a3;
      if ( (HwcConfig *)*i == *a3 )
      {
        *((_BYTE *)*i + 144) = 1;
        *((_BYTE *)*i + 145) = 1;
        if ( HwcConfig::GetDebugLevel(v5) > 2 )
          _android_log_print(3, "hwcomposer", "%s:%d: index=%d", "removePureLayer", 59, (*i)[37]);
        v6 = i[2];
        v7 = i[1];
        v7[2] = (unsigned int)v6;
        v6[1] = (unsigned int)v7;
        android::sp<HwcLayerInfo>::~sp(i);
        j_operator delete(i);
        return;
      }
    }
  }
  else if ( HwcConfig::GetDebugLevel(a1) >= 0 )
  {
    _android_log_print(6, "hwcomposer", "%s:%d: Invalid Para", "removePureLayer", 50, v8);
  }
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00018E4C) --------------------------------------------------------
int __fastcall PureLayerPolicy::Prepare(PureLayerPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  HwcConfig *v4; // r6@1
  int v5; // r5@1
  HwcConfig *v6; // r4@1
  HwcCompInfo *v7; // r8@1
  int v8; // r1@1
  HwcDisplay *v9; // r0@2
  int v10; // r1@2
  int v11; // r0@2
  int v12; // r2@2
  int v13; // r7@2
  int v14; // r4@2
  unsigned int *v15; // r2@5
  unsigned int v16; // r3@7
  unsigned int v17; // r9@8
  unsigned int *v18; // r0@9
  unsigned int v19; // r2@11
  unsigned int *v21; // [sp+4h] [bp-24h]@1
  const HwcCompInfo *v22; // [sp+8h] [bp-20h]@1

  v21 = (unsigned int *)a2;
  v22 = a3;
  v4 = this;
  v5 = *((_DWORD *)this + 1);
  v6 = (HwcConfig *)a2;
  v7 = a4;
  if ( HwcConfig::GetPolicyMask(this) & v5 )
  {
    v9 = (HwcDisplay *)HwcConfig::GetDisplay(v6, v8);
    v11 = HwcDisplay::GetPureLayers(v9, v10);
    v12 = *(_DWORD *)(v11 + 4);
    v13 = v11;
    v14 = *(_DWORD *)(v12 + 24);
    if ( v14 != v12 )
    {
      while ( v14 != *(_DWORD *)(v13 + 4) )
      {
        if ( !*(_DWORD *)(v14 + 12) )
        {
          v15 = *(unsigned int **)(v14 + 16);
          v21 = v15;
          if ( v15 )
          {
            __dmb();
            do
              v16 = __ldrex(v15);
            while ( __strex(v16 + 1, v15) );
          }
          v17 = PureLayerPolicy::IsAlphaLayer((int)v4, (unsigned int *)&v21);
          android::sp<HwcLayerInfo>::~sp(&v21);
          if ( v17 )
          {
            v18 = *(unsigned int **)(v14 + 16);
            v21 = v18;
            if ( v18 )
            {
              __dmb();
              do
                v19 = __ldrex(v18);
              while ( __strex(v19 + 1, v18) );
            }
            PureLayerPolicy::removePureLayer(v4, (int)v7, (HwcConfig **)&v21);
            android::sp<HwcLayerInfo>::~sp(&v21);
          }
        }
        v14 = *(_DWORD *)(v14 + 24);
      }
    }
  }
  return 0;
}

//----- (00018EE4) --------------------------------------------------------
signed int __fastcall Hi62xxRot::request(Hi62xxRot *this, const HwcLayerInfo *a2, int a3)
{
  CapaProvider *v4; // r7@1
  int v5; // r8@1
  int v6; // r0@1
  int v12; // r3@11
  int v13; // r0@12
  bool v15; // nf@14
  int v17; // r6@17
  signed int result; // r0@20

  _R4 = a2;
  v4 = this;
  v5 = a3;
  v6 = sub_11658(*((_DWORD *)a2 + 4));
  if ( *((_DWORD *)_R4 + 31) & 4 )
  {
    result = 0;
  }
  else
  {
    if ( *((_DWORD *)_R4 + 5) << 29 >= 0 )
      __asm { VLDRPL          S15, [R4,#0x24] }
    else
      __asm { VLDRMI          S15, [R4,#0x28] }
    if ( _NF )
      __asm { VLDRMI          S14, [R4,#0x20] }
    else
      __asm { VLDRPL          S14, [R4,#0x1C] }
    if ( _NF )
      __asm { VCVTRMI.S32.F32 S15, S15 }
    else
      __asm { VCVTRPL.S32.F32 S15, S15 }
    __asm
    {
      VCVTR.S32.F32   S0, S14
      VMOV            R2, S15
      VMOV            R5, S0
    }
    v12 = _R2 - _R5;
    if ( v6 && ((v13 = *(_DWORD *)(v6 + 20), v13 == 256) || v13 == 17) )
    {
      _VF = __OFSUB__(v12, 1088);
      _ZF = v12 == 1088;
      v15 = v12 - 1088 < 0;
    }
    else
    {
      _VF = __OFSUB__(v12, 1184);
      _ZF = v12 == 1184;
      v15 = v12 - 1184 < 0;
    }
    if ( (unsigned __int8)(v15 ^ _VF) | _ZF )
      v17 = 1;
    else
      v17 = 2;
    if ( v17 > Hi62xxRot::mMemValid - Hi62xxRot::mMemRequested || (result = CapaProvider::request(v4, _R4, v5)) != 0 )
      result = -1;
    else
      Hi62xxRot::mMemRequested += v17;
  }
  return result;
}

//----- (00018F8C) --------------------------------------------------------
int __fastcall Hi62xxRot::release(Hi62xxRot *this, const HwcLayerInfo *a2)
{
  CapaProvider *v3; // r5@1
  int result; // r0@1
  int v10; // r3@11
  int v11; // r0@12
  bool v13; // nf@14
  signed int v15; // r1@17

  _R4 = a2;
  v3 = this;
  result = sub_11658(*((_DWORD *)a2 + 4));
  if ( !(*((_DWORD *)_R4 + 31) & 4) )
  {
    if ( *((_DWORD *)_R4 + 5) << 29 >= 0 )
      __asm { VLDRPL          S15, [R4,#0x24] }
    else
      __asm { VLDRMI          S15, [R4,#0x28] }
    if ( _NF )
      __asm { VLDRMI          S14, [R4,#0x20] }
    else
      __asm { VLDRPL          S14, [R4,#0x1C] }
    if ( _NF )
      __asm { VCVTRMI.S32.F32 S15, S15 }
    else
      __asm { VCVTRPL.S32.F32 S15, S15 }
    __asm
    {
      VCVTR.S32.F32   S0, S14
      VMOV            R2, S15
      VMOV            R3, S0
    }
    v10 = _R2 - _R3;
    if ( result && ((v11 = *(_DWORD *)(result + 20), v11 == 256) || v11 == 17) )
    {
      _VF = __OFSUB__(v10, 1088);
      _ZF = v10 == 1088;
      v13 = v10 - 1088 < 0;
    }
    else
    {
      _VF = __OFSUB__(v10, 1184);
      _ZF = v10 == 1184;
      v13 = v10 - 1184 < 0;
    }
    if ( (unsigned __int8)(v13 ^ _VF) | _ZF )
      v15 = 1;
    else
      v15 = 2;
    Hi62xxRot::mMemRequested -= v15;
    result = j_j_j__ZN12CapaProvider7releaseEPK12HwcLayerInfo(v3, _R4);
  }
  return result;
}

//----- (00019008) --------------------------------------------------------
int __fastcall Hi62xxRot::updateSharedMemory(int result, int a2)
{
  Hi62xxRot::mMemValid = result;
  return result;
}

//----- (00019018) --------------------------------------------------------
signed int __fastcall Hi62xxScl3::request(Hi62xxScl3 *this, const HwcLayerInfo *a2, int a3)
{
  int v3; // r3@1
  int v4; // r3@6
  signed int result; // r0@7

  v3 = *((_DWORD *)a2 + 4);
  if ( v3
    && *(_DWORD *)v3 == 12
    && *(_DWORD *)(v3 + 8) == 48
    && *(_DWORD *)(v3 + 4) == 1
    && *(_DWORD *)(v3 + 16) == 51647890
    && (v4 = *(_DWORD *)(v3 + 20), (unsigned int)(v4 - 1) <= 0xB)
    && (1 << (v4 - 1)) & 0x811 )
  {
    result = -1;
  }
  else
  {
    result = j_j_j__ZN12CapaProvider7requestEPK12HwcLayerInfob(this, a2, a3);
  }
  return result;
}

//----- (00019060) --------------------------------------------------------
signed int __fastcall Hi62xxScl2::request(Hi62xxScl2 *this, const HwcLayerInfo *_R1, int a3)
{
  int v15; // r12@2
  const char *v16; // r2@11
  const char *v17; // r3@11
  const char *v18; // r1@11
  signed int v20; // [sp+0h] [bp-38h]@11

  __asm
  {
    VLDR            S15, [R1,#0x24]
    VLDR            S1, [R1,#0x1C]
    VLDR            S3, [R1,#0x28]
    VLDR            S14, [R1,#0x20]
    VCVTR.S32.F32   S0, S15
    VMOV.F32        S15, #1.0
    VCVTR.S32.F32   S2, S1
    VCVTR.S32.F32   S4, S3
    VCVTR.S32.F32   S5, S14
    VMOV            R4, S0
    VMOV            R3, S2
    VMOV            R5, S4
    VMOV            R6, S5
  }
  _R4 = _R4 - _R3;
  _R3 = _R5 - _R6;
  _R5 = *((_DWORD *)_R1 + 13) - *((_DWORD *)_R1 + 11);
  __asm { VMOV            S6, R5 }
  _R6 = *((_DWORD *)_R1 + 14) - *((_DWORD *)_R1 + 12);
  __asm
  {
    VMOV            S11, R6
    VCVT.F32.S32    S16, S6
  }
  if ( *((_DWORD *)_R1 + 5) << 29 < 0 )
  {
    v15 = _R4;
    _R4 = _R3;
    _R3 = v15;
  }
  __asm
  {
    VMOV            S7, R4
    VCVT.F32.S32    S12, S11
    VMOV            S9, R3
    VCVT.F32.S32    S8, S7
    VCVT.F32.S32    S10, S9
    VDIV.F32        S17, S8, S16
    VDIV.F32        S13, S10, S12
    VCMPE.F32       S17, S13
    VMRS            APSR_nzcv, FPSCR
  }
  if ( (unsigned __int8)(_NF ^ _VF) | _ZF )
    __asm { VMOVLE.F32      S17, S13 }
  __asm
  {
    VCMPE.F32       S17, S15
    VMRS            APSR_nzcv, FPSCR
  }
  if ( (unsigned __int8)(_NF ^ _VF) | _ZF )
    return j_j_j__ZN12CapaProvider7requestEPK12HwcLayerInfob(this, _R1, a3);
  __asm
  {
    VMOV.F32        S0, #2.5
    VCMPE.F32       S17, S0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( !_NF )
  {
    if ( _R4 > 640 && _R5 > 640 )
    {
      if ( HwcConfig::GetDebugLevel(this) > 2 )
      {
        __asm { VCVT.F64.F32    D16, S17 }
        v20 = 51;
        v18 = "hwcomposer";
        v16 = "%s:%d: steps6 scl%f srcWidth%d dstWidth%d can not use scl2";
        v17 = "request";
        __asm { VSTR            D16, [SP,#0x38+var_30] }
        goto LABEL_16;
      }
      return -1;
    }
    return j_j_j__ZN12CapaProvider7requestEPK12HwcLayerInfob(this, _R1, a3);
  }
  if ( _R4 <= 1280 || _R5 <= 1280 )
    return j_j_j__ZN12CapaProvider7requestEPK12HwcLayerInfob(this, _R1, a3);
  if ( HwcConfig::GetDebugLevel(this) > 2 )
  {
    __asm { VCVT.F64.F32    D17, S17 }
    v20 = 45;
    v16 = "%s:%d: steps4 scl%f srcWidth%d dstWidth%d can not use scl2";
    v17 = "request";
    __asm { VSTR            D17, [SP,#0x38+var_30] }
    v18 = "hwcomposer";
LABEL_16:
    _android_log_print(3, v18, v16, v17, v20);
  }
  return -1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (000191A8) --------------------------------------------------------
int __fastcall sub_191A8(int a1)
{
  return *(_DWORD *)(a1 + 4);
}

//----- (000191AC) --------------------------------------------------------
int __fastcall sub_191AC(int a1)
{
  return *(_DWORD *)(a1 + 8);
}

//----- (000191B0) --------------------------------------------------------
int __fastcall sub_191B0(int a1)
{
  return *(_DWORD *)(a1 + 12);
}

//----- (000191B4) --------------------------------------------------------
int __fastcall sub_191B4(int a1)
{
  return *(_DWORD *)(a1 + 28);
}

//----- (000191B8) --------------------------------------------------------
int __fastcall sub_191B8(int a1, int a2, int a3)
{
  return a1 + 160 * a2 + 20 * a3 + 36;
}

//----- (000191CC) --------------------------------------------------------
Hi62xxPlatform *__fastcall Hi62xxPlatform::~Hi62xxPlatform(Hi62xxPlatform *this)
{
  Hi62xxPlatform *v1; // r4@1
  int v2; // r0@1
  int v3; // r0@3
  int v4; // r0@5
  int v5; // r0@7
  int v6; // r0@9
  int v7; // r0@11
  int i; // r5@13
  void (__fastcall **v9)(_DWORD); // t1@15

  v1 = this;
  *(_DWORD *)this = &off_2DE90;
  v2 = *((_DWORD *)this + 7);
  if ( v2 )
    (*(void (**)(void))(*(_DWORD *)v2 + 4))();
  v3 = *((_DWORD *)v1 + 3);
  if ( v3 )
    (*(void (**)(void))(*(_DWORD *)v3 + 4))();
  v4 = *((_DWORD *)v1 + 2);
  if ( v4 )
    (*(void (**)(void))(*(_DWORD *)v4 + 4))();
  v5 = *((_DWORD *)v1 + 1);
  if ( v5 )
    (*(void (**)(void))(*(_DWORD *)v5 + 4))();
  v6 = *((_DWORD *)v1 + 4);
  if ( v6 )
    (*(void (**)(void))(*(_DWORD *)v6 + 4))();
  v7 = *((_DWORD *)v1 + 5);
  if ( v7 )
    (*(void (**)(void))(*(_DWORD *)v7 + 4))();
  for ( i = (int)v1 + 516; (Hi62xxPlatform *)i != (Hi62xxPlatform *)((char *)v1 + 36); (*v9)(i) )
  {
    v9 = *(void (__fastcall ***)(_DWORD))(i - 20);
    i -= 20;
  }
  return v1;
}
// 2DE90: using guessed type void *;

//----- (00019238) --------------------------------------------------------
void __fastcall android::Vector<HwcPolicy *>::do_splat(int a1, _DWORD *a2, _DWORD *a3, int a4)
{
  unsigned __int8 v4; // cf@1

  while ( 1 )
  {
    v4 = __CFADD__(a4--, -1);
    if ( !v4 )
      break;
    *a2 = *a3;
    ++a2;
  }
}

//----- (00019248) --------------------------------------------------------
void *__fastcall android::Vector<HwcPolicy *>::do_move_backward(int a1, void *a2, const void *a3, int a4)
{
  return j_j_memmove(a2, a3, 4 * a4);
}

//----- (00019252) --------------------------------------------------------
void *__fastcall android::Vector<HwcPolicy *>::do_copy(int a1, void *a2, const void *a3, int a4)
{
  return j_j_memcpy(a2, a3, 4 * a4);
}

//----- (0001925C) --------------------------------------------------------
Hi62xxPlatform *__fastcall Hi62xxPlatform::~Hi62xxPlatform(Hi62xxPlatform *this)
{
  Hi62xxPlatform *v1; // r4@1

  v1 = this;
  Hi62xxPlatform::~Hi62xxPlatform(this);
  operator delete((void *)v1);
  return v1;
}

//----- (00019270) --------------------------------------------------------
android::VectorImpl *__fastcall sub_19270(android::VectorImpl *a1)
{
  android::VectorImpl *v1; // r4@1

  v1 = a1;
  *(_DWORD *)a1 = &off_2DE68;
  android::VectorImpl::finish_vector(a1);
  android::VectorImpl::~VectorImpl(v1);
  return v1;
}
// 2DE68: using guessed type void *;

//----- (00019290) --------------------------------------------------------
android::VectorImpl *__fastcall sub_19290(android::VectorImpl *a1)
{
  android::VectorImpl *v1; // r4@1

  v1 = a1;
  sub_19270(a1);
  operator delete((void *)v1);
  return v1;
}

//----- (000192A4) --------------------------------------------------------
int __fastcall Hi62xxPlatform::handleEvent(int a1, int a2, int a3, char *s, int a5)
{
  int v5; // r8@1
  char *v6; // r9@1
  int v7; // r5@1
  signed int v8; // r6@1
  char *v9; // r4@1
  HwcConfig *v17; // r7@6

  v5 = a1;
  v6 = s;
  v7 = a2;
  v8 = 0;
  v9 = &s[strlen(s) + 1];
  while ( *v9 )
  {
    if ( !strncmp(v9, "VSYNC=", 6u) )
    {
      _R0 = strtoull(v9 + 6, 0, 0);
      __asm
      {
        VMOV            D16, R0, R1
        VMOV            R2, R3, D16
      }
      (*(void (__fastcall **)(int, _DWORD, int))(v7 + 4))(v7, 0, _R2);
    }
    if ( strncmp(v9, "MEMSHARE_EVENT=", 0xFu) )
      goto LABEL_15;
    v17 = (HwcConfig *)atoi(v9 + 15);
    if ( HwcConfig::GetDebugLevel(v17) > 1 )
      _android_log_print(4, "hwcomposer", "%s:%d: Memshared event: %d", "handleEvent", 448, v17);
    if ( *(_DWORD *)(v5 + 32) )
    {
      if ( v17 != (HwcConfig *)3 )
        goto LABEL_14;
      *(_DWORD *)(v5 + 32) = 0;
      v8 = 1;
    }
    else
    {
      if ( (unsigned int)v17 - 1 <= 1 )
      {
        *(_DWORD *)(v5 + 32) = v17;
        v8 = 1;
LABEL_14:
        (*(void (__fastcall **)(int))v7)(v7);
        goto LABEL_15;
      }
      if ( v17 != (HwcConfig *)3 )
        goto LABEL_14;
    }
LABEL_15:
    v9 += strlen(v9) + 1;
    if ( v9 - v6 >= a5 )
      return v8;
  }
  return v8;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00019398) --------------------------------------------------------
_DWORD *__fastcall Hi62xxPlatform::Hi62xxPlatform(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int v2; // r8@1
  int v3; // r5@1
  int v4; // r6@1
  int v5; // r7@2
  Hi62xxCommon *v6; // r7@5
  int v7; // r5@5
  Hi62xxOverlay *v8; // r7@5
  Hi62xxComposer *v9; // r5@5
  Hi62XXPerf *v10; // r7@5
  Segmenter *v11; // r5@5
  int v12; // r1@5
  int v13; // r7@5
  int v14; // r1@5
  int v15; // r1@5
  int v16; // r7@5
  char *v17; // r5@6
  int v18; // r9@6
  int v19; // r8@7
  int v20; // t1@8

  v1 = a1;
  v2 = (int)(a1 + 129);
  *a1 = &off_2DE90;
  v3 = (int)(a1 + 9);
  v4 = (int)(a1 + 9);
  do
  {
    v5 = 0;
    do
    {
      android::VectorImpl::VectorImpl((android::VectorImpl *)(v3 + v5), 4u, 7u);
      *(_DWORD *)(v3 + v5) = &off_2DE68;
      v5 += 20;
    }
    while ( v5 != 160 );
    v3 += 160;
  }
  while ( v3 != v2 );
  v6 = (Hi62xxCommon *)operator new(0x3Cu);
  Hi62xxCommon::Hi62xxCommon(v6);
  v1[4] = v6;
  v7 = operator new(0xCu);
  Hi62xxAccelerator::Hi62xxAccelerator(v7, v1[4]);
  v1[1] = v7;
  v8 = (Hi62xxOverlay *)operator new(0x6B0u);
  Hi62xxOverlay::Hi62xxOverlay(v8, (Hi62xxCommon *)v1[4]);
  v1[2] = v8;
  v9 = (Hi62xxComposer *)operator new(0x6ACu);
  Hi62xxComposer::Hi62xxComposer(v9, (Hi62xxCommon *)v1[4]);
  v1[3] = v9;
  v10 = (Hi62XXPerf *)operator new(0x20u);
  Hi62XXPerf::Hi62XXPerf(v10, (Hi62xxCommon *)v1[4]);
  v1[5] = v10;
  v11 = (Segmenter *)operator new(8u);
  Segmenter::Segmenter(v11, 1);
  v1[7] = v11;
  v13 = *(_DWORD *)(HwcConfig::GetDisplay(0, v12) + 24);
  v15 = *(_DWORD *)(HwcConfig::GetDisplay(0, v14) + 20) * v13;
  v16 = 0;
  *((_BYTE *)v1 + 24) = v15 > 2073599;
  do
  {
    v17 = (char *)&off_2F240 + v16 + 28;
    v18 = v4;
    do
    {
      v19 = (int)(v17 - 32);
      do
      {
        v20 = *(_DWORD *)(v19 + 4);
        v19 += 4u;
        if ( v20 )
          android::VectorImpl::insertAt((android::VectorImpl *)v18, (const void *)v19, *(_DWORD *)(v18 + 8), 1u);
      }
      while ( (char *)v19 != v17 );
      v17 = (char *)(v19 + 32);
      v18 += 20;
    }
    while ( (void **)(v19 + 32) != (void **)((char *)&off_2F240 + v16 + 284) );
    v16 += 256;
    v4 += 160;
  }
  while ( v16 != 768 );
  v1[8] = 0;
  return v1;
}
// 2DE68: using guessed type void *off_2DE68;
// 2DE90: using guessed type void *off_2DE90;
// 2F240: using guessed type void *off_2F240;

//----- (000194B8) --------------------------------------------------------
signed int __fastcall Hi62xxPlatform::isAdeFormat(Hi62xxPlatform *this, unsigned int a2)
{
  if ( a2 == 17 )
    return 1;
  if ( a2 > 0x11 )
  {
    if ( a2 == 256 || a2 == 260 || a2 == 20 )
      return 1;
    return 0;
  }
  if ( a2 - 1 > 4 )
    return 0;
  return 1;
}

//----- (000194DE) --------------------------------------------------------
signed int __fastcall Hi62xxPlatform::formatCanHandle(Hi62xxPlatform *a1, int a2)
{
  Hi62xxPlatform *v2; // r4@1
  int v3; // r0@2
  int v4; // r1@3
  signed int result; // r0@4

  v2 = a1;
  if ( *(_DWORD *)a2 && (v3 = *(_DWORD *)(*(_DWORD *)a2 + 16)) != 0 && (v4 = sub_11658(v3)) != 0 )
    result = j_j_j__ZNK14Hi62xxPlatform11isAdeFormatEj(v2, *(_DWORD *)(v4 + 20));
  else
    result = 1;
  return result;
}

//----- (00019504) --------------------------------------------------------
signed int __fastcall Hi62xxPlatform::scfCanHandle(int a1, int *a2, _BYTE *a3)
{
  _BYTE *v3; // r8@1
  int v6; // r2@3
  int v17; // r12@7
  const char *v20; // r1@13
  const char *v21; // r2@13
  const char *v22; // r3@13
  signed int v23; // [sp+0h] [bp-30h]@13
  int v24; // [sp+4h] [bp-2Ch]@13
  int v25; // [sp+8h] [bp-28h]@13
  int v26; // [sp+Ch] [bp-24h]@13
  int v27; // [sp+10h] [bp-20h]@13

  v3 = a3;
  _R0 = *a2;
  if ( !*a2 )
    return 1;
  v6 = *(_DWORD *)(_R0 + 124);
  if ( v6 & 0x100 || !(v6 & 0x38) )
    return 1;
  __asm
  {
    VLDR            S15, [R0,#0x24]
    VLDR            S1, [R0,#0x1C]
    VLDR            S3, [R0,#0x28]
    VLDR            S5, [R0,#0x20]
    VCVTR.S32.F32   S0, S15
    VCVTR.S32.F32   S2, S1
    VCVTR.S32.F32   S4, S3
    VCVTR.S32.F32   S6, S5
    VMOV            R4, S0
    VMOV            R3, S2
    VMOV            R5, S4
    VMOV            R1, S6
  }
  _R4 = _R4 - _R3;
  _R5 = _R5 - _R1;
  if ( _NF )
  {
    v17 = _R4;
    _R4 = _R5;
    _R5 = v17;
  }
  _R6 = *(_DWORD *)(_R0 + 52) - *(_DWORD *)(_R0 + 44);
  _R7 = *(_DWORD *)(_R0 + 56) - *(_DWORD *)(_R0 + 48);
  if ( _R4 <= 15 || _R5 <= 15 || _R6 <= 15 || _R7 <= 15 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)_R0) > 0 )
    {
      v27 = _R7;
      v23 = 193;
      v24 = _R4;
      v25 = _R5;
      v26 = _R6;
      v20 = "hwcomposer";
      v21 = "%s:%d: layer use scf but input[%d %d] or output[%d %d] too small";
      v22 = "scfCanHandle";
LABEL_20:
      _android_log_print(5, v20, v21, v22, v23, v24, v25, v26, v27);
      return 0;
    }
    return 0;
  }
  if ( _R4 <= 1920 && _R5 <= 1920 && _R6 <= 1920 && _R7 <= 1920 )
  {
    __asm
    {
      VMOV            S9, R6
      VMOV.F64        D19, #1.5
      VMOV            S7, R4
      VCVT.F32.S32    S10, S9
      VCVT.F32.S32    S8, S7
      VCVT.F64.F32    D17, S10
      VCVT.F64.F32    D18, S8
      VMUL.F64        D6, D17, D19
      VCMPE.F64       D18, D6
      VMRS            APSR_nzcv, FPSCR
    }
    if ( !((unsigned __int8)(_NF ^ _VF) | _ZF) )
      goto LABEL_40;
    __asm
    {
      VMOV            S14, R7
      VMOV            S11, R5
      VCVT.F32.S32    S15, S14
      VCVT.F32.S32    S13, S11
      VCVT.F64.F32    D16, S15
      VCVT.F64.F32    D20, S13
      VMUL.F64        D21, D16, D19
      VCMPE.F64       D20, D21
      VMRS            APSR_nzcv, FPSCR
    }
    if ( !((unsigned __int8)(_NF ^ _VF) | _ZF) )
    {
LABEL_40:
      _R0 = HwcConfig::GetDebugLevel((HwcConfig *)_R0);
      if ( _R0 > 2 )
        _R0 = _android_log_print(3, "hwcomposer", "%s:%d: scl down more than 1.5, disable online", "scfCanHandle", 209);
      *v3 = 0;
    }
    if ( _R6 > _R4 && _R6 > _R4 << 6
      || _R7 > _R5 && _R7 > _R5 << 6
      || _R4 > _R6 && _R4 > _R6 << 6
      || _R5 > _R7 && _R5 > _R7 << 6 )
    {
      if ( HwcConfig::GetDebugLevel((HwcConfig *)_R0) > 0 )
        _android_log_print(5, "hwcomposer", "%s:%d: layer SCF fator is too large", "scfCanHandle", 220);
      return 0;
    }
    return 1;
  }
  if ( HwcConfig::GetDebugLevel((HwcConfig *)_R0) > 0 )
  {
    v27 = _R7;
    v23 = 202;
    v24 = _R4;
    v25 = _R5;
    v26 = _R6;
    v20 = "hwcomposer";
    v21 = "%s:%d: layer use scf but input[%d %d] or output[%d %d] too large";
    v22 = "scfCanHandle";
    goto LABEL_20;
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (000196D8) --------------------------------------------------------
signed int __fastcall Hi62xxPlatform::rotScfCanHandle(int a1, int *a2, int a3)
{
  int v4; // r5@2
  signed int result; // r0@5
  int v13; // r2@6
  int v15; // r1@6
  HwcConfig *v16; // r0@6
  int v17; // r4@6
  int v18; // r3@6
  int v19; // r12@8
  int *v20; // [sp+4h] [bp-14h]@1
  int v21; // [sp+8h] [bp-10h]@1

  v20 = a2;
  v21 = a3;
  _R3 = *a2;
  if ( !*a2 )
    goto LABEL_16;
  v4 = *(_DWORD *)(_R3 + 124);
  if ( v4 & 0x100 || !(v4 & 8) || !*(_DWORD *)(_R3 + 20) )
    goto LABEL_16;
  __asm
  {
    VLDR            S15, [R3,#0x24]
    VLDR            S14, [R3,#0x1C]
    VLDR            S2, [R3,#0x28]
    VLDR            S4, [R3,#0x20]
    VCVTR.S32.F32   S0, S15
    VCVTR.S32.F32   S1, S14
    VCVTR.S32.F32   S3, S2
    VCVTR.S32.F32   S5, S4
    VMOV            R1, S0
    VMOV            R0, S1
    VMOV            R4, S5
  }
  v13 = _R1 - _R0;
  __asm { VMOV            R0, S3 }
  v15 = _R0 - _R4;
  v16 = (HwcConfig *)(*(_DWORD *)(_R3 + 52) - *(_DWORD *)(_R3 + 44));
  v17 = *(_DWORD *)(_R3 + 56);
  v18 = *(_DWORD *)(_R3 + 48);
  if ( _NF )
  {
    v19 = v13;
    v13 = v15;
    v15 = v19;
  }
  if ( v13 > (signed int)v16 || v15 > v17 - v18 )
  {
    if ( HwcConfig::GetDebugLevel(v16) > 2 )
      _android_log_print(3, "hwcomposer", "%s:%d: scf and rot ,disable online", "rotScfCanHandle", 246, v20, v21);
    result = 0;
  }
  else
  {
LABEL_16:
    result = 1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00019778) --------------------------------------------------------
unsigned int **__fastcall android::sp<HwcLayerInfo>::sp(unsigned int **result, unsigned int **a2)
{
  unsigned int *v2; // r3@1
  unsigned int v3; // r2@3

  v2 = *a2;
  *result = *a2;
  if ( v2 )
  {
    __dmb();
    do
      v3 = __ldrex(v2);
    while ( __strex(v3 + 1, v2) );
  }
  return result;
}

//----- (00019794) --------------------------------------------------------
void __fastcall Hi62xxPlatform::preprocess(Hi62xxPlatform *this, HwcCompInfo *a2)
{
  char *v2; // r10@1
  Hi62xxPlatform *v3; // r6@1
  HwcCompInfo *v4; // r5@1
  HwcConfig *v5; // r0@1
  int v6; // r1@1
  int v7; // r0@3
  unsigned int v8; // r2@4
  int v9; // r7@6
  int v10; // r4@6
  unsigned int *v11; // r0@6
  const char *v12; // r2@31
  const char *v13; // r3@31
  int v14; // r11@7
  int v15; // r8@8
  HwcConfig *v16; // r0@9
  int v20; // r3@21
  HwcConfig *v21; // r0@27
  const char *v22; // r1@31
  int v23; // r2@33
  int v24; // r8@33
  const char *v25; // r1@36
  const char *v26; // r2@36
  const char *v27; // r3@36
  signed int v28; // r8@38
  unsigned int **v29; // r0@38
  unsigned int *v30; // r9@41
  int v31; // r0@41
  int v32; // r0@42
  int v33; // r3@43
  signed int v34; // r9@49
  unsigned int **v35; // r0@49
  int v36; // r2@53
  signed int v37; // r8@53
  int v43; // r1@62
  int v50; // r11@76
  unsigned int v51; // r3@82
  signed int v52; // [sp+0h] [bp-60h]@31
  signed int v53; // [sp+0h] [bp-60h]@36
  int v54; // [sp+4h] [bp-5Ch]@31
  HwcConfig *v55; // [sp+14h] [bp-4Ch]@6
  char v56; // [sp+33h] [bp-2Dh]@49
  unsigned int *v57; // [sp+34h] [bp-2Ch]@38

  v2 = (char *)a2 + 12;
  v3 = this;
  v4 = a2;
  v5 = (HwcConfig *)sub_123E6((int)a2 + 12);
  if ( (unsigned int)v5 <= 0xC )
  {
    *((_DWORD *)v4 + 22) = *((_DWORD *)v3 + 8);
    Hi62xxRot::updateSharedMemory((Hi62xxRot *)(2 - *((_DWORD *)v3 + 8)), v6);
    if ( *((_DWORD *)v3 + 8) )
      ChannelMgr::DisableChannelCaps((ChannelMgr *)4, 18, v8);
    v9 = 0;
    v55 = 0;
    v10 = *(_DWORD *)(*((_DWORD *)v4 + 4) + 8);
    v11 = (unsigned int *)"preprocess";
    while ( 1 )
    {
      v14 = *((_DWORD *)v4 + 4);
      if ( v10 == v14 )
      {
        if ( *((_BYTE *)v3 + 24) )
        {
          _VF = __OFSUB__(v9, 1);
          _ZF = v9 == 1;
          _NF = v9 - 1 < 0;
        }
        else
        {
          _VF = __OFSUB__(v9, 2);
          _ZF = v9 == 2;
          _NF = v9 - 2 < 0;
        }
        if ( !((unsigned __int8)(_NF ^ _VF) | _ZF) )
        {
          if ( HwcConfig::GetDebugLevel((HwcConfig *)v11) > 2 )
            _android_log_print(3, "hwcomposer", "%s:%d: too many rot layers, online disable", "preprocess", 406);
          *((_BYTE *)v4 + 82) = 1;
        }
        if ( *((_BYTE *)v4 + 84) )
          ChannelMgr::DisableChannelCaps((ChannelMgr *)4, 2, *((_BYTE *)v4 + 84));
        v20 = *((_DWORD *)v4 + 24);
        if ( *(_BYTE *)v20 && *(_BYTE *)(v20 + 16) && *((_DWORD *)v3 + 8) == 2 && *(_DWORD *)(v20 + 8) )
          *((_BYTE *)v4 + 81) = 1;
        return;
      }
      v15 = *(_DWORD *)v10;
      if ( *(_DWORD *)(*(_DWORD *)v10 + 12) & 1 )
        goto LABEL_28;
      v16 = *(HwcConfig **)(v15 + 48);
      if ( *(_DWORD *)(v15 + 56) - (_DWORD)v16 == 1 )
        break;
      v16 = (HwcConfig *)(*(_DWORD *)(v15 + 52) - *(_DWORD *)(v15 + 44));
      if ( v16 == (HwcConfig *)1 )
        break;
      if ( *(_DWORD *)(v15 + 124) & 0x100 )
      {
        v21 = (HwcConfig *)sub_123E6((int)v2);
        if ( v21 == (HwcConfig *)1 )
          goto LABEL_28;
        if ( v10 == *(_DWORD *)(v14 + 8) )
        {
          if ( HwcConfig::GetDebugLevel(v21) > 2 )
          {
            v52 = 297;
            v54 = *(_DWORD *)(*(_DWORD *)v10 + 16);
            v22 = "hwcomposer";
            v12 = "%s:%d: layer[%p] is dim at bottom , drop it.";
            v13 = "preprocess";
            goto LABEL_32;
          }
LABEL_33:
          *(_BYTE *)(*(_DWORD *)v10 + 144) = 1;
          *(_BYTE *)(*(_DWORD *)v10 + 145) = 1;
          v23 = *(_DWORD *)(v10 + 4);
          v24 = *(_DWORD *)(v10 + 8);
          *(_DWORD *)(v23 + 8) = v24;
          *(_DWORD *)(v24 + 4) = v23;
          android::sp<HwcLayerInfo>::~sp((unsigned int **)v10);
          operator delete((void *)v10);
          v10 = *(_DWORD *)(v24 + 4);
          goto LABEL_77;
        }
        if ( v55 )
        {
          if ( HwcConfig::GetDebugLevel(v55) <= 2 )
            goto LABEL_28;
          v53 = 307;
          v25 = "hwcomposer";
          v26 = "%s:%d: too many dim layers, use gpu to compose";
          v27 = "preprocess";
LABEL_52:
          _android_log_print(3, v25, v26, v27, v53);
          goto LABEL_28;
        }
        *(_DWORD *)(v15 + 28) = 0;
        *(_DWORD *)(*(_DWORD *)v10 + 32) = 0;
        *(_DWORD *)(*(_DWORD *)v10 + 36) = 0;
        *(_DWORD *)(*(_DWORD *)v10 + 40) = 0;
        *(_DWORD *)(*(_DWORD *)v10 + 44) = 0;
        v11 = (unsigned int *)1;
        v55 = (HwcConfig *)1;
        *(_DWORD *)(*(_DWORD *)v10 + 48) = 0;
        *(_DWORD *)(*(_DWORD *)v10 + 52) = 0;
        *(_DWORD *)(*(_DWORD *)v10 + 56) = 0;
        *((_BYTE *)v4 + 83) = 1;
      }
      else
      {
        android::sp<HwcLayerInfo>::sp(&v57, (unsigned int **)v10);
        v28 = Hi62xxPlatform::formatCanHandle(v3, (int)&v57);
        v29 = android::sp<HwcLayerInfo>::~sp(&v57);
        if ( !v28 )
        {
          if ( HwcConfig::GetDebugLevel((HwcConfig *)v29) <= 2 )
            goto LABEL_28;
          v53 = 328;
          v25 = "hwcomposer";
          v26 = "%s:%d: unsupport format, use gpu to compose";
          v27 = "preprocess";
          goto LABEL_52;
        }
        v30 = *(unsigned int **)v10;
        v31 = *(_DWORD *)(*(_DWORD *)v10 + 16);
        if ( v31 )
        {
          v32 = sub_11658(v31);
          if ( v32 )
          {
            v33 = *(_DWORD *)(v32 + 20);
            if ( v33 == 20 || v33 == 260 )
              v30[31] |= 0x10u;
            if ( !*(_DWORD *)(v32 + 116) )
            {
              if ( HwcConfig::GetDebugLevel(0) <= 2 )
                goto LABEL_28;
              v53 = 343;
              v25 = "hwcomposer";
              v26 = "%s:%d: no continuous memory, use gpu to compose";
              v27 = "preprocess";
              goto LABEL_52;
            }
          }
        }
        v56 = 1;
        android::sp<HwcLayerInfo>::sp(&v57, (unsigned int **)v10);
        v34 = Hi62xxPlatform::scfCanHandle((int)v3, (int *)&v57, &v56);
        v35 = android::sp<HwcLayerInfo>::~sp(&v57);
        if ( !v34 )
        {
          if ( HwcConfig::GetDebugLevel((HwcConfig *)v35) <= 2 )
            goto LABEL_28;
          v53 = 352;
          v25 = "hwcomposer";
          v26 = "%s:%d: scl too large, use gpu to compose";
          v27 = "preprocess";
          goto LABEL_52;
        }
        android::sp<HwcLayerInfo>::sp(&v57, (unsigned int **)v10);
        v37 = Hi62xxPlatform::rotScfCanHandle((int)v3, (int *)&v57, v36);
        android::sp<HwcLayerInfo>::~sp(&v57);
        if ( !v56 || !v37 )
          *((_BYTE *)v4 + 82) = 1;
        if ( HwcLayerInfo::IsAlphaLayer(*(HwcLayerInfo **)v10) && *(_BYTE *)(*(_DWORD *)v10 + 76) != 255 )
          *(_DWORD *)(*(_DWORD *)v10 + 124) |= 0x800u;
        v11 = *(unsigned int **)v10;
        if ( *(_DWORD *)(*(_DWORD *)v10 + 20) && !(v11[3] & 0x100) )
        {
          v11[31] |= 2u;
          _R3 = *(unsigned int **)v10;
          if ( *((_BYTE *)v3 + 24) )
            goto LABEL_89;
          __asm
          {
            VLDR            S15, [R3,#0x28]
            VLDR            S14, [R3,#0x20]
            VLDR            S2, [R3,#0x24]
            VLDR            S4, [R3,#0x1C]
            VCVTR.S32.F32   S0, S15
            VCVTR.S32.F32   S1, S14
            VCVTR.S32.F32   S3, S2
            VCVTR.S32.F32   S5, S4
            VMOV            R1, S0
            VMOV            R2, S1
            VMOV            R0, S3
          }
          v43 = _R1 - _R2;
          __asm { VMOV            R2, S5 }
          if ( (_R0 - _R2) * v43 <= 921600 )
LABEL_89:
            ++v9;
          else
            v9 += 2;
          if ( ((_R3[5] << 29) & 0x80000000) == 0 )
            __asm { VLDRPL          S3, [R3,#0x24] }
          else
            __asm { VLDRMI          S3, [R3,#0x28] }
          if ( _NF )
            __asm { VCVTRMI.S32.F32 S3, S3 }
          else
            __asm { VCVTRPL.S32.F32 S3, S3 }
          if ( _NF )
            __asm { VMOVMI          R11, S3 }
          else
            __asm { VMOVPL          R11, S3 }
          if ( _NF )
            __asm { VLDRMI          S3, [R3,#0x20] }
          else
            __asm { VLDRPL          S3, [R3,#0x1C] }
          __asm
          {
            VCVTR.S32.F32   S6, S3
            VMOV            R0, S6
          }
          v50 = _R11 - _R0;
          v11 = (unsigned int *)_R3[4];
          if ( v11 )
          {
            v11 = (unsigned int *)sub_11658((int)v11);
            if ( v11 )
            {
              if ( v50 > 1088 )
              {
                v51 = v11[5];
                if ( v51 == 256 || v51 == 17 || v50 > 1184 )
                  *((_BYTE *)v4 + 84) = 1;
              }
            }
          }
        }
      }
LABEL_77:
      v10 = *(_DWORD *)(v10 + 8);
    }
    if ( HwcConfig::GetDebugLevel(v16) > 2 )
    {
      v52 = 283;
      v54 = *(_DWORD *)(*(_DWORD *)v10 + 16);
      v22 = "hwcomposer";
      v12 = "%s:%d: layer[%p] has only one pix, drop it.";
      v13 = "preprocess";
LABEL_32:
      _android_log_print(3, v22, v12, v13, v52, v54);
    }
    goto LABEL_33;
  }
  if ( HwcConfig::GetDebugLevel(v5) > 2 )
  {
    v7 = sub_123E6((int)v2);
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: layer num[%d] exceed ADE capability[%d], let GPU do compose",
      "preprocess",
      266,
      v7,
      12);
  }
LABEL_28:
  *((_BYTE *)v4 + 81) = 1;
  *((_BYTE *)v4 + 82) = 1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00019C04) --------------------------------------------------------
signed int __fastcall sub_19C04(unsigned int a1)
{
  if ( a1 == 5 )
    return 4;
  if ( a1 > 5 )
  {
    if ( a1 == 20 )
      return 16;
    if ( a1 > 0x14 )
    {
      if ( a1 == 256 )
        return 21;
      if ( a1 == 260 )
        return 18;
    }
    else if ( a1 == 17 )
    {
      return 22;
    }
    return 800;
  }
  if ( a1 == 2 )
    return 3;
  if ( a1 > 2 )
  {
    if ( a1 == 3 )
      return 8;
    if ( a1 == 4 )
      return 0;
    return 800;
  }
  if ( a1 != 1 )
    return 800;
  return 5;
}

//----- (00019C5E) --------------------------------------------------------
int __fastcall Hi62xxCommon::commit(int a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-Ch]@1
  int v5; // [sp+8h] [bp-8h]@1

  v4 = a2;
  v5 = a3;
  return (*(int (__cdecl **)(int, int, int *))(*(_DWORD *)a1 + 12))(a1, a2, &v4);
}

//----- (00019C6E) --------------------------------------------------------
int __fastcall Hi62xxCommon::modifyRectByDirtyRect(int a1, int a2)
{
  int v2; // r2@1
  int result; // r0@1

  v2 = *(_DWORD *)(a2 + 4);
  *(_DWORD *)a2 += *(_DWORD *)(a1 + 20);
  result = *(_DWORD *)(a1 + 24) + v2;
  *(_DWORD *)(a2 + 4) = result;
  return result;
}

//----- (00019C80) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::calculateSrcRect(HwcConfig *a1, int _R1, int a3, int a4, int a5)
{
  const char *v5; // r1@4
  const char *v6; // r3@4
  const char *v7; // r2@4
  int v8; // r6@5
  unsigned int v9; // r5@7
  unsigned int v10; // r7@9
  unsigned int v11; // r0@9
  HwcConfig *v13; // r0@12
  unsigned int v14; // r7@12
  unsigned int v15; // r2@12
  int v26; // r4@19
  HwcConfig *v28; // r0@19
  int v29; // r4@23
  signed int v31; // [sp+0h] [bp-20h]@4
  int v32; // [sp+4h] [bp-1Ch]@1
  int v33; // [sp+8h] [bp-18h]@1

  v32 = _R1;
  v33 = a3;
  if ( !_R1 || !a3 )
  {
    if ( HwcConfig::GetDebugLevel(a1) >= 0 )
    {
      v31 = 82;
      v5 = "hwcomposer";
      v6 = "calculateSrcRect";
      v7 = "%s:%d: NULL pointer !!!";
LABEL_37:
      _android_log_print(6, v5, v7, v6, v31, v32, v33);
      return 0;
    }
    return 0;
  }
  v8 = *(_DWORD *)a3;
  if ( *(_DWORD *)a3 < *(_DWORD *)(_R1 + 76) )
    v8 = *(_DWORD *)(_R1 + 76);
  *(_DWORD *)a5 = v8;
  v9 = *(_DWORD *)(a3 + 4);
  if ( v9 < *(_DWORD *)(_R1 + 80) )
    v9 = *(_DWORD *)(_R1 + 80);
  *(_DWORD *)(a5 + 4) = v9;
  v10 = *(_DWORD *)(_R1 + 84) + *(_DWORD *)(_R1 + 76);
  v11 = *(_DWORD *)a3 + *(_DWORD *)(a3 + 8);
  if ( v10 > v11 )
    _R4 = v11 - v8;
  else
    _R4 = v10 - v8;
  *(_DWORD *)(a5 + 8) = _R4;
  v13 = *(HwcConfig **)(_R1 + 80);
  v14 = (unsigned int)v13 + *(_DWORD *)(_R1 + 88);
  v15 = *(_DWORD *)(a3 + 4) + *(_DWORD *)(a3 + 12);
  if ( v14 > v15 )
    _R2 = v15 - v9;
  else
    _R2 = v14 - v9;
  *(_DWORD *)(a5 + 12) = _R2;
  if ( !_R4 || !_R2 )
  {
    if ( HwcConfig::GetDebugLevel(v13) >= 0 )
    {
      v31 = 100;
      v5 = "hwcomposer";
      v7 = "%s:%d: calculate rect error !!!";
      v6 = "calculateSrcRect";
      goto LABEL_37;
    }
    return 0;
  }
  __asm
  {
    VMOV.F32        S14, #0.5
    VLDR            S12, [R1,#0x5C]
    VMOV            S8, R4
  }
  _R6 = v8 - *(_DWORD *)(_R1 + 76);
  __asm
  {
    VMOV.F32        S13, S14
    VLDR            S3, [R1,#0x60]
    VMOV.F32        S10, S14
    VMOV.F32        S11, S14
    VMOV            S15, R6
  }
  _R5 = v9 - *(_DWORD *)(_R1 + 80);
  __asm
  {
    VMOV            S4, R5
    VCVT.F32.U32    S9, S8
    VCVT.F32.U32    S0, S15
    VCVT.F32.U32    S5, S4
    VMLA.F32        S10, S9, S12
    VMLA.F32        S13, S0, S12
    VMOV            S0, R2
    VMLA.F32        S11, S5, S3
    VCVTR.U32.F32   S15, S10
    VCVTR.U32.F32   S2, S13
    VCVT.F32.U32    S13, S0
    VCVTR.U32.F32   S7, S11
    VMOV            R6, S15
    VMOV            LR, S2
    VMLA.F32        S14, S13, S3
    VMOV            R5, S7
  }
  v26 = *(_DWORD *)(_R1 + 68) - _R6 - _LR;
  __asm
  {
    VCVTR.U32.F32   S14, S14
    VMOV            R2, S14
  }
  v28 = (HwcConfig *)(*(_DWORD *)(_R1 + 72) - _R2 - _R5);
  switch ( *(_DWORD *)(_R1 + 36) )
  {
    case 0:
      *(_DWORD *)a4 = *(_DWORD *)(_R1 + 60) + _LR;
      goto LABEL_22;
    case 4:
      *(_DWORD *)a4 = v26 + *(_DWORD *)(_R1 + 60);
LABEL_22:
      *(_DWORD *)(a4 + 4) = _R5 + *(_DWORD *)(_R1 + 64);
      goto LABEL_25;
    case 5:
      v29 = *(_DWORD *)(_R1 + 60) + _LR;
      goto LABEL_24;
    case 2:
      v29 = v26 + *(_DWORD *)(_R1 + 60);
LABEL_24:
      *(_DWORD *)a4 = v29;
      *(_DWORD *)(a4 + 4) = (char *)v28 + *(_DWORD *)(_R1 + 64);
LABEL_25:
      *(_DWORD *)(a4 + 8) = _R6;
      *(_DWORD *)(a4 + 12) = _R2;
      return 1;
    case 1:
      *(_DWORD *)a4 = _R5 + *(_DWORD *)(_R1 + 60);
      goto LABEL_29;
    case 6:
      *(_DWORD *)a4 = (char *)v28 + *(_DWORD *)(_R1 + 60);
LABEL_29:
      *(_DWORD *)(a4 + 4) = v26 + *(_DWORD *)(_R1 + 64);
      goto LABEL_33;
    case 3:
      *(_DWORD *)a4 = (char *)v28 + *(_DWORD *)(_R1 + 60);
      break;
    case 7:
      *(_DWORD *)a4 = _R5 + *(_DWORD *)(_R1 + 60);
      break;
    default:
      if ( HwcConfig::GetDebugLevel(v28) < 0 )
        return 0;
      v31 = 161;
      v5 = "hwcomposer";
      v7 = "%s:%d: invalid rotation!!!";
      v6 = "calculateSrcRect";
      goto LABEL_37;
  }
  *(_DWORD *)(a4 + 4) = *(_DWORD *)(_R1 + 64) + _LR;
LABEL_33:
  *(_DWORD *)(a4 + 8) = _R2;
  *(_DWORD *)(a4 + 12) = _R6;
  return 1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00019E50) --------------------------------------------------------
int __fastcall Hi62xxCommon::intersectWithDirtyRect(HwcConfig *a1, int a2)
{
  HwcConfig *v2; // r5@1
  int v3; // r4@1
  int result; // r0@2
  unsigned int v5; // r3@6
  int v6; // r2@6
  int v7; // r0@6
  unsigned int v8; // r12@6
  int v9; // r7@6
  unsigned int v10; // lr@6
  int v11; // r6@8
  int v12; // r1@8
  unsigned int v13; // r5@8
  unsigned int v14; // r7@8
  unsigned int v15; // r2@8
  unsigned int v16; // r6@8
  int v17; // r3@11
  int v18; // r2@14

  v2 = a1;
  v3 = a2;
  if ( a2 )
  {
    if ( HwcConfig::GetDebugLevel(a1) > 1 )
      _android_log_print(
        4,
        "hwcomposer",
        "%s:%d: dst x/y/w/h %d/%d/%d/%d dirty x/y/w/h %d/%d/%d/%d",
        "intersectWithDirtyRect",
        1292,
        *(_DWORD *)v3,
        *(_DWORD *)(v3 + 4),
        *(_DWORD *)(v3 + 8),
        *(_DWORD *)(v3 + 12),
        *((_DWORD *)v2 + 5),
        *((_DWORD *)v2 + 6),
        *((_DWORD *)v2 + 7),
        *((_DWORD *)v2 + 8));
    v5 = *((_DWORD *)v2 + 5);
    v6 = *(_DWORD *)v3;
    v7 = *((_DWORD *)v2 + 6);
    v8 = *(_DWORD *)(v3 + 4);
    v9 = *(_DWORD *)(v3 + 8);
    v10 = v5 + *((_DWORD *)v2 + 7);
    if ( v5 < *(_DWORD *)v3 )
      v5 = *(_DWORD *)v3;
    v11 = *((_DWORD *)v2 + 8);
    v12 = *(_DWORD *)(v3 + 12);
    *(_DWORD *)v3 = v5;
    v13 = *((_DWORD *)v2 + 6);
    v14 = v9 + v6;
    v15 = v8;
    v16 = v11 + v7;
    result = v8 + v12;
    if ( v8 < v13 )
      v15 = v13;
    if ( v10 > v14 )
      v17 = v14 - v5;
    else
      v17 = v10 - v5;
    *(_DWORD *)(v3 + 4) = v15;
    if ( v16 > result )
      v18 = result - v15;
    else
      v18 = v16 - v15;
    *(_DWORD *)(v3 + 8) = v17;
    *(_DWORD *)(v3 + 12) = v18;
  }
  else
  {
    result = HwcConfig::GetDebugLevel(a1);
    if ( result >= 0 )
      result = _android_log_print(6, "hwcomposer", "%s:%d: NULL pointer", "intersectWithDirtyRect", 1278);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (00019F28) --------------------------------------------------------
HwcConfig *__fastcall Hi62xxCommon::setTopResource(int a1, int a2)
{
  int v2; // r6@1
  _DWORD *v3; // r4@1
  const char *v4; // r1@3
  const char *v5; // r2@3
  const char *v6; // r3@3
  HwcConfig *v8; // r0@11
  HwcConfig *v9; // r5@11
  signed int v10; // [sp+0h] [bp-50h]@3

  v2 = a1;
  v3 = (_DWORD *)a2;
  if ( *(_DWORD *)(a1 + 8) < 0 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) < 0 )
      return (HwcConfig *)-1;
    v10 = 1146;
    v4 = "hwcomposer";
    v5 = "%s:%d: devices are not opened!! ";
    v6 = "setTopResource";
LABEL_4:
    _android_log_print(6, v4, v5, v6, v10);
    return (HwcConfig *)-1;
  }
  if ( !a2 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) < 0 )
      return (HwcConfig *)-1;
    v10 = 1151;
    v4 = "hwcomposer";
    v6 = "setTopResource";
    v5 = "%s:%d: topConfigs is NULL!! ";
    goto LABEL_4;
  }
  if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: ======= top resource ======= \n"
      "comp_mode= %d\n"
      "disp_ch_res = 0x%x \n"
      "ovly1_res = 0x%x \n"
      "ovly2_res = 0x%x \n"
      "ovly3_res = 0x%x\n"
      "rot_res = 0x%x\n"
      "scl2_res = 0x%x\n"
      "compose_ch_res[0] = 0x%x\n"
      "compose_ch_res[1] = 0x%x\n"
      "compose_ch_res[2] = 0x%x\n"
      "compose_ch_res[3] = 0x%x\n"
      "compose_ch_res[4] = 0x%x\n"
      "compose_ch_res[5] = 0x%x\n"
      "ade_reg_res = 0x%x\n",
      "setTopResource",
      1185,
      *v3,
      v3[7],
      v3[8],
      v3[9],
      v3[10],
      v3[11],
      v3[12],
      v3[1],
      v3[2],
      v3[3],
      v3[4],
      v3[5],
      v3[6],
      v3[13]);
  v8 = (HwcConfig *)ioctl(*(_DWORD *)(v2 + 8), 0xC0384D87, v3);
  v9 = v8;
  if ( v8 )
  {
    if ( HwcConfig::GetDebugLevel(v8) >= 0 )
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: set top resource failed!! ret:%d \n"
        "comp_mode= %d\n"
        "disp_ch_res = 0x%x \n"
        "res_info.ovly1_res = 0x%x \n"
        "res_info.ovly2_res = 0x%x \n"
        "res_info.ovly3_res = 0x%x\n"
        "res_info.rot_res = 0x%x\n"
        "res_info.scl2_res = 0x%x\n"
        "res_info.compose_ch_res[0] = 0x%x\n"
        "res_info.compose_ch_res[1] = 0x%x\n"
        "res_info.compose_ch_res[2] = 0x%x\n"
        "res_info.compose_ch_res[3] = 0x%x\n"
        "res_info.compose_ch_res[4] = 0x%x\n"
        "res_info.compose_ch_res[5] = 0x%x\n"
        "ade_reg_res = 0x%x\n",
        "setTopResource",
        1220,
        v9,
        *v3,
        v3[7],
        v3[8],
        v3[9],
        v3[10],
        v3[11],
        v3[12],
        v3[1],
        v3[2],
        v3[3],
        v3[4],
        v3[5],
        v3[6],
        v3[13]);
    return (HwcConfig *)-1;
  }
  if ( HwcConfig::GetDebugLevel(0) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: set 0x%x topResource success",
      "setTopResource",
      1224,
      *(_DWORD *)(v2 + 36));
  return v9;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001A0AC) --------------------------------------------------------
Hi62xxCommon *__fastcall Hi62xxCommon::~Hi62xxCommon(Hi62xxCommon *this)
{
  Hi62xxCommon *v1; // r4@1
  int v2; // r0@1
  int v3; // r0@3

  v1 = this;
  *(_DWORD *)this = &off_2DEC8;
  v2 = *((_DWORD *)this + 1);
  if ( v2 > 0 )
    close(v2);
  v3 = *((_DWORD *)v1 + 2);
  if ( v3 > 0 )
    close(v3);
  return v1;
}
// 2DEC8: using guessed type void *;

//----- (0001A0D8) --------------------------------------------------------
Hi62xxCommon *__fastcall Hi62xxCommon::~Hi62xxCommon(Hi62xxCommon *this)
{
  Hi62xxCommon *v1; // r4@1

  v1 = this;
  Hi62xxCommon::~Hi62xxCommon(this);
  operator delete((void *)v1);
  return v1;
}

//----- (0001A0EC) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::updateDirtyRegion(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r5@1
  int *v5; // r12@6
  _DWORD *v6; // lr@6
  int v7; // t1@7
  HwcConfig *v8; // r0@10
  const char *v9; // r1@12
  const char *v10; // r2@12
  const char *v11; // r3@12
  HwcConfig *v12; // r0@13
  signed int v13; // [sp+0h] [bp-28h]@12

  v2 = a1;
  v3 = a2;
  if ( *(_DWORD *)(a1 + 20) == *(_DWORD *)a2 )
  {
    a1 = *(_DWORD *)(a1 + 24);
    if ( a1 == *(_DWORD *)(a2 + 4) && *(_DWORD *)(v2 + 28) == *(_DWORD *)(a2 + 8) )
    {
      a1 = *(_DWORD *)(v2 + 32);
      if ( a1 == *(_DWORD *)(a2 + 12) )
        return 1;
    }
  }
  v5 = (int *)a2;
  v6 = (_DWORD *)(v2 + 20);
  do
  {
    v7 = *v5;
    ++v5;
    *v6 = v7;
    ++v6;
  }
  while ( v5 != (int *)(a2 + 16) );
  if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: Partial update region x/y/w/h %d/%d/%d/%d",
      "updateDirtyRegion",
      1019,
      *(_DWORD *)(v2 + 20),
      *(_DWORD *)(v2 + 24),
      *(_DWORD *)(v2 + 28),
      *(_DWORD *)(v2 + 32));
  v8 = *(HwcConfig **)(v2 + 4);
  if ( (signed int)v8 >= 0 )
  {
    v12 = (HwcConfig *)ioctl((int)v8, 0x40104DA1u, v3);
    if ( !v12 )
      return 1;
    if ( HwcConfig::GetDebugLevel(v12) >= 0 )
    {
      v13 = 1027;
      v9 = "hwcomposer";
      v10 = "%s:%d:  Partial update set dirty area failed .";
      v11 = "updateDirtyRegion";
      goto LABEL_16;
    }
  }
  else if ( HwcConfig::GetDebugLevel(v8) >= 0 )
  {
    v13 = 1022;
    v9 = "hwcomposer";
    v10 = "%s:%d: devices are not opened!! ";
    v11 = "updateDirtyRegion";
LABEL_16:
    _android_log_print(6, v9, v10, v11, v13);
    return 0;
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001A1DC) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::waitAllAcquireFenceFd(HwcConfig *a1, int a2, int a3)
{
  HwcConfig *v3; // r6@1
  int v4; // r4@4
  int v5; // r5@4
  signed int result; // r0@10
  int v7; // [sp+4h] [bp-24h]@1
  int v8; // [sp+8h] [bp-20h]@1

  v7 = a2;
  v8 = a3;
  v3 = a1;
  if ( a2 )
  {
    v4 = a2 + 28;
    v5 = a2 + 1536;
    do
    {
      if ( *(_DWORD *)v4 )
      {
        if ( HwcConfig::GetDebugLevel(a1) > 2 )
          _android_log_print(
            3,
            "hwcomposer",
            "%s:%d: wait layer%d fence",
            "waitAllAcquireFenceFd",
            1047,
            *(_DWORD *)(v4 - 28),
            v8);
        a1 = (HwcConfig *)(*(int (__fastcall **)(HwcConfig *, _DWORD))(*(_DWORD *)v3 + 40))(v3, *(_DWORD *)(v4 + 84));
      }
      v4 += 116;
    }
    while ( v4 != v5 );
    result = 0;
  }
  else
  {
    if ( HwcConfig::GetDebugLevel(a1) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: NULL ptr!", "waitAllAcquireFenceFd", 1037, v7, v8);
    result = 1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001A278) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::commit(int a1, int a2, HwcConfig **a3)
{
  int v3; // r5@1
  _DWORD *v4; // r4@1
  HwcConfig **v5; // r6@1
  HwcConfig *v6; // r0@1
  signed int result; // r0@5
  HwcConfig *v8; // r0@6
  int v9; // r2@11
  HwcConfig *v10; // r0@12
  HwcConfig *v11; // r5@12
  HwcConfig *v12; // r0@17

  v3 = a1;
  v4 = (_DWORD *)a2;
  v5 = a3;
  *(_DWORD *)(a2 + 8) = *(_WORD *)(a1 + 38);
  v6 = *(HwcConfig **)(a1 + 36);
  *(_DWORD *)(a2 + 4) = v6;
  if ( *(_DWORD *)(v3 + 4) < 0 || *(_DWORD *)(v3 + 8) < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v6) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: devices are not opened!! ", "commit", 531);
    return 0;
  }
  v8 = (HwcConfig *)HwcConfig::GetDebugLevel(v6);
  if ( (signed int)v8 > 2 )
    v8 = (HwcConfig *)_android_log_print(
                        3,
                        "hwcomposer",
                        "%s:%d: ======= commit ======= composer info: \n"
                        "is_finished  (%d), \t compose mode (%d), \t compose pattern num (%d) \n"
                        "dst_rotation (%d), \t dst_rect xywh (%d,%d,%d,%d), \t src_rect xywh (%d,%d,%d,%d) \n"
                        "offline_dst_format (%d), \t offline_dst_rect xywh (%d,%d,%d,%d) \n"
                        "offline_phy_addr (0x%x), \t offline_stride (%d), \t offline_frame_phy_addr (0x%x) \n"
                        "rot_height (%d), \t rot_width (%d), \t offline_frame_share_fd (%d) \n"
                        "wifi_dst_format (%d), \t wifi_phy_addr (0x%x), \t wifi_stride (%d)\n"
                        "wifi_dst_rect xywh (%d,%d,%d,%d), \t wifi_src_rect xywh (%d,%d,%d,%d)\n"
                        "scl2_src_rect xywh (%d,%d,%d,%d), \t scl2_dst_rect xywh (%d,%d,%d,%d)\n",
                        "commit",
                        587,
                        *v4,
                        v4[2],
                        v4[1],
                        *((_BYTE *)v4 + 100),
                        v4[32],
                        v4[33],
                        v4[34],
                        v4[35],
                        v4[28],
                        v4[29],
                        v4[30],
                        v4[31],
                        v4[5],
                        v4[8],
                        v4[9],
                        v4[10],
                        v4[11],
                        v4[3],
                        v4[6],
                        v4[4],
                        v4[27],
                        v4[26],
                        v4[7],
                        v4[13],
                        v4[12],
                        v4[14],
                        v4[20],
                        v4[21],
                        v4[22],
                        v4[23],
                        v4[16],
                        v4[17],
                        v4[18],
                        v4[19],
                        v4[36],
                        v4[37],
                        v4[38],
                        v4[39],
                        v4[40],
                        v4[41],
                        v4[42],
                        v4[43]);
  if ( *v4 == 1 )
  {
    v4[44] = -1;
    if ( HwcConfig::GetDebugLevel(v8) > 1 )
      _android_log_print(4, "hwcomposer", "%s:%d: frame number: %u", "commit", 593, dword_2FC8C);
    v9 = dword_2FC8C + 1;
    v4[45] = dword_2FC8C;
    dword_2FC8C = v9;
  }
  v10 = (HwcConfig *)ioctl(*(_DWORD *)(v3 + 8), 0x40B84D89u, v4);
  v11 = v10;
  if ( v10 )
  {
    if ( HwcConfig::GetDebugLevel(v10) >= 0 )
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: commit failed!! ret:%d, frame_number:%u, \n"
        "is_finished  (%d), \t compose mode (%d), \t compose pattern num (%d) \n"
        "dst_rotation (%d), \t dst_rect xywh (%d,%d,%d,%d), \t src_rect xywh (%d,%d,%d,%d) \n"
        "offline_dst_format (%d), \t offline_dst_rect xywh (%d,%d,%d,%d) \n"
        "offline_phy_addr (0x%x), \t offline_stride (%d), \t offline_frame_phy_addr (0x%x) \n"
        "rot_height (%d), \t rot_width (%d), \t offline_frame_share_fd (%d) \n"
        "wifi_dst_format (%d), \t wifi_phy_addr (0x%x), \t wifi_stride (%d)\n"
        "wifi_dst_rect xywh (%d,%d,%d,%d), \t wifi_src_rect xywh (%d,%d,%d,%d)\n"
        "scl2_src_rect xywh (%d,%d,%d,%d), \t scl2_dst_rect xywh (%d,%d,%d,%d)\n",
        "commit",
        654,
        v11,
        dword_2FC8C - 1,
        *v4,
        v4[2],
        v4[1],
        *((_BYTE *)v4 + 100),
        v4[32],
        v4[33],
        v4[34],
        v4[35],
        v4[28],
        v4[29],
        v4[30],
        v4[31],
        v4[5],
        v4[8],
        v4[9],
        v4[10],
        v4[11],
        v4[3],
        v4[6],
        v4[4],
        v4[27],
        v4[26],
        v4[7],
        v4[13],
        v4[12],
        v4[14],
        v4[20],
        v4[21],
        v4[22],
        v4[23],
        v4[16],
        v4[17],
        v4[18],
        v4[19],
        v4[36],
        v4[37],
        v4[38],
        v4[39],
        v4[40],
        v4[41],
        v4[42],
        v4[43]);
    return 0;
  }
  if ( *v4 != 1
    || (v12 = (HwcConfig *)v4[44], v12 == (HwcConfig *)-1)
    || (*v5 = v12, HwcConfig::GetDebugLevel(v12) <= 2) )
  {
    result = 1;
  }
  else
  {
    _android_log_print(3, "hwcomposer", "%s:%d: releaseFenceFd=%d\n", "commit", 660, v4[44]);
    result = 1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 2FC8C: using guessed type int dword_2FC8C;

//----- (0001A580) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setOverlayLayerInfo(int a1, int a2)
{
  int v2; // r5@1
  _DWORD *v3; // r4@1
  const char *v4; // r1@3
  const char *v5; // r2@3
  const char *v6; // r3@3
  HwcConfig *v8; // r0@11
  HwcConfig *v9; // r5@11
  signed int v10; // [sp+0h] [bp-50h]@3

  v2 = a1;
  v3 = (_DWORD *)a2;
  if ( !a2 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) >= 0 )
    {
      v10 = 947;
      v4 = "hwcomposer";
      v5 = "%s:%d: NULL ptr!";
      v6 = "setOverlayLayerInfo";
LABEL_7:
      _android_log_print(6, v4, v5, v6, v10);
      return 0;
    }
    return 0;
  }
  if ( *(_DWORD *)(a1 + 8) < 0 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) >= 0 )
    {
      v10 = 952;
      v5 = "%s:%d: devices are not opened!! ";
      v6 = "setOverlayLayerInfo";
      v4 = "hwcomposer";
      goto LABEL_7;
    }
    return 0;
  }
  if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: ============set overlay layer info======== \n"
      "type(%d), \t ch_num(%d),  \t surface_num(%d)\n"
      "rotation(%d),  \t phy_addr(0x%x), \t dst_phy_addr(0x%x)\n"
      "stride(%d),  \t width(%d), \t height(%d)\n"
      "dst_format(%d), \t format(%d), \t wdma_num(%d),\n"
      "dst_stride (%d)\n",
      "setOverlayLayerInfo",
      976,
      *v3,
      v3[1],
      v3[2],
      v3[3],
      v3[13],
      v3[14],
      v3[15],
      v3[17],
      v3[18],
      v3[12],
      v3[19],
      v3[20],
      v3[16]);
  v8 = (HwcConfig *)ioctl(*(_DWORD *)(v2 + 8), 0x40584D8Du, v3);
  v9 = v8;
  if ( v8 )
  {
    if ( HwcConfig::GetDebugLevel(v8) >= 0 )
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: set overlayerinfo fail! ret:%d \n"
        "type(%d), \t ch_num(%d),  \t surface_num(%d)\n"
        "rotation(%d),  \t phy_addr(0x%x), \t dst_phy_addr(0x%x)\n"
        "stride(%d),  \t width(%d), \t height(%d)\n"
        "dst_format(%d), \t format(%d), \t wdma_num(%d),\n"
        "dst_stride (%d)\n",
        "setOverlayLayerInfo",
        1001,
        v9,
        *v3,
        v3[1],
        v3[2],
        v3[3],
        v3[13],
        v3[14],
        v3[15],
        v3[17],
        v3[18],
        v3[12],
        v3[19],
        v3[20],
        v3[16]);
    return 0;
  }
  if ( HwcConfig::GetDebugLevel(0) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: set overlayerinfo success!", "setOverlayLayerInfo", 1005);
  return 1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001A6F4) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::enableVsync(Hi62xxCommon *this, int a2, int a3, int a4)
{
  HwcConfig *v4; // r0@1
  const char *v5; // r1@3
  const char *v6; // r3@3
  const char *v7; // r2@3
  HwcConfig *v9; // r0@6
  signed int v10; // [sp+0h] [bp-18h]@3
  int v11; // [sp+4h] [bp-14h]@1
  int v12; // [sp+8h] [bp-10h]@1
  int v13; // [sp+Ch] [bp-Ch]@1

  v11 = a2;
  v12 = a3;
  v13 = a4;
  v4 = (HwcConfig *)*((_DWORD *)this + 1);
  if ( (signed int)v4 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v4) < 0 )
      return -1;
    v10 = 1066;
    v5 = "hwcomposer";
    v6 = "enableVsync";
    v7 = "%s:%d: devices are not opened!! ";
LABEL_4:
    _android_log_print(6, v5, v7, v6, v10, v11, v12);
    return -1;
  }
  v13 = a2;
  v9 = (HwcConfig *)ioctl((int)v4, 0x40044D84u, &v13);
  if ( (signed int)v9 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v9) < 0 )
      return -1;
    v10 = 1073;
    v7 = "%s:%d: vsync ioctl failed \n";
    v6 = "enableVsync";
    v5 = "hwcomposer";
    goto LABEL_4;
  }
  if ( HwcConfig::GetDebugLevel(v9) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: VSYNC set %d", "enableVsync", 1077, v13, v12);
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001A7A4) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::enableVirtDisp(Hi62xxCommon *this, int a2, int a3, int a4)
{
  HwcConfig *v4; // r0@1
  const char *v5; // r1@3
  const char *v6; // r3@3
  const char *v7; // r2@3
  HwcConfig *v9; // r0@6
  signed int v10; // [sp+0h] [bp-18h]@3
  int v11; // [sp+4h] [bp-14h]@1
  int v12; // [sp+8h] [bp-10h]@1
  int v13; // [sp+Ch] [bp-Ch]@1

  v11 = a2;
  v12 = a3;
  v13 = a4;
  v4 = (HwcConfig *)*((_DWORD *)this + 1);
  if ( (signed int)v4 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v4) < 0 )
      return -1;
    v10 = 1084;
    v5 = "hwcomposer";
    v6 = "enableVirtDisp";
    v7 = "%s:%d: devices are not opened!! ";
LABEL_4:
    _android_log_print(6, v5, v7, v6, v10, v11, v12);
    return -1;
  }
  v13 = a2;
  v9 = (HwcConfig *)ioctl((int)v4, 0x40044DA2u, &v13);
  if ( (signed int)v9 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v9) < 0 )
      return -1;
    v10 = 1091;
    v7 = "%s:%d: FB_SET_VIRT_DISP ioctl failed \n";
    v6 = "enableVirtDisp";
    v5 = "hwcomposer";
    goto LABEL_4;
  }
  if ( HwcConfig::GetDebugLevel(v9) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: FB_SET_VIRT_DISP set %d", "enableVirtDisp", 1095, v13, v12);
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001A854) --------------------------------------------------------
int __fastcall Hi62xxCommon::isPartialUpdatesEnabled(Hi62xxCommon *this)
{
  HwcConfig *v1; // r0@1
  const char *v2; // r1@3
  const char *v3; // r2@3
  const char *v4; // r3@3
  int result; // r0@5
  signed int v6; // [sp+0h] [bp-58h]@3
  char v7; // [sp+8h] [bp-50h]@6
  unsigned __int16 v8; // [sp+46h] [bp-12h]@9
  int v9; // [sp+4Ch] [bp-Ch]@1

  v1 = (HwcConfig *)*((_DWORD *)this + 1);
  v9 = _stack_chk_guard;
  if ( (signed int)v1 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v1) < 0 )
    {
LABEL_5:
      result = 0;
      goto LABEL_10;
    }
    v6 = 1102;
    v2 = "hwcomposer";
    v3 = "%s:%d: devices are not opened!! ";
    v4 = "isPartialUpdatesEnabled";
LABEL_4:
    _android_log_print(6, v2, v3, v4, v6);
    goto LABEL_5;
  }
  if ( ioctl((int)v1, 0x4602u, &v7) == -1 )
  {
    if ( HwcConfig::GetDebugLevel(0) < 0 )
      goto LABEL_5;
    v6 = 1108;
    v2 = "hwcomposer";
    v4 = "isPartialUpdatesEnabled";
    v3 = "%s:%d: ioctl(FBIOGET_FSCREENINFO) failed.";
    goto LABEL_4;
  }
  result = (unsigned int)v8 - 1 <= 0;
LABEL_10:
  if ( v9 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (0001A8F4) --------------------------------------------------------
int __fastcall Hi62xxCommon::isCmdPanel(Hi62xxCommon *this)
{
  HwcConfig *v1; // r0@1
  const char *v2; // r1@3
  const char *v3; // r2@3
  const char *v4; // r3@3
  int result; // r0@5
  signed int v6; // [sp+0h] [bp-58h]@3
  char v7; // [sp+8h] [bp-50h]@6
  unsigned __int16 v8; // [sp+46h] [bp-12h]@9
  int v9; // [sp+4Ch] [bp-Ch]@1

  v1 = (HwcConfig *)*((_DWORD *)this + 1);
  v9 = _stack_chk_guard;
  if ( (signed int)v1 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v1) < 0 )
    {
LABEL_5:
      result = 0;
      goto LABEL_10;
    }
    v6 = 1124;
    v2 = "hwcomposer";
    v3 = "%s:%d: devices are not opened!! ";
    v4 = "isCmdPanel";
LABEL_4:
    _android_log_print(6, v2, v3, v4, v6);
    goto LABEL_5;
  }
  if ( ioctl((int)v1, 0x4602u, &v7) == -1 )
  {
    if ( HwcConfig::GetDebugLevel(0) < 0 )
      goto LABEL_5;
    v6 = 1130;
    v2 = "hwcomposer";
    v4 = "isCmdPanel";
    v3 = "%s:%d: ioctl(FBIOGET_FSCREENINFO) failed.";
    goto LABEL_4;
  }
  result = (unsigned int)v8 - 1 <= 0;
LABEL_10:
  if ( v9 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (0001A994) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::panDisplay(Hi62xxCommon *this, int a2)
{
  Hi62xxCommon *v2; // r5@1
  int v3; // r4@1
  HwcConfig *v4; // r0@1
  const char *v5; // r1@3
  const char *v6; // r2@3
  const char *v7; // r3@3
  int v9; // r2@6
  int v10; // r0@6
  HwcConfig *v11; // r0@6
  signed int v12; // [sp+0h] [bp-B8h]@3
  char v13; // [sp+8h] [bp-B0h]@1
  int v14; // [sp+1Ch] [bp-9Ch]@6
  int v15; // [sp+5Ch] [bp-5Ch]@6

  v2 = this;
  v3 = a2;
  v4 = (HwcConfig *)ioctl(*((_DWORD *)this + 1), 0x4600u, &v13);
  if ( (signed int)v4 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v4) < 0 )
      return -1;
    v12 = 1236;
    v5 = "hwcomposer";
    v6 = "%s:%d: ioctl(FBIOGET_FSCREENINFO) failed.";
    v7 = "panDisplay";
LABEL_4:
    _android_log_print(6, v5, v6, v7, v12);
    return -1;
  }
  v9 = (v3 - *((_DWORD *)v2 + 12)) / *((_DWORD *)v2 + 13);
  v10 = *((_DWORD *)v2 + 1);
  v15 = 16;
  v14 = v9;
  v11 = (HwcConfig *)ioctl(v10, 0x4606u, &v13);
  if ( (signed int)v11 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v11) < 0 )
      return -1;
    v12 = 1246;
    v5 = "hwcomposer";
    v6 = "%s:%d: FBIOPAN_DISPLAY failed";
    v7 = "panDisplay";
    goto LABEL_4;
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001AA30) --------------------------------------------------------
HwcConfig *__fastcall Hi62xxCommon::setClockRate(int a1, int a2, int a3)
{
  HwcConfig *v3; // r0@1
  const char *v4; // r1@3
  const char *v5; // r2@3
  const char *v6; // r3@3
  HwcConfig *v7; // r4@5
  HwcConfig *v8; // r0@6
  signed int v10; // [sp+0h] [bp-20h]@3
  int v11; // [sp+10h] [bp-10h]@1
  int v12; // [sp+14h] [bp-Ch]@1

  v3 = *(HwcConfig **)(a1 + 8);
  v11 = a2;
  v12 = a3;
  if ( (signed int)v3 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v3) < 0 )
      return (HwcConfig *)-1;
    v10 = 1255;
    v4 = "hwcomposer";
    v5 = "%s:%d: devices are not opened!! ";
    v6 = "setClockRate";
LABEL_4:
    _android_log_print(6, v4, v5, v6, v10);
    return (HwcConfig *)-1;
  }
  v8 = (HwcConfig *)ioctl((int)v3, 0x40084DA3u, &v11);
  v7 = v8;
  if ( v8 )
  {
    if ( HwcConfig::GetDebugLevel(v8) < 0 )
      return (HwcConfig *)-1;
    v10 = 1260;
    v4 = "hwcomposer";
    v5 = "%s:%d: set ade clock_rate failed!! ";
    v6 = "setClockRate";
    goto LABEL_4;
  }
  if ( HwcConfig::GetDebugLevel(0) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: set ade clock_rate %u  command 0x%x success",
      "setClockRate",
      1264,
      v11,
      v12);
  return v7;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001AAE8) --------------------------------------------------------
int __fastcall Hi62xxCommon::waitSingleAcquireFenceFd(int result, int a2)
{
  int v2; // r4@1
  int v3; // r2@2
  int v4; // r3@2

  v2 = a2;
  if ( a2 != -1 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)result) > 2 )
      _android_log_print(3, "hwcomposer", "%s:%d: wait fencefd=%d", "waitSingleAcquireFenceFd", 1058, v2);
    result = j_j_sync_wait(v2, 4000, v3, v4);
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001AB34) --------------------------------------------------------
_DWORD *__fastcall Hi62xxCommon::Hi62xxCommon(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int v2; // r3@1
  HwcConfig *v3; // r0@1
  int v4; // r0@2
  int v5; // r1@2
  int *v6; // r0@3
  char *v7; // r0@3
  bool v8; // nf@4
  signed int v9; // r3@4
  int v10; // r0@4
  signed int v11; // r2@5
  HwcConfig *v12; // r0@12
  int v13; // r6@12
  HwcConfig *v14; // r0@14
  int v15; // r0@15
  int v16; // r1@15
  int *v17; // r0@16
  char *v18; // r0@16
  _DWORD *result; // r0@20
  int v20; // [sp+18h] [bp-F8h]@4
  int v21; // [sp+1Ch] [bp-F4h]@5
  char v22; // [sp+B8h] [bp-58h]@9
  HwcConfig *v23; // [sp+C8h] [bp-48h]@12
  int v24; // [sp+E4h] [bp-2Ch]@12
  int v25; // [sp+FCh] [bp-14h]@1

  v1 = a1;
  v2 = _stack_chk_guard;
  *a1 = &off_2DEC8;
  v25 = v2;
  v3 = (HwcConfig *)open("/dev/graphics/fb0", 2, 0);
  v1[1] = v3;
  if ( (signed int)v3 >= 0 )
  {
    v8 = ioctl((int)v3, 0x4600u, &v20) < 0;
    v10 = v1[1];
    if ( v8 )
    {
      v11 = 480;
      v9 = 320;
    }
    else
    {
      v11 = v21;
    }
    if ( !v8 )
      v9 = v20;
    v1[4] = v11;
    v1[3] = v9;
    if ( ioctl(v10, 0x4602u, &v22) == -1 )
    {
      if ( HwcConfig::GetDebugLevel(0) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: FBIOGET_FSCREENINFO failed!! ", "Hi62xxCommon", 42);
    }
    else
    {
      v12 = v23;
      v13 = v24;
      v1[12] = v23;
      v1[13] = v13;
      if ( HwcConfig::GetDebugLevel(v12) > 2 )
        _android_log_print(
          3,
          "hwcomposer",
          "%s:%d: smem_start = 0x%x, line_length = %d",
          "Hi62xxCommon",
          47,
          v1[12],
          v1[13]);
    }
    v14 = (HwcConfig *)open("/dev/graphics/ade", 2, 0);
    v1[2] = v14;
    if ( (signed int)v14 >= 0 )
    {
      v1[5] = 0;
      v1[6] = 0;
      v1[7] = 0;
      v1[8] = 0;
      v1[9] = 0;
      v1[10] = 0;
      v1[11] = 0;
      *((_BYTE *)v1 + 56) = 0;
      if ( HwcConfig::GetDebugLevel(v14) > 2 )
        _android_log_print(
          3,
          "hwcomposer",
          "%s:%d: mFdFb=%d, mFdCompose=%d DisplayW=%d, DisplayH=%d",
          "Hi62xxCommon",
          65,
          v1[1],
          v1[2],
          v1[3],
          v1[4]);
    }
    else
    {
      v15 = HwcConfig::GetDebugLevel(v14);
      if ( v15 >= 0 )
      {
        v17 = (int *)_errno(v15, v16);
        v18 = strerror(*v17);
        _android_log_print(6, "hwcomposer", "%s:%d: open ADE device failed!! error = %s", "Hi62xxCommon", 51, v18);
      }
      close(v1[1]);
    }
  }
  else
  {
    v4 = HwcConfig::GetDebugLevel(v3);
    if ( v4 >= 0 )
    {
      v6 = (int *)_errno(v4, v5);
      v7 = strerror(*v6);
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: Failed to open device %s, error = %s",
        "Hi62xxCommon",
        25,
        "/dev/graphics/fb0",
        v7);
    }
  }
  result = v1;
  if ( v25 != _stack_chk_guard )
    _stack_chk_fail(v1);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);
// 2DEC8: using guessed type void *off_2DEC8;

//----- (0001ACF4) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setScaleFactor(HwcConfig *a1, int _R1, int a3)
{
  int v3; // r4@1
  const char *v4; // r1@3
  const char *v5; // r2@3
  const char *v6; // r3@3
  int v11; // r3@4
  int v13; // r2@4
  int v14; // r1@4
  signed int result; // r0@14
  unsigned int v19; // r2@15
  signed int v20; // [sp+0h] [bp-18h]@3
  int v21; // [sp+4h] [bp-14h]@1
  int v22; // [sp+8h] [bp-10h]@1

  v21 = _R1;
  v22 = a3;
  v3 = a3;
  if ( !a3 )
  {
    if ( HwcConfig::GetDebugLevel(a1) >= 0 )
    {
      v20 = 170;
      v4 = "hwcomposer";
      v5 = "%s:%d: invalid layer NULL pointer!! ";
      v6 = "setScaleFactor";
LABEL_13:
      _android_log_print(6, v4, v5, v6, v20, v21, v22);
      return 0;
    }
    return 0;
  }
  __asm
  {
    VLDR            S15, [R1,#0x20]
    VMOV.F32        S13, #0.5
    VLDR            S14, [R1,#0x18]
    VLDR            S11, [R1,#0x24]
    VLDR            S12, [R1,#0x1C]
  }
  v11 = *(_DWORD *)(_R1 + 48);
  _R0 = *(HwcConfig **)(_R1 + 40);
  v13 = *(_DWORD *)(_R1 + 52);
  __asm { VSUB.F32        S0, S15, S14 }
  v14 = *(_DWORD *)(_R1 + 44);
  __asm
  {
    VSUB.F32        S3, S11, S12
    VADD.F32        S1, S0, S13
    VADD.F32        S4, S3, S13
    VCVTR.S32.F32   S2, S1
    VCVTR.S32.F32   S5, S4
    VMOV            R5, S2
  }
  if ( _R5 <= 0 )
    goto LABEL_24;
  __asm { VMOV            R5, S5 }
  if ( _R5 <= 0 )
  {
LABEL_24:
    if ( HwcConfig::GetDebugLevel(_R0) >= 0 )
    {
      v20 = 182;
      v4 = "hwcomposer";
      v5 = "%s:%d: invalid layer src rect!! ";
      v6 = "setScaleFactor";
      goto LABEL_13;
    }
    return 0;
  }
  _R3 = v11 - (_DWORD)_R0;
  __asm { VMOV            S6, R3 }
  if ( (unsigned __int8)(_NF ^ _VF) | _ZF )
    goto LABEL_25;
  _R0 = (HwcConfig *)(v13 - v14);
  __asm { VMOV            S7, R0 }
  if ( (unsigned __int8)(_NF ^ _VF) | _ZF )
  {
LABEL_25:
    if ( HwcConfig::GetDebugLevel(_R0) >= 0 )
    {
      v20 = 186;
      v4 = "hwcomposer";
      v5 = "%s:%d: invalid layer dst rect!! ";
      v6 = "setScaleFactor";
      goto LABEL_13;
    }
    return 0;
  }
  v19 = *(_DWORD *)(v3 + 36);
  if ( v19 > 7 )
    goto LABEL_26;
  if ( (1 << v19) & 0xCA )
  {
    __asm
    {
      VCVT.F32.S32    S8, S5
      VCVT.F32.S32    S9, S6
      VCVT.F32.S32    S10, S2
      VCVT.F32.S32    S15, S7
      VDIV.F32        S13, S8, S9
      VDIV.F32        S11, S10, S15
    }
    goto LABEL_21;
  }
  if ( !((1 << v19) & 0x35) )
  {
LABEL_26:
    __asm
    {
      VMOV.F32        S13, #1.0
      VMOV.F32        S11, S13
    }
    goto LABEL_21;
  }
  __asm
  {
    VCVT.F32.S32    S14, S2
    VCVT.F32.S32    S0, S6
    VCVT.F32.S32    S1, S5
    VCVT.F32.S32    S2, S7
    VDIV.F32        S13, S14, S0
    VDIV.F32        S11, S1, S2
  }
LABEL_21:
  result = 1;
  __asm
  {
    VSTR            S13, [R4,#0x5C]
    VSTR            S11, [R4,#0x60]
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001AE30) --------------------------------------------------------
int __fastcall Hi62xxCommon::setRectsInternal(float a1, float _R1, float _R2, int _R3, int a5, int a6, int a7)
{
  float v7; // r4@1
  const char *v12; // r1@3
  const char *v13; // r2@3
  const char *v14; // r3@3
  int v25; // r2@12
  int v26; // r5@12
  int v27; // r5@13
  int v28; // r6@13
  int v29; // r2@14
  int v30; // r7@14
  int v31; // r7@15
  int v32; // r6@15
  int v33; // r3@16
  int v34; // r5@22
  int v35; // r6@25
  int v36; // r3@27
  int v37; // r1@28
  int v38; // r0@28
  int v39; // r7@30
  int v40; // r3@38
  int v41; // r6@38
  int v42; // r0@38
  int v43; // r1@38
  int v44; // r2@40
  int v45; // r3@42
  int v46; // r7@42
  int v47; // r6@53
  HwcConfig *v48; // r0@56
  signed int v50; // [sp+0h] [bp-60h]@3

  v7 = _R2;
  __asm { VMOV            S12, R3 }
  if ( _R2 == 0.0 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)LODWORD(a1)) >= 0 )
    {
      v50 = 289;
      v12 = "hwcomposer";
      v13 = "%s:%d: invalid layer NULL pointer!! ";
      v14 = "setRectsInternal";
LABEL_62:
      _android_log_print(6, v12, v13, v14, v50);
      return 0;
    }
    return 0;
  }
  __asm
  {
    VLDR            S10, [R1,#0x18]
    VCMPE.F32       S10, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
    goto LABEL_67;
  __asm
  {
    VLDR            S11, [R1,#0x1C]
    VCMPE.F32       S11, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
    goto LABEL_67;
  __asm
  {
    VLDR            S13, [R1,#0x20]
    VCMPE.F32       S13, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( !(!_ZF & _CF) )
    goto LABEL_67;
  __asm
  {
    VLDR            S14, [R1,#0x24]
    VCMPE.F32       S14, #0.0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( !(!_ZF & _CF) )
  {
LABEL_67:
    if ( HwcConfig::GetDebugLevel((HwcConfig *)LODWORD(a1)) >= 0 )
    {
      v50 = 295;
      v12 = "hwcomposer";
      v13 = "%s:%d: invalid layer src rect !! ";
      v14 = "setRectsInternal";
      goto LABEL_62;
    }
    return 0;
  }
  __asm
  {
    VMOV.F32        S15, #0.5
    VLDR            S8, [R2,#0x5C]
    VCVT.F32.U32    S12, S12
    VLDR            S9, [R2,#0x60]
    VADD.F32        S7, S10, S15
    VSUB.F32        S10, S13, S10
    VADD.F32        S3, S13, S15
    VADD.F32        S1, S11, S15
    VADD.F32        S5, S14, S15
    VSUB.F32        S11, S14, S11
    VCVTR.U32.F32   S0, S7
    VADD.F32        S13, S10, S15
    VCVTR.U32.F32   S4, S3
    VCVTR.U32.F32   S2, S1
    VMOV.F32        S1, S15
    VCVTR.U32.F32   S6, S5
    VADD.F32        S14, S11, S15
    VMOV            R9, S0
    VCVTR.U32.F32   S7, S13
    VMLA.F32        S1, S12, S8
    VMOV            R11, S4
    VLDR            S12, [SP,#0x60+arg_8]
    VLDR            S4, [SP,#0x60+arg_0]
    VCVTR.U32.F32   S0, S14
    VMOV            R1, S6
    VMOV.F32        S14, S15
    VMOV.F32        S6, S15
    VMOV            R8, S2
    VMOV            R3, S7
    VLDR            S7, [SP,#0x60+arg_4]
    VCVTR.U32.F32   S3, S1
    VCVT.F32.U32    S1, S12
    VCVT.F32.U32    S5, S4
    VMOV            R7, S0
    VCVT.F32.U32    S11, S7
    VMOV            LR, S3
    VMLA.F32        S15, S1, S9
    VMLA.F32        S6, S5, S9
    VMLA.F32        S14, S11, S8
    VCVTR.U32.F32   S9, S15
    VCVTR.U32.F32   S13, S6
    VCVTR.U32.F32   S0, S14
    VMOV            R12, S9
    VMOV            R6, S13
    VMOV            R10, S0
  }
  switch ( *(_DWORD *)(LODWORD(_R2) + 36) )
  {
    case 0:
      v25 = _R3 - _LR - _R10;
      v26 = _R7 - _R6 - _R12;
      goto LABEL_25;
    case 1:
      v27 = _R3 - _R6;
      LODWORD(a1) = _R10 + _R8;
      v28 = _R6 + _R9;
      v25 = _R7 - _LR - _R10;
      v26 = v27 - _R12;
      *(_DWORD *)(LODWORD(v7) + 44) = v28;
      *(_DWORD *)(LODWORD(v7) + 48) = _R10 + _R8;
      *(_DWORD *)(LODWORD(v7) + 60) = _R7 - _R1 + _LR;
      goto LABEL_23;
    case 3:
      v29 = _R7 - _LR;
      v30 = _LR + _R8;
      v25 = v29 - _R10;
      v26 = _R3 - _R6 - _R12;
      *(_DWORD *)(LODWORD(v7) + 44) = _R12 + _R9;
      *(_DWORD *)(LODWORD(v7) + 48) = _LR + _R8;
      goto LABEL_21;
    case 4:
      v31 = _R7 - _R6;
      LODWORD(a1) = _R10 + _R9;
      v32 = _R6 + _R8;
      v25 = _R3 - _LR - _R10;
      v26 = v31 - _R12;
      *(_DWORD *)(LODWORD(v7) + 44) = _R10 + _R9;
      *(_DWORD *)(LODWORD(v7) + 48) = v32;
      *(_DWORD *)(LODWORD(v7) + 60) = _R3 - _R11 + _LR;
      goto LABEL_19;
    case 5:
      LODWORD(a1) = _R12 + _R8;
      v25 = _R3 - _LR - _R10;
      v33 = _LR + _R9;
      *(_DWORD *)(LODWORD(v7) + 48) = _R12 + _R8;
      v26 = _R7 - _R6 - _R12;
      *(_DWORD *)(LODWORD(v7) + 44) = _LR + _R9;
      goto LABEL_18;
    case 2:
      v25 = _R3 - _LR - _R10;
      v26 = _R7 - _R6 - _R12;
      *(_DWORD *)(LODWORD(v7) + 44) = _R10 + _R9;
      v33 = _R3 - _R11 + _LR;
      LODWORD(a1) = _R12 + _R8;
      *(_DWORD *)(LODWORD(v7) + 48) = _R12 + _R8;
LABEL_18:
      *(_DWORD *)(LODWORD(v7) + 60) = v33;
      v32 = _R6 + _R7 - _R1;
LABEL_19:
      *(_DWORD *)(LODWORD(v7) + 64) = v32;
      goto LABEL_26;
    case 6:
      v26 = _R3 - _R6 - _R12;
      v25 = _R7 - _LR - _R10;
      *(_DWORD *)(LODWORD(v7) + 44) = _R12 + _R9;
      v30 = _R7 - _R1 + _LR;
      LODWORD(a1) = _R10 + _R8;
      *(_DWORD *)(LODWORD(v7) + 48) = _R10 + _R8;
LABEL_21:
      *(_DWORD *)(LODWORD(v7) + 60) = v30;
      v28 = _R6 + _R3 - _R11;
      goto LABEL_23;
    case 7:
      v34 = _R3 - _R6;
      LODWORD(a1) = _R7 - _LR;
      v28 = _R6 + _R9;
      v25 = _R7 - _LR - _R10;
      v26 = v34 - _R12;
      *(_DWORD *)(LODWORD(v7) + 44) = v28;
      *(_DWORD *)(LODWORD(v7) + 48) = _LR + _R8;
      *(_DWORD *)(LODWORD(v7) + 60) = _LR + _R8;
LABEL_23:
      *(_DWORD *)(LODWORD(v7) + 64) = v28;
      *(_DWORD *)(LODWORD(v7) + 52) = v26;
      *(_DWORD *)(LODWORD(v7) + 56) = v25;
      break;
    default:
      v25 = _R3 - _LR - _R10;
      v26 = _R7 - _R6 - _R12;
LABEL_25:
      LODWORD(a1) = _LR + _R9;
      v35 = _R6 + _R8;
      *(_DWORD *)(LODWORD(v7) + 60) = _LR + _R9;
      *(_DWORD *)(LODWORD(v7) + 44) = _LR + _R9;
      *(_DWORD *)(LODWORD(v7) + 64) = v35;
      *(_DWORD *)(LODWORD(v7) + 48) = v35;
LABEL_26:
      *(_DWORD *)(LODWORD(v7) + 52) = v25;
      *(_DWORD *)(LODWORD(v7) + 56) = v26;
      break;
  }
  v36 = *(_DWORD *)(LODWORD(v7) + 100);
  *(_DWORD *)(LODWORD(v7) + 68) = v25;
  *(_DWORD *)(LODWORD(v7) + 72) = v26;
  if ( (v36 & 0xFFFFFFFD) == 16 )
  {
    v37 = *(_DWORD *)(LODWORD(v7) + 44);
    v38 = *(_DWORD *)(LODWORD(v7) + 52);
    if ( v37 << 31 < 0 )
      --v37;
    *(_DWORD *)(LODWORD(v7) + 44) = v37;
    v39 = *(_DWORD *)(LODWORD(v7) + 60);
    if ( v38 << 31 < 0 )
      --v38;
    *(_DWORD *)(LODWORD(v7) + 52) = v38;
    if ( v39 << 31 < 0 )
      --v39;
    LODWORD(a1) = v25 << 31;
    if ( v25 << 31 < 0 )
      --v25;
    *(_DWORD *)(LODWORD(v7) + 60) = v39;
    *(_DWORD *)(LODWORD(v7) + 68) = v25;
  }
  if ( (unsigned int)(v36 - 21) <= 1 )
  {
    v40 = *(_DWORD *)(LODWORD(v7) + 44);
    v41 = *(_DWORD *)(LODWORD(v7) + 48);
    v42 = *(_DWORD *)(LODWORD(v7) + 56);
    v43 = *(_DWORD *)(LODWORD(v7) + 52);
    if ( v40 << 31 < 0 )
      --v40;
    v44 = *(_DWORD *)(LODWORD(v7) + 64);
    if ( v41 << 31 < 0 )
      --v41;
    *(_DWORD *)(LODWORD(v7) + 44) = v40;
    v45 = *(_DWORD *)(LODWORD(v7) + 68);
    v46 = *(_DWORD *)(LODWORD(v7) + 60);
    *(_DWORD *)(LODWORD(v7) + 48) = v41;
    if ( v43 << 31 < 0 )
      --v43;
    if ( v42 << 31 < 0 )
      --v42;
    *(_DWORD *)(LODWORD(v7) + 52) = v43;
    *(_DWORD *)(LODWORD(v7) + 56) = v42;
    LODWORD(a1) = v46 << 31;
    if ( v46 << 31 < 0 )
      --v46;
    if ( v44 << 31 < 0 )
      --v44;
    *(_DWORD *)(LODWORD(v7) + 60) = v46;
    *(_DWORD *)(LODWORD(v7) + 64) = v44;
    if ( v45 << 31 < 0 )
      --v45;
    if ( v26 << 31 >= 0 )
      v47 = v26;
    else
      v47 = v26 - 1;
    *(_DWORD *)(LODWORD(v7) + 68) = v45;
    *(_DWORD *)(LODWORD(v7) + 72) = v47;
  }
  v48 = (HwcConfig *)HwcConfig::GetDebugLevel((HwcConfig *)LODWORD(a1));
  if ( (signed int)v48 > 2 )
    v48 = (HwcConfig *)_android_log_print(
                         3,
                         "hwcomposer",
                         "%s:%d: layer index[%d]: src.x/y/w/h: (%d/%d/%d/%d), dst.x/y/w/h: (%d/%d/%d/%d), srcRotated.x/y/"
                         "w/h: (%d/%d/%d/%d)",
                         "setRectsInternal",
                         445,
                         *(_DWORD *)LODWORD(v7),
                         *(_DWORD *)(LODWORD(v7) + 44),
                         *(_DWORD *)(LODWORD(v7) + 48),
                         *(_DWORD *)(LODWORD(v7) + 52),
                         *(_DWORD *)(LODWORD(v7) + 56),
                         *(_DWORD *)(LODWORD(v7) + 76),
                         *(_DWORD *)(LODWORD(v7) + 80),
                         *(_DWORD *)(LODWORD(v7) + 84),
                         *(_DWORD *)(LODWORD(v7) + 88),
                         *(_DWORD *)(LODWORD(v7) + 60),
                         *(_DWORD *)(LODWORD(v7) + 64),
                         *(_DWORD *)(LODWORD(v7) + 68),
                         *(_DWORD *)(LODWORD(v7) + 72));
  if ( !*(_DWORD *)(LODWORD(v7) + 52) || !*(_DWORD *)(LODWORD(v7) + 56) )
  {
    if ( HwcConfig::GetDebugLevel(v48) >= 0 )
    {
      v50 = 449;
      v13 = "%s:%d: invalid src rect !! ";
      v14 = "setRectsInternal";
      v12 = "hwcomposer";
      goto LABEL_62;
    }
    return 0;
  }
  return 1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001B1F8) --------------------------------------------------------
int __fastcall Hi62xxCommon::setRects(float a1, float a2, float a3, int a4)
{
  int v4; // r8@0
  float v5; // r4@1
  const char *v6; // r1@3
  const char *v7; // r2@3
  const char *v8; // r3@3
  int v9; // r5@4
  int v10; // r2@5
  int v11; // r3@8
  int v12; // r5@8
  int v13; // r2@8
  int v14; // r6@13
  int v15; // r7@17
  int v16; // r5@17
  int v17; // lr@18
  unsigned int v18; // r7@20
  int v19; // r2@20
  unsigned int v20; // r3@20
  unsigned int v21; // r6@20
  unsigned int v22; // r12@20
  int v23; // r7@21
  unsigned int v24; // r5@23
  int v25; // r6@24
  unsigned int v26; // r2@26
  signed int v28; // [sp+0h] [bp-28h]@3
  float v29; // [sp+4h] [bp-24h]@1
  float v30; // [sp+8h] [bp-20h]@1
  int v31; // [sp+Ch] [bp-1Ch]@1

  v29 = a2;
  v30 = a3;
  v31 = a4;
  v5 = a3;
  if ( a3 == 0.0 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)LODWORD(a1)) >= 0 )
    {
      v28 = 461;
      v6 = "hwcomposer";
      v7 = "%s:%d: invalid layer NULL pointer!! ";
      v8 = "setRects";
LABEL_32:
      _android_log_print(6, v6, v7, v8, v28, v29, v30, v31);
      return 0;
    }
    return 0;
  }
  v9 = *(_DWORD *)(LODWORD(a2) + 48);
  if ( v9 <= 0 || (v10 = *(_DWORD *)(LODWORD(a2) + 52), v10 <= 0) )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)LODWORD(a1)) >= 0 )
    {
      v28 = 466;
      v6 = "hwcomposer";
      v7 = "%s:%d: invalid displayFrame!! ";
      v8 = "setRects";
      goto LABEL_32;
    }
    return 0;
  }
  v11 = *(_DWORD *)(LODWORD(a2) + 40);
  v12 = v9 - v11;
  v13 = v10 - *(_DWORD *)(LODWORD(a2) + 44);
  if ( v12 <= 0 || v13 <= 0 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)LODWORD(a1)) >= 0 )
    {
      v28 = 474;
      v7 = "%s:%d: invalid layer dst rect!! ";
      v8 = "setRects";
      v6 = "hwcomposer";
      goto LABEL_32;
    }
    return 0;
  }
  if ( v11 < 0 )
  {
    v14 = 0;
    v4 = -v11;
  }
  else
  {
    v14 = *(_DWORD *)(LODWORD(a2) + 40);
  }
  if ( v11 >= 0 )
    v4 = 0;
  *(_DWORD *)(LODWORD(v5) + 76) = v14;
  v15 = *(_DWORD *)(LODWORD(a2) + 44);
  v16 = v12 - v4;
  if ( v15 >= 0 )
  {
    v17 = 0;
  }
  else
  {
    v17 = -v15;
    v15 = 0;
  }
  *(_DWORD *)(LODWORD(v5) + 80) = v15;
  v18 = *(_DWORD *)(LODWORD(a2) + 48);
  v19 = v13 - v17;
  v20 = *(_DWORD *)(LODWORD(a1) + 12);
  v21 = *(_DWORD *)(LODWORD(a1) + 16);
  v22 = *(_DWORD *)(LODWORD(a2) + 52);
  if ( v18 <= v20 )
    v23 = 0;
  else
    v23 = v18 - v20;
  v24 = v16 - v23;
  if ( v22 <= v21 )
    v25 = 0;
  else
    v25 = v22 - v21;
  v26 = v19 - v25;
  *(_DWORD *)(LODWORD(v5) + 84) = v24;
  *(_DWORD *)(LODWORD(v5) + 88) = v26;
  if ( !v24 || !v26 || v24 > *(_DWORD *)(LODWORD(a1) + 12) || v26 > *(_DWORD *)(LODWORD(a1) + 16) )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)LODWORD(a1)) >= 0 )
    {
      v28 = 510;
      v6 = "hwcomposer";
      v7 = "%s:%d: invalid layer calculated dst rect !! ";
      v8 = "setRects";
      goto LABEL_32;
    }
    return 0;
  }
  return Hi62xxCommon::setRectsInternal(a1, a2, v5, v4, v17, v23, v25);
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001B344) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::detectLayers(HwcConfig *a1, int a2, int a3, int a4)
{
  HwcConfig *v4; // r8@1
  int v5; // r5@1
  int v6; // r7@1
  int v7; // r4@1
  signed int v8; // r6@4
  int v9; // r0@5
  int v10; // r6@5
  signed int v11; // r0@5
  unsigned int v12; // r1@5
  signed int v13; // r3@6
  int v14; // r2@8
  int v15; // r1@8
  int v16; // lr@8
  int v17; // r3@8
  unsigned int v18; // r2@13
  int v19; // r3@20
  unsigned int v20; // r5@26
  int v21; // r7@26
  HwcConfig *v22; // r0@27
  int v24; // [sp+4h] [bp-1Ch]@1

  v24 = a2;
  v4 = a1;
  v5 = a2;
  v6 = a4;
  v7 = a3;
  if ( !a3 )
  {
    if ( HwcConfig::GetDebugLevel(a1) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: invalid layer list NULL pointer!! ", "detectLayers", 223, v24);
    return 0;
  }
  *(_DWORD *)a3 = a4;
  *(_DWORD *)(a3 + 8) = *(_DWORD *)a2;
  v9 = sub_11658(*(_DWORD *)(a2 + 12));
  *(_DWORD *)(v7 + 4) = v9;
  v10 = v9;
  v11 = sub_19C04(*(_DWORD *)(v9 + 20));
  *(_DWORD *)(v7 + 100) = v11;
  v12 = *(_DWORD *)(v5 + 16);
  if ( v12 > 7 )
    v13 = 8;
  else
    v13 = byte_2C050[v12];
  *(_DWORD *)(v7 + 36) = v13;
  *(_DWORD *)(v7 + 32) = *(_DWORD *)(v10 + 32);
  *(_DWORD *)(v7 + 28) = *(_DWORD *)(v10 + 116);
  v14 = *(_DWORD *)(v10 + 88);
  *(_DWORD *)(v7 + 12) = v14;
  v15 = *(_DWORD *)(v10 + 92);
  *(_DWORD *)(v7 + 16) = v15;
  v16 = *(_BYTE *)(v5 + 72);
  v17 = *(_DWORD *)(v5 + 20);
  *(_BYTE *)(v7 + 104) = 1;
  *(_DWORD *)(v7 + 40) = v17 | (v16 << 16);
  *(_DWORD *)(v7 + 20) = 0;
  *(_DWORD *)(v7 + 24) = 0;
  *(_DWORD *)(v7 + 112) = *(_DWORD *)(v5 + 64);
  if ( (v11 & 0xFFFFFFFD) == 16 )
  {
    if ( v14 << 31 < 0 )
      --v14;
    *(_DWORD *)(v7 + 12) = v14;
  }
  if ( (unsigned int)(v11 - 21) <= 1 )
  {
    v18 = *(_DWORD *)(v7 + 12);
    if ( ((v18 << 31) & 0x80000000) != 0 )
      --v18;
    if ( v15 << 31 < 0 )
      --v15;
    *(_DWORD *)(v7 + 12) = v18;
    *(_DWORD *)(v7 + 16) = v15;
    if ( v18 << 28 || v18 <= 0xF )
      *(_DWORD *)(v7 + 20) = *(_DWORD *)(v10 + 156) - v18;
  }
  v8 = Hi62xxCommon::setScaleFactor(v4, v5, v7);
  if ( !v8 )
  {
    if ( HwcConfig::GetDebugLevel(0) >= 0 )
    {
      _android_log_print(6, "hwcomposer", "%s:%d: layer %d setScaleFactor failed!! ", "detectLayers", 261, v6);
      return v8;
    }
    return 0;
  }
  v8 = Hi62xxCommon::setRects(*(float *)&v4, *(float *)&v5, *(float *)&v7, v19);
  if ( !v8 )
  {
    if ( HwcConfig::GetDebugLevel(0) >= 0 )
    {
      _android_log_print(6, "hwcomposer", "%s:%d: layer %d setRects failed!! ", "detectLayers", 266, v6);
      return v8;
    }
    return 0;
  }
  v20 = *(_DWORD *)(v7 + 40);
  v21 = (v20 >> 16) & 0xFF;
  if ( v21 != 255 )
  {
    v22 = (HwcConfig *)(*(_DWORD *)(v7 + 100) - 4);
    if ( (unsigned int)v22 <= 3 && v20 == 261 )
    {
      *(_DWORD *)(v7 + 40) = (v21 << 16) | 0x2005;
      if ( HwcConfig::GetDebugLevel(v22) > 2 )
        _android_log_print(
          3,
          "hwcomposer",
          "%s:%d: This layer's blending is modified to 0x%x.",
          "detectLayers",
          277,
          *(_DWORD *)(v7 + 40));
    }
  }
  return v8;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001B4F4) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setRegionInfo(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  int v9; // r4@1
  int v10; // r6@1
  int v11; // r5@1
  int v12; // r8@1
  int v13; // r0@1
  int v14; // r1@1
  int v15; // r8@1
  int v16; // lr@1
  int v17; // r3@1
  int v18; // r0@1
  int v19; // r1@1
  signed int v20; // r3@1
  int *v21; // r3@7
  int *v22; // r12@7
  int v23; // r0@8
  int v24; // r1@8
  int v25; // r3@9
  int *v26; // r0@9
  int v27; // r1@10
  unsigned int *v28; // r3@11
  int *v29; // r1@11
  unsigned int v30; // r0@12
  int *v31; // r12@12
  int v32; // r1@12
  int v33; // r3@14
  HwcConfig *v34; // r1@14
  int v35; // r2@14
  int v36; // r0@14
  int v37; // r3@14
  int v38; // r1@14
  int v39; // r2@14
  HwcConfig *v40; // r0@14
  int v41; // r9@14
  int v42; // r10@14
  signed int v43; // r8@15
  HwcConfig *v44; // r0@32
  HwcConfig *v46; // r0@38
  HwcConfig *v47; // r6@38
  int v48; // [sp+88h] [bp+0h]@1
  int v49; // [sp+8Ch] [bp+4h]@1
  int v50; // [sp+90h] [bp+8h]@1
  int v51; // [sp+94h] [bp+Ch]@1
  int v52; // [sp+98h] [bp+10h]@1
  int v53; // [sp+9Ch] [bp+14h]@1
  int v54; // [sp+A0h] [bp+18h]@31
  int v55; // [sp+A4h] [bp+1Ch]@31
  int v56; // [sp+A8h] [bp+20h]@7
  int v57; // [sp+ACh] [bp+24h]@37
  int v58; // [sp+B0h] [bp+28h]@37
  int v59; // [sp+B4h] [bp+2Ch]@37
  int v60; // [sp+B8h] [bp+30h]@9
  int v61; // [sp+BCh] [bp+34h]@37
  int v62; // [sp+C0h] [bp+38h]@37
  int v63; // [sp+C4h] [bp+3Ch]@37
  int v64; // [sp+C8h] [bp+40h]@11
  int v65; // [sp+CCh] [bp+44h]@37
  int v66; // [sp+D0h] [bp+48h]@37
  int v67; // [sp+D4h] [bp+4Ch]@37
  unsigned __int8 v68; // [sp+EEh] [bp+66h]@1
  unsigned __int8 v69; // [sp+EFh] [bp+67h]@1
  int v70; // [sp+F0h] [bp+68h]@1
  int v71; // [sp+F4h] [bp+6Ch]@21
  int v72; // [sp+F8h] [bp+70h]@14
  HwcConfig *v73; // [sp+FCh] [bp+74h]@14
  int v74; // [sp+100h] [bp+78h]@14
  int v75; // [sp+104h] [bp+7Ch]@14
  int v76; // [sp+108h] [bp+80h]@14
  int v77; // [sp+10Ch] [bp+84h]@1
  unsigned int v78; // [sp+110h] [bp+88h]@22
  int v79; // [sp+114h] [bp+8Ch]@14
  int v80; // [sp+118h] [bp+90h]@7

  v9 = a2;
  v10 = a1;
  v11 = a3;
  v12 = a4;
  memset(&v48, 0, 0x98u);
  v49 = v12;
  v13 = *(_WORD *)(v10 + 38);
  v48 = v11;
  v14 = *(_DWORD *)(v9 + 40);
  v15 = *(_DWORD *)(v9 + 100);
  v50 = a5;
  v16 = *(_DWORD *)(v9 + 4);
  v17 = *(_DWORD *)(v9 + 36);
  v51 = v13;
  v52 = v14;
  v18 = *(_DWORD *)(v9 + 20);
  v19 = *(_DWORD *)(v9 + 24);
  v77 = v15;
  v70 = v17;
  v68 = v18;
  v69 = v19;
  v20 = *(_DWORD *)(v16 + 68);
  v53 = a9;
  switch ( v20 )
  {
    case 1:
      v20 = 2;
      break;
    case 2:
      v20 = 1;
      break;
    case 4:
      v20 = 4;
      break;
    case 3:
      v20 = 3;
      break;
    case 0:
      v20 = 0;
      break;
    default:
      break;
  }
  v80 = v20;
  v21 = (int *)a6;
  v22 = &v56;
  do
  {
    v23 = *v21;
    v21 += 2;
    v24 = *(v21 - 1);
    *v22 = v23;
    v22[1] = v24;
    v22 += 2;
  }
  while ( v21 != (int *)(a6 + 16) );
  v25 = a7;
  v26 = &v60;
  do
  {
    v27 = *(_DWORD *)(v25 + 4);
    v25 += 8;
    *v26 = *(_DWORD *)(v25 - 8);
    v26[1] = v27;
    v26 += 2;
  }
  while ( v25 != a7 + 16 );
  v28 = (unsigned int *)a8;
  v29 = &v64;
  do
  {
    v30 = *v28;
    v31 = v29;
    v28 += 2;
    v32 = *(v28 - 1);
    *v31 = v30;
    v31[1] = v32;
    v29 = v31 + 2;
  }
  while ( v28 != (unsigned int *)(a8 + 16) );
  if ( *(_BYTE *)(v9 + 104) )
  {
    v33 = *(_DWORD *)(v9 + 32);
    v34 = *(HwcConfig **)(v9 + 52);
    v35 = *(_DWORD *)(v9 + 56);
    v79 = *(_DWORD *)(v16 + 12);
    v36 = *(_DWORD *)(v9 + 88);
    v72 = v33;
    v37 = *(_DWORD *)(v9 + 84);
    v73 = v34;
    v38 = *(_DWORD *)(v9 + 48);
    v75 = v35;
    v39 = *(_DWORD *)(v9 + 44);
    v76 = v36;
    v40 = *(HwcConfig **)(v16 + 156);
    v74 = v37;
    v41 = *(_DWORD *)(v9 + 28);
    v42 = v39 + v38 * (_DWORD)v40;
    switch ( v15 )
    {
      case 8:
      case 9:
      case 20:
        v43 = 3;
        break;
      case 0:
      case 1:
      case 16:
      case 17:
      case 18:
      case 19:
        v43 = 2;
        break;
      case 21:
      case 22:
        v43 = 1;
        break;
      default:
        if ( HwcConfig::GetDebugLevel(v40) >= 0 )
          _android_log_print(6, "hwcomposer", "%s:%d: Unsupported format: %d", "getPixelBytes", 226, v15);
        goto LABEL_20;
      case 2:
      case 3:
      case 4:
      case 5:
      case 6:
      case 7:
LABEL_20:
        v43 = 4;
        break;
    }
    v30 = v77;
    v71 = v41 + v42 * v43;
    if ( (unsigned int)(v77 - 21) <= 1 )
    {
      v30 = *(_DWORD *)(v9 + 48) * *(_DWORD *)(*(_DWORD *)(v9 + 4) + 156);
      v78 = *(_DWORD *)(v9 + 44) + *(_DWORD *)(v9 + 28) + *(_DWORD *)(v9 + 32) * *(_DWORD *)(v9 + 16) + (v30 >> 1);
    }
    if ( v68 )
    {
      v30 = (unsigned int)v73;
      v73 = (HwcConfig *)((char *)v73 + *(_DWORD *)(v9 + 20));
    }
    if ( v69 )
      v75 = *(_DWORD *)(v9 + 16) + v69;
    *(_BYTE *)(v9 + 104) = 0;
  }
  if ( v11 == 3 )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)v30) > 2 )
      _android_log_print(3, "hwcomposer", "%s:%d: Pipe%d use sec ovly", "setRegionInfo", 719, 3);
    v55 = 1;
    v54 = 7;
  }
  v44 = *(HwcConfig **)(v10 + 8);
  if ( (signed int)v44 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v44) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: devices are not opened!! ", "setRegionInfo", 725);
    return 0;
  }
  if ( HwcConfig::GetDebugLevel(v44) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: ======= setRegionInfo ======= regioninfo: \n"
      "compose_mode(%d), \t ch_index(%d)\n"
      "ch_type(%d),  \t surface_num(%d)\n"
      "blending(0x%x),  \t dim_blending(0x%x)\n"
      "format(%d),  \t yuv_info(%d),  \t height(%d),  \t width(%d),  \t rotation(%d), \t sharefd(%d)\n"
      "phy_addr(0x%x),  \t sec_ovly_ch_count(%d),  \t sec_ovly_surf_num(%d)\n"
      "stride(%d),  \t dst_height(%d),  \t dst_width(%d)\n"
      "src_rect xywh(%d,%d,%d,%d),  \t dst_rect xywh(%d,%d,%d,%d)\n"
      "ovly_output_rect xywh(%d,%d,%d,%d),  \t clip_right(%d) \t uv_addr(%d)\n",
      "setRegionInfo",
      771,
      v51,
      v48,
      v49,
      v50,
      v52,
      v53,
      v77,
      v80,
      v75,
      v73,
      v70,
      v79,
      v71,
      v55,
      v54,
      v72,
      v76,
      v74,
      v56,
      v57,
      v58,
      v59,
      v60,
      v61,
      v62,
      v63,
      v64,
      v65,
      v66,
      v67,
      v68,
      v78);
  v46 = (HwcConfig *)ioctl(*(_DWORD *)(v10 + 8), 0xC0984D88, &v48);
  v47 = v46;
  if ( v46 )
  {
    if ( HwcConfig::GetDebugLevel(v46) >= 0 )
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: set region info failed!! ret:%d \n"
        "compose_mode(%d), \t ch_index(%d)\n"
        "ch_type(%d),  \t surface_num(%d)\n"
        "blending(0x%x),  \t dim_blending(0x%x)\n"
        "format(%d),  \t height(%d),  \t width(%d),  \t rotation(%d), \t sharefd(%d)\n"
        "phy_addr(0x%x),  \t sec_ovly_ch_count(%d),  \t sec_ovly_surf_num(%d)\n"
        "stride(%d),  \t dst_height(%d),  \t dst_width(%d)\n"
        "src_rect xywh(%d,%d,%d,%d),  \t dst_rect xywh(%d,%d,%d,%d)\n"
        "ovly_output_rect xywh(%d,%d,%d,%d),  \t clip_right(%d) \t uv_addr(%d)\n",
        "setRegionInfo",
        817,
        v47,
        v51,
        v48,
        v49,
        v50,
        v52,
        v53,
        v77,
        v75,
        v73,
        v70,
        v79,
        v71,
        v55,
        v54,
        v72,
        v76,
        v74,
        v56,
        v57,
        v58,
        v59,
        v60,
        v61,
        v62,
        v63,
        v64,
        v65,
        v66,
        v67,
        v68,
        v78);
    return 0;
  }
  return 1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001B88C) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setReadBackRegion(HwcConfig *a1, int a2, int a3, int a4, int a5)
{
  HwcConfig *v5; // r5@1
  int v6; // r4@1
  int v7; // r11@1
  int v8; // r6@1
  const char *v9; // r1@4
  const char *v10; // r2@4
  const char *v11; // r3@4
  unsigned int v13; // r8@7
  int v14; // r6@10
  int v15; // r1@10
  int v16; // r2@10
  int v17; // r3@10
  unsigned int v18; // r0@10
  signed int v19; // r0@10
  int v20; // r6@10
  int v21; // r2@10
  int *v22; // r3@10
  char *v23; // r1@10
  int v24; // r12@10
  int v25; // r0@11
  char *v26; // lr@11
  int v27; // r1@11
  char *v28; // r0@12
  int v29; // r1@13
  signed int v30; // [sp+0h] [bp-B8h]@4
  char s; // [sp+1Ch] [bp-9Ch]@10
  int v32; // [sp+20h] [bp-98h]@10
  int v33; // [sp+24h] [bp-94h]@10
  int v34; // [sp+28h] [bp-90h]@10
  int v35; // [sp+2Ch] [bp-8Ch]@10
  int v36; // [sp+38h] [bp-80h]@10
  int v37; // [sp+3Ch] [bp-7Ch]@10
  int v38; // [sp+44h] [bp-74h]@10
  char v39; // [sp+48h] [bp-70h]@10
  char v40; // [sp+68h] [bp-50h]@12
  int v41; // [sp+80h] [bp-38h]@10
  char v42; // [sp+84h] [bp-34h]@10

  v5 = a1;
  v6 = a3;
  v7 = a4;
  v8 = a2;
  if ( !a2 || !a3 )
  {
    if ( HwcConfig::GetDebugLevel(a1) < 0 )
      return 0;
    v30 = 828;
    v9 = "hwcomposer";
    v10 = "%s:%d: setReadBackRegion invalid input !! ";
    v11 = "setReadBackRegion";
LABEL_5:
    _android_log_print(6, v9, v10, v11, v30);
    return 0;
  }
  v13 = *(_DWORD *)(*(_DWORD *)(a2 + 116) + 4);
  if ( v13 > 6 )
  {
    if ( HwcConfig::GetDebugLevel(a1) < 0 )
      return 0;
    v30 = 834;
    v9 = "hwcomposer";
    v10 = "%s:%d: invalid pipeNum !! ";
    v11 = "setReadBackRegion";
    goto LABEL_5;
  }
  memset(&s, 0, 0x74u);
  v14 = sub_11658(*(_DWORD *)(v8 + 16));
  v32 = v14;
  v15 = *(_DWORD *)(v14 + 32);
  v16 = *(_DWORD *)(v14 + 88);
  v33 = 100;
  v17 = *(_DWORD *)(v14 + 92);
  v37 = v15;
  v18 = *(_DWORD *)(v14 + 20);
  v34 = v16;
  v35 = v17;
  v19 = sub_19C04(v18);
  v20 = *(_DWORD *)(v14 + 116);
  v41 = v19;
  v21 = *(_DWORD *)v5;
  v42 = 1;
  v38 = 4101;
  v36 = v20;
  (*(void (__fastcall **)(HwcConfig *, int))(v21 + 72))(v5, v6);
  (*(void (__fastcall **)(HwcConfig *, int))(*(_DWORD *)v5 + 76))(v5, v6);
  v22 = (int *)v6;
  v23 = &v39;
  v24 = v6 + 16;
  do
  {
    v25 = *v22;
    v26 = v23;
    v22 += 2;
    v27 = *(v22 - 1);
    *(_DWORD *)v26 = v25;
    *((_DWORD *)v26 + 1) = v27;
    v23 = v26 + 8;
  }
  while ( v22 != (int *)v24 );
  v28 = &v40;
  do
  {
    v29 = *(_DWORD *)(v6 + 4);
    v6 += 8;
    *(_DWORD *)v28 = *(_DWORD *)(v6 - 8);
    *((_DWORD *)v28 + 1) = v29;
    v28 += 8;
  }
  while ( v6 != v24 );
  if ( HwcConfig::GetDebugLevel((HwcConfig *)v28) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: set read back area in %d mode.", "setReadBackRegion", 857, a5);
  return Hi62xxCommon::setRegionInfo((int)v5, (int)&s, v13, a5, v7, (int)&v39, (int)&v40, (int)&v40, 0);
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001B9E0) --------------------------------------------------------
signed int __fastcall Hi62xxCommon::setNormalRegion(HwcConfig *a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  HwcConfig *v7; // r5@1
  int v8; // r6@1
  int v9; // r11@1
  const char *v10; // r1@4
  const char *v11; // r2@4
  const char *v12; // r3@4
  int v13; // r7@6
  signed int v14; // r8@10
  int v15; // r4@12
  const char *v16; // r1@15
  const char *v17; // r2@15
  const char *v18; // r3@15
  HwcConfig *v19; // r0@16
  HwcConfig *v20; // r0@18
  HwcConfig *v21; // r0@22
  signed int v23; // [sp+0h] [bp-78h]@4
  signed int v24; // [sp+0h] [bp-78h]@15
  unsigned int v25; // [sp+2Ch] [bp-4Ch]@7
  int s; // [sp+30h] [bp-48h]@16
  int v27; // [sp+34h] [bp-44h]@27
  int v28; // [sp+38h] [bp-40h]@27
  int v29; // [sp+3Ch] [bp-3Ch]@27
  int v30; // [sp+40h] [bp-38h]@16
  int v31; // [sp+44h] [bp-34h]@27
  int v32; // [sp+48h] [bp-30h]@27
  int v33; // [sp+4Ch] [bp-2Ch]@27

  v7 = a1;
  v8 = a4;
  v9 = a2;
  if ( !a2 || !a4 )
  {
    if ( HwcConfig::GetDebugLevel(a1) < 0 )
      return 0;
    v23 = 869;
    v10 = "hwcomposer";
    v11 = "%s:%d: setNormalRegion invalid input !! ";
    v12 = "setNormalRegion";
LABEL_5:
    _android_log_print(6, v10, v11, v12, v23);
    return 0;
  }
  v25 = *(_DWORD *)(*(_DWORD *)(a2 + 116) + 4);
  if ( v25 > 6 )
  {
    if ( HwcConfig::GetDebugLevel(a1) < 0 )
      return 0;
    v23 = 875;
    v11 = "%s:%d: invalid pipeNum !! ";
    v12 = "setNormalRegion";
    v10 = "hwcomposer";
    goto LABEL_5;
  }
  v14 = *(_DWORD *)(a2 + 148);
  if ( v14 == -1 )
    v14 = 12;
  v15 = a3 + 116 * v14;
  if ( !*(_DWORD *)(v15 + 28) )
  {
    v13 = (*(int (**)(void))(*(_DWORD *)a1 + 16))();
    if ( !v13 )
    {
      if ( HwcConfig::GetDebugLevel(0) < 0 )
        return 0;
      v24 = 885;
      v16 = "hwcomposer";
      v17 = "%s:%d: detectLayers fail !! ";
      v18 = "setNormalRegion";
LABEL_25:
      _android_log_print(6, v16, v17, v18, v24);
      return v13;
    }
  }
  memset(&s, 0, 0x10u);
  memset(&v30, 0, 0x10u);
  *(_DWORD *)(v15 + 108) = *(_DWORD *)(v9 + 124);
  (*(void (__fastcall **)(HwcConfig *, int))(*(_DWORD *)v7 + 72))(v7, v8);
  (*(void (__fastcall **)(HwcConfig *, int))(*(_DWORD *)v7 + 76))(v7, v8);
  v19 = (HwcConfig *)*(_BYTE *)(v15 + 104);
  if ( *(_BYTE *)(v15 + 104) )
    v19 = (HwcConfig *)(*(int (__fastcall **)(HwcConfig *, int))(*(_DWORD *)v7 + 72))(v7, v15 + 76);
  v20 = (HwcConfig *)HwcConfig::GetDebugLevel(v19);
  if ( (signed int)v20 > 2 )
    v20 = (HwcConfig *)_android_log_print(
                         3,
                         "hwcomposer",
                         "%s:%d: area x/y/w/h %d/%d/%d/%d",
                         "setNormalRegion",
                         902,
                         *(_DWORD *)v8,
                         *(_DWORD *)(v8 + 4),
                         *(_DWORD *)(v8 + 8),
                         *(_DWORD *)(v8 + 12));
  if ( HwcConfig::GetDebugLevel(v20) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: layer index(%d): before calculate \t layer src xywh (%d,%d,%d,%d)\t layer dst xywh (%d,%d,%d,%d)",
      "setNormalRegion",
      914,
      v14,
      *(_DWORD *)(v15 + 44),
      *(_DWORD *)(v15 + 48),
      *(_DWORD *)(v15 + 52),
      *(_DWORD *)(v15 + 56),
      *(_DWORD *)(v15 + 76),
      *(_DWORD *)(v15 + 80),
      *(_DWORD *)(v15 + 84),
      *(_DWORD *)(v15 + 88));
  v21 = (HwcConfig *)(*(int (__fastcall **)(HwcConfig *, int, int, int *))(*(_DWORD *)v7 + 20))(v7, v15, v8, &s);
  v13 = (int)v21;
  if ( !v21 )
  {
    if ( HwcConfig::GetDebugLevel(0) < 0 )
      return 0;
    v24 = 917;
    v16 = "hwcomposer";
    v17 = "%s:%d: invalid source rect !!!";
    v18 = "setNormalRegion";
    goto LABEL_25;
  }
  if ( HwcConfig::GetDebugLevel(v21) > 2 )
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: layer index(%d): after calculate \t srcRect xywh (%d,%d,%d,%d)\t dstRect xywh (%d,%d,%d,%d) ",
      "setNormalRegion",
      932,
      v14,
      s,
      v27,
      v28,
      v29,
      v30,
      v31,
      v32,
      v33);
  return Hi62xxCommon::setRegionInfo((int)v7, v15, v25, a7, a5, (int)&s, (int)&v30, v8, a6);
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 1BC14: using guessed type char *off_1BC14;

//----- (0001BC34) --------------------------------------------------------
Hi62xxComposer *__fastcall Hi62xxComposer::~Hi62xxComposer(Hi62xxComposer *this)
{
  Hi62xxComposer *v1; // r4@1

  v1 = this;
  android::Vector<HwcPolicy *>::do_construct();
  operator delete((void *)v1);
  return v1;
}

//----- (0001BC48) --------------------------------------------------------
signed int __fastcall sub_1BC48(HwcConfig *a1)
{
  HwcConfig *v1; // r4@1
  signed int result; // r0@2

  v1 = a1;
  switch ( a1 )
  {
    case 8u:
    case 9u:
    case 0x14u:
      result = 3;
      break;
    case 0u:
    case 1u:
    case 0x10u:
    case 0x11u:
    case 0x12u:
    case 0x13u:
      result = 2;
      break;
    case 0x15u:
    case 0x16u:
      result = 1;
      break;
    default:
      if ( HwcConfig::GetDebugLevel(a1) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: Unsupported format: %d", "getPixelBytes", 226, v1);
      goto LABEL_7;
    case 2u:
    case 3u:
    case 4u:
    case 5u:
    case 6u:
    case 7u:
LABEL_7:
      result = 4;
      break;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001BCAC) --------------------------------------------------------
int __fastcall Hi62xxComposer::Hi62xxComposer(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r0@1

  v2 = a1;
  v3 = a1 + 12;
  *(_DWORD *)(v3 - 8) = 0;
  *(_DWORD *)(v3 - 4) = 0;
  *(_DWORD *)(v3 + 1508) = a2;
  *(_DWORD *)(v3 - 12) = &off_2DF48;
  memset((void *)v3, 0, 0x5E4u);
  return v2;
}
// 2DF48: using guessed type void *;

//----- (0001BCE0) --------------------------------------------------------
void *__fastcall Hi62xxComposer::resetSelf(Hi62xxComposer *this)
{
  char *v1; // r0@1

  v1 = (char *)this + 12;
  *((_DWORD *)v1 - 2) = 0;
  return j_j_memset(v1, 0, 0x5E4u);
}

//----- (0001BCF0) --------------------------------------------------------
int __fastcall Hi62xxComposer::setSource(Hi62xxComposer *this, int a2, int a3)
{
  Hi62xxComposer *v3; // r4@1
  HwcConfig *v4; // r0@3
  const char *v5; // r1@4
  const char *v6; // r2@4
  const char *v7; // r3@4
  int v8; // r5@5
  HwcConfig *v9; // r0@7
  signed int v10; // r0@10
  int v11; // lr@10
  int v12; // r7@10
  int v13; // r6@10
  bool v14; // zf@12
  int v15; // r0@12
  int v16; // r6@12
  int v17; // r2@14
  int *v18; // r0@14
  int v19; // r2@14
  HwcConfig *v20; // r0@15
  HwcConfig *v21; // r7@15
  HwcConfig *v22; // r0@15
  const char *v23; // r1@16
  const char *v24; // r2@16
  const char *v25; // r3@16
  HwcConfig *v26; // r0@17
  signed int v28; // [sp+0h] [bp-38h]@4
  signed int v29; // [sp+0h] [bp-38h]@16
  int v30; // [sp+4h] [bp-34h]@0
  HwcConfig *v31; // [sp+4h] [bp-34h]@16
  signed int v32; // [sp+8h] [bp-30h]@0
  int v33; // [sp+10h] [bp-28h]@12
  int v34; // [sp+14h] [bp-24h]@14
  int v35; // [sp+18h] [bp-20h]@14
  int v36; // [sp+1Ch] [bp-1Ch]@14

  v3 = this;
  if ( !a2 || !a3 )
  {
    v4 = (HwcConfig *)Hi62xxComposer::resetSelf(this);
    if ( HwcConfig::GetDebugLevel(v4) >= 0 )
    {
      v28 = 59;
      v5 = "hwcomposer";
      v6 = "%s:%d: setSource invalid input !! ";
      v7 = "setSource";
LABEL_9:
      _android_log_print(6, v5, v6, v7, v28);
      return -1;
    }
    return -1;
  }
  v8 = *(_DWORD *)(a2 + 12) & 0x100;
  if ( !v8 )
  {
    if ( *((_DWORD *)this + 1) > 7 )
    {
      v9 = (HwcConfig *)Hi62xxComposer::resetSelf(this);
      if ( HwcConfig::GetDebugLevel(v9) >= 0 )
      {
        v28 = 70;
        v5 = "hwcomposer";
        v6 = "%s:%d: invalid surfaceNum !! ";
        v7 = "setSource";
        goto LABEL_9;
      }
      return -1;
    }
    v10 = *(_DWORD *)(a2 + 148);
    v11 = *(_DWORD *)(a3 + 4);
    v12 = *(_DWORD *)(a2 + 188);
    v13 = *(_DWORD *)(a3 + 32);
    if ( v10 == -1 )
      v10 = 12;
    v33 = *(_DWORD *)(a3 + 4);
    v14 = v10 == v13;
    v15 = *(_DWORD *)(a3 + 12);
    v16 = *(_DWORD *)(a3 + 8);
    if ( v14 )
      v8 = *(_DWORD *)(a3 + 36);
    v17 = *(_DWORD *)(a3 + 16);
    v34 = v16;
    v35 = v15 - v11;
    v18 = (int *)*((_DWORD *)v3 + 380);
    v36 = v17 - v16;
    v19 = *v18;
    if ( v12 )
    {
      v20 = (HwcConfig *)(*(int (__cdecl **)(int *))(v19 + 32))(v18);
      v21 = v20;
      v22 = (HwcConfig *)HwcConfig::GetDebugLevel(v20);
      if ( (signed int)v22 <= 2 )
        goto LABEL_20;
      v29 = 88;
      v31 = v21;
      v23 = "hwcomposer";
      v24 = "%s:%d: Hi62xxComposer setReadBackRegion ret=%d";
      v25 = "setSource";
    }
    else
    {
      v30 = v8;
      v32 = 1;
      v26 = (HwcConfig *)(*(int (__cdecl **)(int *, int, char *))(v19 + 24))(v18, a2, (char *)v3 + 12);
      v21 = v26;
      v22 = (HwcConfig *)HwcConfig::GetDebugLevel(v26);
      if ( (signed int)v22 <= 2 )
        goto LABEL_20;
      v29 = 92;
      v31 = v21;
      v24 = "%s:%d: Hi62xxComposer setNormalRegion ret=%d";
      v25 = "setSource";
      v23 = "hwcomposer";
    }
    v22 = (HwcConfig *)_android_log_print(3, v23, v24, v25, v29, v31, v32);
LABEL_20:
    ++*((_DWORD *)v3 + 1);
    if ( !v21 )
    {
      if ( HwcConfig::GetDebugLevel(v22) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: Hi62xxComposer setSource fail", "setSource", 97, v30, v32);
      Hi62xxComposer::resetSelf(v3);
      return -1;
    }
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001BE60) --------------------------------------------------------
signed int __fastcall Hi62xxComposer::Compose(HwcConfig *a1, int a2, int a3, int a4)
{
  HwcConfig *v4; // r4@1
  int v5; // r5@1
  int v6; // r6@1
  int v7; // r7@6
  int v8; // r0@6
  int v9; // r1@6
  int v10; // r3@6
  int v11; // r2@6
  int v12; // r0@6
  int *v13; // r7@6
  int v14; // r0@6
  int v15; // r8@6
  int v16; // r6@7
  int v17; // r11@9
  HwcConfig *v18; // r0@9
  signed int v19; // r10@9
  int v20; // r0@9
  int *v21; // lr@9
  int v22; // r2@9
  char *v23; // r6@9
  int v24; // r1@10
  bool v25; // zf@10
  int *v26; // r1@12
  int v27; // r2@12
  int v28; // r0@13
  int v29; // r2@14
  int v30; // r1@15
  int v31; // r11@17
  int v32; // r7@17
  char *v33; // r10@19
  int v34; // r3@19
  HwcConfig *v35; // r0@19
  int v36; // r1@19
  int v37; // r2@19
  int v38; // r11@19
  signed int v39; // r3@20
  int v40; // r2@26
  int v41; // r1@27
  int v42; // r2@29
  int v43; // r1@30
  int v44; // r0@34
  HwcConfig *v45; // r0@35
  const char *v46; // r1@36
  const char *v47; // r2@36
  const char *v48; // r3@36
  HwcConfig *v49; // r0@38
  HwcConfig *v51; // r0@42
  signed int v52; // [sp+0h] [bp-60h]@36
  int v53; // [sp+8h] [bp-58h]@6
  int v54; // [sp+Ch] [bp-54h]@6
  int v55; // [sp+10h] [bp-50h]@6
  int v56; // [sp+14h] [bp-4Ch]@6
  char s; // [sp+18h] [bp-48h]@9
  int v58; // [sp+20h] [bp-40h]@19
  HwcConfig *v59; // [sp+24h] [bp-3Ch]@19
  char v60; // [sp+28h] [bp-38h]@19
  int v61; // [sp+30h] [bp-30h]@19
  int v62; // [sp+34h] [bp-2Ch]@19
  char v63; // [sp+38h] [bp-28h]@30

  v4 = a1;
  v5 = a4;
  v6 = a2;
  if ( !a2 || !a3 )
  {
    if ( HwcConfig::GetDebugLevel(a1) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: Compose invalid input !! ", "Compose", 113);
    Hi62xxComposer::resetSelf(v4);
    return -1;
  }
  v7 = *(_DWORD *)(a3 + 4);
  v8 = *(_DWORD *)(a3 + 12);
  v9 = *(_DWORD *)(a3 + 8);
  v10 = *(_DWORD *)(a3 + 16);
  v53 = v7;
  v11 = v8 - v7;
  v12 = *((_DWORD *)v4 + 380);
  v54 = v9;
  v55 = v11;
  v56 = v10 - v9;
  v13 = &v53;
  (*(void (**)(void))(*(_DWORD *)v12 + 72))();
  (*(void (**)(void))(**((_DWORD **)v4 + 380) + 76))();
  v14 = sub_11658(*(_DWORD *)(v6 + 16));
  v15 = v14;
  if ( v14 )
    v16 = *(_DWORD *)(v14 + 116);
  else
    v16 = 0;
  v17 = v53 + v54 * *(_DWORD *)(v14 + 156);
  v18 = (HwcConfig *)sub_19C04(*(_DWORD *)(v14 + 20));
  v19 = sub_1BC48(v18);
  memset((char *)v4 + 1524, 0, 0xB8u);
  *((_DWORD *)v4 + 384) = v16 + v17 * v19;
  *((_DWORD *)v4 + 386) = sub_19C04(*(_DWORD *)(v15 + 20));
  v20 = *(_DWORD *)(v15 + 32);
  v21 = &v53;
  *((_DWORD *)v4 + 385) = v16;
  v22 = (int)v4 + 1636;
  v23 = &s;
  *((_DWORD *)v4 + 381) = v5;
  *((_DWORD *)v4 + 387) = v20;
  do
  {
    v22 += 8;
    v24 = v21[1];
    v25 = (char *)(v21 + 2) == &s;
    *(_DWORD *)(v22 - 8) = *v21;
    v21 += 2;
    *(_DWORD *)(v22 - 4) = v24;
  }
  while ( !v25 );
  v26 = &v53;
  v27 = (int)v4 + 1652;
  do
  {
    v27 += 8;
    v28 = *v26;
    *(_DWORD *)(v27 - 4) = v26[1];
    v26 += 2;
    *(_DWORD *)(v27 - 8) = v28;
  }
  while ( (char *)v26 != &s );
  v29 = (int)v4 + 1556;
  do
  {
    v29 += 8;
    v30 = v13[1];
    v25 = (char *)(v13 + 2) == &s;
    *(_DWORD *)(v29 - 8) = *v13;
    v13 += 2;
    *(_DWORD *)(v29 - 4) = v30;
  }
  while ( !v25 );
  v31 = *((_DWORD *)v4 + 380);
  v32 = *(_DWORD *)(v31 + 40);
  if ( v32 )
  {
    if ( !v5 )
      goto LABEL_37;
    v33 = &v60;
    memset(&s, 0, 0x10u);
    memset(&v60, 0, 0x10u);
    v34 = *(_DWORD *)(v31 + 12);
    v35 = *(HwcConfig **)(v31 + 16);
    v36 = *(_DWORD *)(v32 + 88);
    v37 = *(_DWORD *)(v32 + 92);
    v38 = *(_DWORD *)(v31 + 44);
    v58 = v34;
    v59 = v35;
    v61 = v36;
    v62 = v37;
    switch ( v38 )
    {
      case 4:
        v39 = 3;
        break;
      case 3:
        v39 = 2;
        break;
      case 7:
        v39 = 1;
        break;
      default:
        if ( HwcConfig::GetDebugLevel(v35) > 0 )
          _android_log_print(5, "hwcomposer", "%s:%d: Not support the rotation(%d)", "convertWifiRotation", 263, v38);
        goto LABEL_25;
      case 0:
LABEL_25:
        v39 = 0;
        break;
    }
    *((_DWORD *)v4 + 405) = v39;
    *((_DWORD *)v4 + 394) = sub_19C04(*(_DWORD *)(v32 + 20));
    v40 = (int)v4 + 1588;
    *((_DWORD *)v4 + 393) = *(_DWORD *)(v32 + 116);
    *((_DWORD *)v4 + 395) = *(_DWORD *)(v32 + 32);
    do
    {
      v40 += 8;
      v41 = *((_DWORD *)v23 + 1);
      v25 = v23 + 8 == &v60;
      *(_DWORD *)(v40 - 8) = *(_DWORD *)v23;
      v23 += 8;
      *(_DWORD *)(v40 - 4) = v41;
    }
    while ( !v25 );
    v42 = (int)v4 + 1604;
    do
    {
      v42 += 8;
      v43 = *((_DWORD *)v33 + 1);
      v25 = v33 + 8 == &v63;
      *(_DWORD *)(v42 - 8) = *(_DWORD *)v33;
      v33 += 8;
      *(_DWORD *)(v42 - 4) = v43;
    }
    while ( !v25 );
    *(_DWORD *)(*((_DWORD *)v4 + 380) + 40) = 0;
  }
  else if ( !v5 )
  {
    goto LABEL_37;
  }
  v44 = *((_DWORD *)v4 + 380);
  *((_DWORD *)v4 + 388) = *(_DWORD *)(v15 + 12);
  if ( (*(int (**)(void))(*(_DWORD *)v44 + 36))() )
  {
    v45 = (HwcConfig *)Hi62xxComposer::resetSelf(v4);
    if ( HwcConfig::GetDebugLevel(v45) >= 0 )
    {
      v52 = 167;
      v46 = "hwcomposer";
      v47 = "%s:%d: compose waitAcquireFenceFd error";
      v48 = "Compose";
LABEL_40:
      _android_log_print(6, v46, v47, v48, v52);
      return -1;
    }
    return -1;
  }
LABEL_37:
  if ( !(*(int (**)(void))(**((_DWORD **)v4 + 380) + 8))() )
  {
    v49 = (HwcConfig *)Hi62xxComposer::resetSelf(v4);
    if ( HwcConfig::GetDebugLevel(v49) >= 0 )
    {
      v52 = 174;
      v46 = "hwcomposer";
      v47 = "%s:%d: Hi62xxComposer Compose fail";
      v48 = "Compose";
      goto LABEL_40;
    }
    return -1;
  }
  v51 = (HwcConfig *)*((_DWORD *)v4 + 393);
  if ( v51 && HwcConfig::NeedDumpVirtualDisplay(v51) )
    HwcDumpHandle((HwcConfig *)v32, (int)"virtualdisplay_offline");
  if ( v5 )
    Hi62xxComposer::resetSelf(v4);
  else
    *((_DWORD *)v4 + 1) = 0;
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001C12C) --------------------------------------------------------
signed int __fastcall Hi62xxComposer::setBlkRotLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  Hi62xxComposer *v3; // r4@1
  const HwcLayerInfo *v4; // r6@1
  int v5; // r7@1
  int v6; // r3@1
  HwcConfig *v7; // r0@2
  int v9; // r5@5
  HwcConfig *v10; // r0@7
  const char *v11; // r1@8
  const char *v12; // r2@8
  const char *v13; // r3@8
  int v14; // r2@10
  int v15; // r9@12
  int v16; // r5@12
  signed int v17; // r0@12
  HwcConfig *v18; // r3@12
  int v19; // r0@16
  HwcConfig *v20; // r0@17
  signed int v21; // [sp+0h] [bp-F8h]@8
  int v22; // [sp+4h] [bp-F4h]@8
  char s; // [sp+Ch] [bp-ECh]@9
  int v24; // [sp+10h] [bp-E8h]@9
  int v25; // [sp+18h] [bp-E0h]@9
  int v26; // [sp+1Ch] [bp-DCh]@12
  int v27; // [sp+20h] [bp-D8h]@12
  int v28; // [sp+24h] [bp-D4h]@12
  int v29; // [sp+28h] [bp-D0h]@12
  HwcConfig *v30; // [sp+3Ch] [bp-BCh]@16
  int v31; // [sp+40h] [bp-B8h]@12
  int v32; // [sp+44h] [bp-B4h]@12
  int v33; // [sp+48h] [bp-B0h]@12
  int v34; // [sp+4Ch] [bp-ACh]@16
  int v35; // [sp+50h] [bp-A8h]@12
  int v36; // [sp+54h] [bp-A4h]@12
  HwcConfig *v37; // [sp+58h] [bp-A0h]@12
  int v38; // [sp+5Ch] [bp-9Ch]@12
  unsigned int v39; // [sp+60h] [bp-98h]@13
  int v40; // [sp+68h] [bp-90h]@12
  int v41; // [sp+74h] [bp-84h]@13
  int v42; // [sp+80h] [bp-78h]@12
  int v43; // [sp+84h] [bp-74h]@12
  int v44; // [sp+88h] [bp-70h]@9
  int v45; // [sp+90h] [bp-68h]@12
  int v46; // [sp+94h] [bp-64h]@12
  int v47; // [sp+98h] [bp-60h]@12
  int v48; // [sp+9Ch] [bp-5Ch]@12
  HwcConfig *v49; // [sp+C8h] [bp-30h]@12

  v3 = this;
  v4 = a2;
  v5 = sub_11658(*((_DWORD *)a3 + 4));
  v6 = *((_DWORD *)v4 + 37);
  if ( !(*(int (**)(void))(**((_DWORD **)v3 + 380) + 16))() )
  {
    v7 = (HwcConfig *)Hi62xxComposer::resetSelf(v3);
    if ( HwcConfig::GetDebugLevel(v7) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: blkRot src detect error!!", "setBlkRotLayer", 216);
    return -1;
  }
  v9 = *(_DWORD *)(*((_DWORD *)v4 + 29) + 4);
  if ( v9 && v9 != 5 )
  {
    v10 = (HwcConfig *)Hi62xxComposer::resetSelf(v3);
    if ( HwcConfig::GetDebugLevel(v10) >= 0 )
    {
      v21 = 223;
      v22 = v9;
      v11 = "hwcomposer";
      v12 = "%s:%d: Invalid block rotate pipe_num (%d)";
      v13 = "setBlkRotLayer";
LABEL_19:
      _android_log_print(6, v11, v12, v13, v21, v22);
      return -1;
    }
    return -1;
  }
  memset(&s, 0, 0x58u);
  v24 = v9;
  v25 = v44;
  if ( v5 )
    v14 = *(_DWORD *)(v5 + 116);
  else
    v14 = 0;
  v32 = v14;
  v38 = 3;
  v33 = v43;
  v35 = v47;
  v36 = v48;
  v37 = v49;
  v15 = v42;
  v26 = v45;
  v27 = v46;
  v28 = v47;
  v29 = v48;
  v16 = v45 + v46 * *(_DWORD *)(v40 + 156);
  v17 = sub_1BC48(v49);
  v18 = v49;
  v31 = v15 + v16 * v17;
  if ( (unsigned int)v49 - 21 > 1 )
  {
    if ( !v49 )
      v18 = (HwcConfig *)4;
  }
  else
  {
    v39 = v42 + v45 + v41 * v43 + ((unsigned int)(v46 * v43) >> 1);
  }
  v30 = v18;
  v19 = *((_DWORD *)v3 + 380);
  v34 = *(_DWORD *)(v5 + 32);
  (*(void (**)(void))(*(_DWORD *)v19 + 40))();
  if ( !(*(int (**)(void))(**((_DWORD **)v3 + 380) + 28))() )
  {
    v20 = (HwcConfig *)Hi62xxComposer::resetSelf(v3);
    if ( HwcConfig::GetDebugLevel(v20) >= 0 )
    {
      v21 = 263;
      v11 = "hwcomposer";
      v12 = "%s:%d: blkrot layer%d fail.";
      v13 = "setBlkRotLayer";
      v22 = *((_DWORD *)v4 + 37);
      goto LABEL_19;
    }
    return -1;
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001C2B0) --------------------------------------------------------
signed int __fastcall Hi62xxComposer::setWfdLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  Hi62xxComposer *v3; // r7@1
  int v4; // r4@1
  HwcLayerInfo *v5; // r9@1
  int v6; // r3@9
  int v7; // r5@9
  int v8; // r12@10
  int v9; // r8@11
  HwcConfig *v10; // r0@16
  const char *v11; // r1@17
  const char *v12; // r2@17
  const char *v13; // r3@17
  int i; // r3@22
  int v15; // r4@24
  int v16; // r2@24
  int v17; // r1@24
  int v18; // ST0C_4@29
  int v19; // r2@29
  int v20; // r6@29
  int v21; // r8@29
  int v22; // r0@29
  void (__fastcall *v23)(int, signed int); // r11@29
  signed int v24; // r0@29
  HwcConfig *v25; // r0@29
  HwcConfig *v26; // r0@30
  signed int v28; // [sp+0h] [bp-90h]@17
  int s; // [sp+10h] [bp-80h]@29
  int v30; // [sp+14h] [bp-7Ch]@29
  int v31; // [sp+40h] [bp-50h]@29
  int v32; // [sp+44h] [bp-4Ch]@29
  int v33; // [sp+48h] [bp-48h]@29
  int v34; // [sp+4Ch] [bp-44h]@29
  int v35; // [sp+50h] [bp-40h]@29
  unsigned int v36; // [sp+54h] [bp-3Ch]@29
  int v37; // [sp+58h] [bp-38h]@29
  int v38; // [sp+5Ch] [bp-34h]@29
  int v39; // [sp+60h] [bp-30h]@29

  v3 = this;
  v4 = *((_DWORD *)a2 + 4);
  v5 = a2;
  if ( v4 )
  {
    if ( *(_DWORD *)v4 != 12
      || (this = *(Hi62xxComposer **)(v4 + 8), this != (Hi62xxComposer *)48)
      || *(_DWORD *)(v4 + 4) != 1 )
    {
      v4 = 0;
    }
    else if ( *(_DWORD *)(v4 + 16) != 51647890 )
    {
      v4 = 0;
    }
  }
  v6 = *((_DWORD *)v3 + 380);
  v7 = *(_DWORD *)(v6 + 40);
  if ( !v4 )
  {
    if ( v7 )
    {
      v9 = *(_DWORD *)(v7 + 116);
      *(_DWORD *)(v6 + 40) = 0;
LABEL_15:
      if ( v9 )
      {
        if ( HwcConfig::GetDebugLevel(this) > 1 )
          _android_log_print(4, "hwcomposer", "%s:%d: source phy is 0,  dest  phys is not 0!!", "setWfdLayer", 290);
        if ( *(_DWORD *)(v7 + 20) == 20 )
        {
          for ( i = 0; i < *(_DWORD *)(v7 + 92); ++i )
          {
            v15 = *(_DWORD *)(v7 + 32);
            v16 = 0;
            v17 = *(_DWORD *)(v7 + 48);
            while ( v16 < *(_DWORD *)(v7 + 88) )
              *(_WORD *)(v17 + v15 * i + 2 * v16++) = -32752;
          }
        }
        Hi62xxComposer::resetSelf(v3);
        return 0;
      }
LABEL_16:
      v10 = (HwcConfig *)Hi62xxComposer::resetSelf(v3);
      if ( HwcConfig::GetDebugLevel(v10) >= 0 )
      {
        v28 = 306;
        v11 = "hwcomposer";
        v12 = "%s:%d: source or dest handle's phys is 0!!";
        v13 = "setWfdLayer";
LABEL_32:
        _android_log_print(6, v11, v12, v13, v28);
      }
      return -1;
    }
LABEL_37:
    if ( HwcConfig::GetDebugLevel(this) > 2 )
      _android_log_print(3, "hwcomposer", "%s:%d: outbuf is null , do not need convert", "setWfdLayer", 279);
    return 0;
  }
  v8 = *(_DWORD *)(v4 + 116);
  if ( !v7 )
    goto LABEL_37;
  v9 = *(_DWORD *)(v7 + 116);
  *(_DWORD *)(v6 + 40) = 0;
  if ( !v8 )
    goto LABEL_15;
  if ( !v9 )
    goto LABEL_16;
  v18 = v8;
  memset(&s, 0, 0x58u);
  v19 = *(_DWORD *)(v4 + 88);
  v33 = v9;
  s = 1;
  v20 = *(_DWORD *)(v4 + 92);
  v30 = 5;
  v32 = v18;
  v37 = v20;
  v36 = (v19 + 1) & 0xFFFFFFFE;
  v38 = sub_19C04(*(_DWORD *)(v4 + 20));
  v34 = *(_DWORD *)(v4 + 32);
  v31 = sub_19C04(*(_DWORD *)(v7 + 20));
  v21 = *((_DWORD *)v3 + 380);
  v22 = *(_DWORD *)(v7 + 32);
  v39 = 1;
  v35 = v22;
  v23 = *(void (__fastcall **)(int, signed int))(*(_DWORD *)v21 + 40);
  v24 = HwcLayerInfo::GetAcquireFenceFd(v5);
  v23(v21, v24);
  v25 = (HwcConfig *)(*(int (**)(void))(**((_DWORD **)v3 + 380) + 28))();
  if ( !v25 )
  {
    v26 = (HwcConfig *)Hi62xxComposer::resetSelf(v3);
    if ( HwcConfig::GetDebugLevel(v26) >= 0 )
    {
      v28 = 331;
      v11 = "hwcomposer";
      v12 = "%s:%d: wfdLayer setOverlayLayerInfo fail!";
      v13 = "setWfdLayer";
      goto LABEL_32;
    }
    return -1;
  }
  if ( HwcConfig::NeedDumpVirtualDisplay(v25) )
  {
    HwcDumpHandle((HwcConfig *)v4, (int)"virtualdisplay_gpu_fb");
    HwcDumpHandle((HwcConfig *)v7, (int)"virtualdisplay_gpu_outbuf");
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001C4BC) --------------------------------------------------------
signed int __fastcall Hi62xxComposer::convertLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  HwcConfig *v3; // r0@3
  signed int result; // r0@6
  const HwcLayerInfo *v5; // [sp+4h] [bp-14h]@1
  const HwcLayerInfo *v6; // [sp+8h] [bp-10h]@1

  v5 = a2;
  v6 = a3;
  if ( a2 && a3 )
  {
    if ( *((_DWORD *)a2 + 5) )
      result = j_j_j__ZN14Hi62xxComposer14setBlkRotLayerEPK12HwcLayerInfoS2_(this, a2, a3);
    else
      result = j_j_j__ZN14Hi62xxComposer11setWfdLayerEPK12HwcLayerInfoS2_(this, a2, a3);
  }
  else
  {
    v3 = (HwcConfig *)Hi62xxComposer::resetSelf(this);
    if ( HwcConfig::GetDebugLevel(v3) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: NULL pointer!!", "convertLayer", 195, v5, v6);
    result = -1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001C518) --------------------------------------------------------
Hi62xxOverlay *__fastcall Hi62xxOverlay::~Hi62xxOverlay(Hi62xxOverlay *this)
{
  Hi62xxOverlay *v1; // r4@1

  v1 = this;
  android::Vector<HwcPolicy *>::do_construct();
  operator delete((void *)v1);
  return v1;
}

//----- (0001C52C) --------------------------------------------------------
int __fastcall Hi62xxOverlay::Hi62xxOverlay(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r0@1

  v2 = a1;
  v3 = a1 + 8;
  *(_DWORD *)(v3 - 4) = 0;
  *(_DWORD *)(v3 + 1508) = a2;
  *(_DWORD *)(v3 + 1700) = 0;
  *(_DWORD *)(v3 - 8) = &off_2DF98;
  memset((void *)v3, 0, 0x5E4u);
  return v2;
}
// 2DF98: using guessed type void *;

//----- (0001C560) --------------------------------------------------------
void *__fastcall Hi62xxOverlay::resetSelf(Hi62xxOverlay *this)
{
  char *v1; // r0@1

  v1 = (char *)this + 8;
  *((_DWORD *)v1 - 1) = 0;
  return j_j_memset(v1, 0, 0x5E4u);
}

//----- (0001C570) --------------------------------------------------------
int __fastcall Hi62xxOverlay::setSource(Hi62xxOverlay *this, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r3@1
  Hi62xxOverlay *v5; // r5@1
  int v6; // r7@1
  int v7; // r2@1
  HwcConfig *v8; // r0@5
  const char *v9; // r2@6
  const char *v10; // r3@6
  const char *v11; // r1@6
  HwcConfig *v12; // r0@9
  signed int v13; // r3@12
  bool v14; // zf@14
  HwcConfig *v15; // r0@14
  int v16; // r1@14
  int v17; // r2@14
  int v18; // r3@14
  int v19; // r6@15
  int v20; // ST00_4@18
  int v21; // r6@18
  HwcConfig *v22; // r0@19
  signed int v24; // [sp+0h] [bp-40h]@6
  HwcConfig *v25; // [sp+18h] [bp-28h]@16
  int v26; // [sp+1Ch] [bp-24h]@16
  int v27; // [sp+20h] [bp-20h]@16
  int v28; // [sp+24h] [bp-1Ch]@16

  v3 = a3;
  v4 = *((_DWORD *)this + 379);
  v5 = this;
  v6 = a2;
  v7 = *(_WORD *)(v4 + 38);
  *((_DWORD *)this + 380) = v7;
  if ( v7 != 1 || *(_BYTE *)(v4 + 56) )
  {
    if ( !a2 || !v3 )
    {
      v8 = (HwcConfig *)Hi62xxOverlay::resetSelf(this);
      if ( HwcConfig::GetDebugLevel(v8) >= 0 )
      {
        v24 = 65;
        v9 = "%s:%d: setSource invalid input !! ";
        v10 = "setSource";
        v11 = "hwcomposer";
LABEL_11:
        _android_log_print(6, v11, v9, v10, v24);
        return -1;
      }
      return -1;
    }
    if ( !(*(_DWORD *)(a2 + 12) & 0x100) )
    {
      if ( *((_DWORD *)this + 1) > 7 )
      {
        v12 = (HwcConfig *)Hi62xxOverlay::resetSelf(this);
        if ( HwcConfig::GetDebugLevel(v12) >= 0 )
        {
          v24 = 76;
          v11 = "hwcomposer";
          v9 = "%s:%d: invalid surfaceNum !! ";
          v10 = "setSource";
          goto LABEL_11;
        }
        return -1;
      }
      v13 = *(_DWORD *)(a2 + 148);
      if ( v13 == -1 )
        v13 = 12;
      v14 = v13 == *(_DWORD *)(v3 + 32);
      v15 = *(HwcConfig **)(v3 + 4);
      v16 = *(_DWORD *)(v3 + 8);
      v17 = *(_DWORD *)(v3 + 12);
      v18 = *(_DWORD *)(v3 + 16);
      if ( v14 )
        v19 = *(_DWORD *)(v3 + 36);
      v26 = *(_DWORD *)(v3 + 8);
      v25 = v15;
      v27 = v17 - (_DWORD)v15;
      v28 = v18 - v16;
      if ( HwcConfig::GetDebugLevel(v15) > 1 )
        _android_log_print(
          4,
          "hwcomposer",
          "%s:%d: areaInfo->mRect l/t/r/b %d/%d/%d/%d",
          "setSource",
          99,
          *(_DWORD *)(v3 + 4),
          *(_DWORD *)(v3 + 8),
          *(_DWORD *)(v3 + 12),
          *(_DWORD *)(v3 + 16));
      v20 = *((_DWORD *)v5 + 1);
      v21 = (*(int (__cdecl **)(_DWORD, int, char *))(**((_DWORD **)v5 + 379) + 24))(
              *((_DWORD *)v5 + 379),
              v6,
              (char *)v5 + 8);
      ++*((_DWORD *)v5 + 1);
      if ( !v21 )
      {
        v22 = (HwcConfig *)Hi62xxOverlay::resetSelf(v5);
        if ( HwcConfig::GetDebugLevel(v22) > 2 )
          _android_log_print(3, "hwcomposer", "%s:%d: Hi62xxOverlay setNormalRegion ret=%d", "setSource", 108, 0, 0);
        return -1;
      }
    }
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001C6C4) --------------------------------------------------------
int __fastcall Hi62xxOverlay::finishOneArea(Hi62xxOverlay *this, int a2, int a3)
{
  int v3; // r4@1
  Hi62xxOverlay *v4; // r5@1
  int v5; // r7@1
  HwcConfig *v6; // r0@4
  const char *v7; // r1@5
  const char *v8; // r2@5
  const char *v9; // r3@5
  int result; // r0@7
  int v11; // r0@8
  int v12; // r1@8
  int v13; // r3@8
  int v14; // r4@8
  int *v15; // r4@8
  int *v16; // r0@8
  int v17; // r2@8
  int v18; // r1@9
  int v19; // r2@10
  int v20; // r1@11
  bool v21; // zf@11
  int v22; // r0@13
  HwcConfig *v23; // r0@14
  signed int v24; // [sp+0h] [bp-30h]@5
  int v25; // [sp+8h] [bp-28h]@8
  int v26; // [sp+Ch] [bp-24h]@8
  int v27; // [sp+10h] [bp-20h]@8
  int v28; // [sp+14h] [bp-1Ch]@8
  char v29; // [sp+18h] [bp-18h]@9

  v3 = a3;
  v4 = this;
  v5 = *((_DWORD *)this + 379);
  if ( *((_DWORD *)this + 380) != 1 || *(_BYTE *)(v5 + 56) )
  {
    if ( !a3 )
    {
      v6 = (HwcConfig *)Hi62xxOverlay::resetSelf(this);
      if ( HwcConfig::GetDebugLevel(v6) < 0 )
        return -1;
      v24 = 125;
      v7 = "hwcomposer";
      v8 = "%s:%d: finishOneArea invalid input !! ";
      v9 = "finishOneArea";
LABEL_6:
      _android_log_print(6, v7, v8, v9, v24);
      return -1;
    }
    memset((char *)this + 1524, 0, 0xB8u);
    v11 = *(_DWORD *)(v3 + 4);
    v12 = *(_DWORD *)(v3 + 8);
    v13 = *(_DWORD *)(v3 + 16);
    v14 = *(_DWORD *)(v3 + 12) - v11;
    v26 = v12;
    v25 = v11;
    v27 = v14;
    v15 = &v25;
    v28 = v13 - v12;
    (*(void (__fastcall **)(int, int *))(*(_DWORD *)v5 + 72))(v5, &v25);
    (*(void (**)(void))(**((_DWORD **)v4 + 379) + 76))();
    v16 = &v25;
    v17 = (int)v4 + 1636;
    do
    {
      v17 += 8;
      v18 = v16[1];
      *(_DWORD *)(v17 - 8) = *v16;
      v16 += 2;
      *(_DWORD *)(v17 - 4) = v18;
    }
    while ( (char *)v16 != &v29 );
    v19 = (int)v4 + 1652;
    do
    {
      v19 += 8;
      v20 = v15[1];
      v21 = (char *)(v15 + 2) == &v29;
      *(_DWORD *)(v19 - 8) = *v15;
      v15 += 2;
      *(_DWORD *)(v19 - 4) = v20;
    }
    while ( !v21 );
    v22 = *((_DWORD *)v4 + 379);
    *((_DWORD *)v4 + 381) = 0;
    if ( !(*(int (**)(void))(*(_DWORD *)v22 + 8))() )
    {
      v23 = (HwcConfig *)Hi62xxOverlay::resetSelf(v4);
      if ( HwcConfig::GetDebugLevel(v23) < 0 )
        return -1;
      v24 = 142;
      v7 = "hwcomposer";
      v8 = "%s:%d: finishOneArea commit error";
      v9 = "finishOneArea";
      goto LABEL_6;
    }
    *((_DWORD *)v4 + 1) = 0;
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001C7D8) --------------------------------------------------------
int __fastcall Hi62xxOverlay::play(Hi62xxOverlay *this, int a2, int a3)
{
  Hi62xxOverlay *v3; // r4@1
  int v4; // r3@1
  int v5; // r0@1
  int v6; // r6@1
  HwcConfig *v7; // r0@5
  const char *v8; // r1@6
  const char *v9; // r2@6
  const char *v10; // r3@6
  int result; // r0@8
  HwcConfig *v12; // r0@10
  int v13; // r0@12
  int v14; // r1@12
  int v15; // r3@12
  int v16; // r6@12
  int v17; // r0@12
  int *v18; // r5@12
  int *v19; // r0@12
  int v20; // r3@12
  int v21; // r1@13
  int v22; // r3@14
  int v23; // r1@15
  bool v24; // zf@15
  int v25; // r0@17
  HwcConfig *v26; // r0@18
  signed int v27; // [sp+0h] [bp-30h]@6
  int v28; // [sp+8h] [bp-28h]@12
  int v29; // [sp+Ch] [bp-24h]@12
  int v30; // [sp+10h] [bp-20h]@12
  int v31; // [sp+14h] [bp-1Ch]@12
  char v32; // [sp+18h] [bp-18h]@13

  v3 = this;
  v4 = *((_DWORD *)this + 380);
  v5 = *((_DWORD *)this + 379);
  v6 = a3;
  if ( v4 != 1 || *(_BYTE *)(v5 + 56) )
  {
    if ( !a2 || !a3 )
    {
      v7 = (HwcConfig *)Hi62xxOverlay::resetSelf(v3);
      if ( HwcConfig::GetDebugLevel(v7) < 0 )
        return -1;
      v27 = 162;
      v8 = "hwcomposer";
      v9 = "%s:%d: play invalid input !! ";
      v10 = "play";
LABEL_7:
      _android_log_print(6, v8, v9, v10, v27);
      return -1;
    }
    if ( (*(int (**)(void))(*(_DWORD *)v5 + 36))() )
    {
      v12 = (HwcConfig *)Hi62xxOverlay::resetSelf(v3);
      if ( HwcConfig::GetDebugLevel(v12) < 0 )
        return -1;
      v27 = 180;
      v8 = "hwcomposer";
      v9 = "%s:%d: play waitAcquireFenceFd error";
      v10 = "play";
      goto LABEL_7;
    }
    memset((char *)v3 + 1524, 0, 0xB8u);
    v13 = *(_DWORD *)(v6 + 4);
    v14 = *(_DWORD *)(v6 + 8);
    v15 = *(_DWORD *)(v6 + 16);
    v16 = *(_DWORD *)(v6 + 12) - v13;
    v28 = v13;
    v17 = *((_DWORD *)v3 + 379);
    v29 = v14;
    v30 = v16;
    v31 = v15 - v14;
    v18 = &v28;
    (*(void (**)(void))(*(_DWORD *)v17 + 72))();
    (*(void (**)(void))(**((_DWORD **)v3 + 379) + 76))();
    v19 = &v28;
    v20 = (int)v3 + 1636;
    do
    {
      v20 += 8;
      v21 = v19[1];
      *(_DWORD *)(v20 - 8) = *v19;
      v19 += 2;
      *(_DWORD *)(v20 - 4) = v21;
    }
    while ( (char *)v19 != &v32 );
    v22 = (int)v3 + 1652;
    do
    {
      v22 += 8;
      v23 = v18[1];
      v24 = (char *)(v18 + 2) == &v32;
      *(_DWORD *)(v22 - 8) = *v18;
      v18 += 2;
      *(_DWORD *)(v22 - 4) = v23;
    }
    while ( !v24 );
    v25 = *((_DWORD *)v3 + 379);
    *((_DWORD *)v3 + 381) = 1;
    if ( !(*(int (**)(void))(*(_DWORD *)v25 + 12))() )
    {
      v26 = (HwcConfig *)Hi62xxOverlay::resetSelf(v3);
      if ( HwcConfig::GetDebugLevel(v26) < 0 )
        return -1;
      v27 = 197;
      v8 = "hwcomposer";
      v9 = "%s:%d: play commit error";
      v10 = "play";
      goto LABEL_7;
    }
    Hi62xxOverlay::resetSelf(v3);
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001C938) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::isPartialUpdatesEnabled(Hi62xxAccelerator *this)
{
  return (*(int (**)(void))(**((_DWORD **)this + 1) + 48))();
}

//----- (0001C940) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::isCmdPanel(Hi62xxAccelerator *this)
{
  return (*(int (**)(void))(**((_DWORD **)this + 1) + 52))();
}

//----- (0001C948) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::setVirtualDisplayInfo(int a1, int a2, int a3)
{
  int result; // r0@9

  if ( a2 )
  {
    if ( *(_DWORD *)a2 != 12 || *(_DWORD *)(a2 + 8) != 48 || *(_DWORD *)(a2 + 4) != 1 )
    {
      a2 = 0;
    }
    else if ( *(_DWORD *)(a2 + 16) != 51647890 )
    {
      a2 = 0;
    }
  }
  *(_DWORD *)(*(_DWORD *)(a1 + 4) + 40) = a2;
  result = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(result + 44) = a3;
  return result;
}

//----- (0001C97C) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::enableVsync(Hi62xxAccelerator *this, bool a2)
{
  return (*(int (**)(void))(**((_DWORD **)this + 1) + 44))();
}

//----- (0001C984) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::enableVirtualDisp(Hi62xxAccelerator *this, bool a2)
{
  return (*(int (**)(void))(**((_DWORD **)this + 1) + 80))();
}

//----- (0001C98C) --------------------------------------------------------
Hi62xxAccelerator *__fastcall Hi62xxAccelerator::~Hi62xxAccelerator(Hi62xxAccelerator *this)
{
  Hi62xxAccelerator *v1; // r4@1

  v1 = this;
  android::Vector<HwcPolicy *>::do_construct();
  operator delete((void *)v1);
  return v1;
}

//----- (0001C9A0) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::getEvent(Hi62xxAccelerator *this, int *a2, void *a3, int *a4)
{
  int *v4; // r4@1
  Hi62xxAccelerator *v5; // r6@1
  int *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r6@3
  int result; // r0@4

  v4 = a4;
  v5 = this;
  v6 = a2;
  v7 = (const char *)a3;
  if ( !*((_BYTE *)this + 8) )
  {
    uevent_init();
    *((_BYTE *)v5 + 8) = 1;
  }
  *v6 = 0;
  v8 = uevent_next_event(v7, *v4 - 2);
  if ( v8 <= 0 || (result = strcmp(v7, "change@/devices/platform/balong_fb.1")) != 0 )
    result = -1;
  else
    *v4 = v8;
  return result;
}
// EEB0: using guessed type int uevent_init(void);
// EEBC: using guessed type int __fastcall uevent_next_event(_DWORD, _DWORD);

//----- (0001C9E4) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::Hi62xxAccelerator(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_BYTE *)(result + 8) = 0;
  *(_BYTE *)(result + 9) = 0;
  *(_DWORD *)result = &off_2DFF8;
  return result;
}
// 2DFF8: using guessed type void *;

//----- (0001C9FC) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::setGpuResource(int a1, int a2)
{
  char v2; // r2@1
  char v3; // r12@1
  int result; // r0@1

  *(_DWORD *)(*(_DWORD *)(a1 + 4) + 36) = 3072;
  v2 = *(_BYTE *)(a2 + 32);
  v3 = *(_BYTE *)(a2 + 28);
  *(_DWORD *)a2 = 0;
  result = v2 & 0xFC;
  *(_BYTE *)(a2 + 28) = v3 | 3;
  *(_BYTE *)(a2 + 32) = v2 & 0xFC | 0xC;
  return result;
}

//----- (0001CA24) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::setOnlineResource(int a1, int a2, int a3, unsigned int a4)
{
  char v4; // r4@1
  char v5; // r12@1
  char v6; // r4@1
  char v7; // r0@1
  char v8; // r4@1
  char v9; // r12@1
  char v10; // r4@1
  char v11; // r0@1
  char v12; // r4@1
  char v13; // r12@1
  char v14; // r4@1
  char v15; // r0@1
  char v16; // r4@1
  char v17; // r12@1
  char v18; // r4@1
  char v19; // r0@1
  char v20; // r4@1
  char v21; // r4@4
  char v22; // r4@9
  char v23; // r12@11
  char v24; // r0@11
  char v25; // r2@11
  char v26; // r12@11
  int result; // r0@11
  char v28; // r4@11
  char v29; // r12@11

  *(_DWORD *)(*(_DWORD *)(a1 + 4) + 36) = a3 + 2 * a4;
  v4 = *(_BYTE *)(a2 + 4);
  *(_DWORD *)a2 = 0;
  v5 = v4 & 0xF8;
  v6 = *(_BYTE *)(a2 + 5);
  *(_BYTE *)(a2 + 4) = v5 | 8;
  v7 = v6 | 4;
  v8 = *(_BYTE *)(a2 + 8);
  *(_BYTE *)(a2 + 5) = v7;
  v9 = v8 & 0xF0;
  v10 = *(_BYTE *)(a2 + 9);
  *(_BYTE *)(a2 + 8) = v9 | 9;
  v11 = v10 | 4;
  v12 = *(_BYTE *)(a2 + 12);
  *(_BYTE *)(a2 + 9) = v11;
  v13 = v12 & 0xF0;
  v14 = *(_BYTE *)(a2 + 13);
  *(_BYTE *)(a2 + 12) = v13 | 0xA;
  v15 = v14 | 4;
  v16 = *(_BYTE *)(a2 + 16);
  *(_BYTE *)(a2 + 13) = v15;
  v17 = v16 & 0xF0;
  v18 = *(_BYTE *)(a2 + 17);
  *(_BYTE *)(a2 + 16) = v17 | 0xB;
  v19 = v18 | 8;
  v20 = *(_BYTE *)(a2 + 20);
  *(_BYTE *)(a2 + 17) = v19;
  *(_BYTE *)(a2 + 20) = v20 & 0xF0 | 0xC;
  if ( !a3 && !a4 )
    *(_BYTE *)(a2 + 20) = v20 & 0xF0 | 0x2C;
  v21 = *(_BYTE *)(a2 + 24);
  *(_BYTE *)(a2 + 21) |= 5u;
  *(_BYTE *)(a2 + 24) = v21 & 0xF0 | 0xD;
  if ( !a3 )
  {
    if ( a4 > 1 )
      goto LABEL_9;
LABEL_6:
    *(_BYTE *)(a2 + 24) |= 0x20u;
    if ( !a3 )
      goto LABEL_9;
    goto LABEL_7;
  }
  if ( a4 == 1 )
    goto LABEL_6;
LABEL_7:
  if ( !a4 )
    *(_BYTE *)(a2 + 24) |= 0x40u;
LABEL_9:
  v22 = *(_BYTE *)(a2 + 25);
  if ( a4 )
    LOBYTE(a4) = 1;
  v23 = *(_BYTE *)(a2 + 36);
  *(_BYTE *)(a2 + 24) |= 0x80u;
  *(_BYTE *)(a2 + 25) = v22 | 4;
  v24 = *(_BYTE *)(a2 + 37);
  v25 = *(_BYTE *)(a2 + 40);
  *(_BYTE *)(a2 + 36) = v23 & 0xF8 | 5;
  v26 = v24 | 2;
  result = (unsigned __int8)(v25 & 0xF8) | 0x46;
  *(_BYTE *)(a2 + 37) = v26;
  v28 = *(_BYTE *)(a2 + 52);
  v29 = *(_BYTE *)(a2 + 48);
  *(_BYTE *)(a2 + 40) = result;
  *(_BYTE *)(a2 + 52) = v28 & 0xFC | a4 & 3;
  *(_BYTE *)(a2 + 48) = v29 | 0x21;
  return result;
}

//----- (0001CB2C) --------------------------------------------------------
int __fastcall Hi62xxAccelerator::setOfflineResource(int a1, int a2, int a3, int a4)
{
  char v4; // r12@1
  char v5; // r0@1
  char v6; // r12@1
  char v7; // r4@1
  char v8; // r0@1
  char v9; // r12@3
  char v10; // r4@3
  char v11; // r0@5
  char v12; // r4@5
  char v13; // r12@5
  char v14; // r4@5
  char v15; // r0@5
  char v16; // r4@5
  char v17; // r12@5
  char v18; // r4@5
  char v19; // r0@5
  char v20; // r4@5
  char v21; // r4@8
  char v22; // r4@9
  char v23; // r0@14
  char v24; // r12@16
  char v25; // r4@16
  char v26; // r0@16
  char v27; // r2@16
  int result; // r0@16
  char v29; // r12@16
  char v30; // r4@16

  *(_DWORD *)(*(_DWORD *)(a1 + 4) + 36) = a3 + 2 * a4 + 0x10000;
  v4 = *(_BYTE *)(a2 + 4);
  *(_DWORD *)a2 = 1;
  v5 = v4 & 0xF8;
  v6 = *(_BYTE *)(a2 + 5);
  *(_BYTE *)(a2 + 4) = v5 | 8;
  v7 = *(_BYTE *)(a2 + 8);
  v8 = v6 | 2;
  *(_BYTE *)(a2 + 5) = v6 | 2;
  if ( a4 == 1 )
    v8 = *(_BYTE *)(a2 + 4);
  v9 = v7 & 0xF0;
  v10 = *(_BYTE *)(a2 + 9);
  if ( a4 == 1 )
    *(_BYTE *)(a2 + 4) = v8 | 0x10;
  *(_BYTE *)(a2 + 8) = v9 | 9;
  v11 = v10 | 2;
  v12 = *(_BYTE *)(a2 + 12);
  *(_BYTE *)(a2 + 9) = v11;
  v13 = v12 & 0xF0;
  v14 = *(_BYTE *)(a2 + 13);
  *(_BYTE *)(a2 + 12) = v13 | 0xA;
  v15 = v14 | 2;
  v16 = *(_BYTE *)(a2 + 16);
  *(_BYTE *)(a2 + 13) = v15;
  v17 = v16 & 0xF0;
  v18 = *(_BYTE *)(a2 + 17);
  *(_BYTE *)(a2 + 16) = v17 | 0xB;
  v19 = v18 | 8;
  v20 = *(_BYTE *)(a2 + 20);
  *(_BYTE *)(a2 + 17) = v19;
  *(_BYTE *)(a2 + 20) = v20 & 0xF0 | 0xC;
  if ( !a3 && !a4 )
    *(_BYTE *)(a2 + 20) = v20 & 0xF0 | 0x2C;
  v21 = *(_BYTE *)(a2 + 24);
  *(_BYTE *)(a2 + 21) |= 3u;
  *(_BYTE *)(a2 + 24) = v21 & 0xF0 | 0xD;
  if ( a4 == 2 )
  {
    v22 = v21 & 0xF0 | 0x1D;
  }
  else if ( a4 != 1 && a3 )
  {
    v22 = *(_BYTE *)(a2 + 24) | 0x40;
  }
  else
  {
    v22 = *(_BYTE *)(a2 + 24) | 0x20;
  }
  *(_BYTE *)(a2 + 24) = v22;
  v23 = *(_BYTE *)(a2 + 25);
  if ( a4 )
    LOBYTE(a4) = 1;
  v24 = *(_BYTE *)(a2 + 32);
  *(_BYTE *)(a2 + 24) |= 0x80u;
  v25 = *(_BYTE *)(a2 + 28);
  *(_BYTE *)(a2 + 25) = v23 | 2;
  *(_BYTE *)(a2 + 28) = v25 | 3;
  v26 = *(_BYTE *)(a2 + 40);
  *(_BYTE *)(a2 + 32) = v24 & 0xFC | 0xC;
  v27 = v26 & 0xF8 | 0x46;
  result = *(_BYTE *)(a2 + 41) | 2;
  v29 = *(_BYTE *)(a2 + 48);
  v30 = *(_BYTE *)(a2 + 52);
  *(_BYTE *)(a2 + 40) = v27;
  *(_BYTE *)(a2 + 41) = result;
  *(_BYTE *)(a2 + 48) = v29 | 0x91;
  *(_BYTE *)(a2 + 52) = v30 & 0xFC | a4 & 3;
  return result;
}

//----- (0001CC58) --------------------------------------------------------
HwcConfig *__fastcall Hi62xxAccelerator::setGlobal(Hi62xxAccelerator *this, const HwcCompInfo *a2)
{
  Hi62xxAccelerator *v2; // r6@1
  const HwcCompInfo *v3; // r4@1
  const char *v4; // r1@3
  const char *v5; // r2@3
  const char *v6; // r3@3
  int v7; // r1@4
  int v8; // r3@4
  int v9; // r2@4
  int v10; // r0@4
  HwcConfig *v11; // r0@4
  HwcConfig *result; // r0@15
  signed int v13; // [sp+0h] [bp-60h]@3
  int v14; // [sp+8h] [bp-58h]@4
  int v15; // [sp+Ch] [bp-54h]@4
  int v16; // [sp+10h] [bp-50h]@4
  int v17; // [sp+14h] [bp-4Ch]@4
  char s; // [sp+18h] [bp-48h]@4

  v2 = this;
  v3 = a2;
  if ( !a2 )
  {
    if ( HwcConfig::GetDebugLevel(this) >= 0 )
    {
      v13 = 196;
      v4 = "hwcomposer";
      v5 = "%s:%d: invalid CompInfo !! ";
      v6 = "setGlobal";
LABEL_18:
      _android_log_print(6, v4, v5, v6, v13);
      return (HwcConfig *)-1;
    }
    return (HwcConfig *)-1;
  }
  memset(&s, 0, 0x38u);
  v7 = *((_DWORD *)v3 + 16);
  v8 = *((_DWORD *)v3 + 18);
  v9 = *((_DWORD *)v3 + 17) - *((_DWORD *)v3 + 15);
  v14 = *((_DWORD *)v3 + 15);
  v10 = *((_DWORD *)v2 + 1);
  v15 = v7;
  v16 = v9;
  v17 = v8 - v7;
  v11 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v10 + 60))();
  if ( !v11 )
  {
    v11 = (HwcConfig *)HwcConfig::GetDebugLevel(0);
    if ( (signed int)v11 >= 0 )
      v11 = (HwcConfig *)_android_log_print(6, "hwcomposer", "%s:%d: set dirty region fail!! ", "setGlobal", 206);
  }
  if ( *((_BYTE *)v3 + 77) )
  {
    Hi62xxAccelerator::setOfflineResource((int)v2, (int)&s, *((_BYTE *)v3 + 84), *((_DWORD *)v3 + 22));
    goto LABEL_15;
  }
  if ( *((_BYTE *)v3 + 76) )
  {
    Hi62xxAccelerator::setOnlineResource((int)v2, (int)&s, *((_BYTE *)v3 + 84), *((_DWORD *)v3 + 22));
    goto LABEL_15;
  }
  if ( *((_BYTE *)v3 + 78) )
  {
    Hi62xxAccelerator::setGpuResource((int)v2, (int)&s);
LABEL_15:
    result = (HwcConfig *)(*(int (**)(void))(**((_DWORD **)v2 + 1) + 56))();
    if ( !result )
      return result;
    if ( HwcConfig::GetDebugLevel(result) >= 0 )
    {
      v13 = 234;
      v4 = "hwcomposer";
      v5 = "%s:%d: setTopResource fail!! ";
      v6 = "setGlobal";
      goto LABEL_18;
    }
    return (HwcConfig *)-1;
  }
  if ( HwcConfig::GetDebugLevel(v11) >= 0 )
  {
    v13 = 229;
    v4 = "hwcomposer";
    v5 = "%s:%d: no compose, should not happen!! ";
    v6 = "setGlobal";
    goto LABEL_18;
  }
  return (HwcConfig *)-1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001CD80) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::calcClockRate(Hi62XXPerf *this, const HwcLayerInfo *_R1)
{
  int v6; // r4@1
  int v7; // r5@1
  int v8; // r2@2
  signed int result; // r0@4

  __asm
  {
    VLDR            S14, [R1,#0x24]
    VLDR            S12, [R1,#0x1C]
    VLDR            S15, [R1,#0x28]
    VLDR            S13, [R1,#0x20]
  }
  v6 = *((_DWORD *)_R1 + 14);
  v7 = *((_DWORD *)_R1 + 12);
  if ( *((_DWORD *)_R1 + 5) )
    goto LABEL_10;
  __asm { VCVTR.S32.F32   S0, S14 }
  v8 = *((_DWORD *)_R1 + 13) - *((_DWORD *)_R1 + 11);
  __asm
  {
    VCVTR.S32.F32   S1, S12
    VMOV            R1, S0
    VMOV            R3, S1
  }
  if ( _R1 - _R3 != v8 )
  {
LABEL_10:
    result = 360000000;
  }
  else
  {
    __asm
    {
      VCVTR.S32.F32   S2, S15
      VCVTR.S32.F32   S3, S13
      VMOV            R1, S2
      VMOV            R0, S3
    }
    if ( _R1 - _R0 == v6 - v7 )
      result = 180000000;
    else
      result = 360000000;
  }
  return result;
}

//----- (0001CDE4) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::getMaxClockRate(Hi62XXPerf *this)
{
  return 360000000;
}

//----- (0001CDEC) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::getBoostDdrRate(Hi62XXPerf *this)
{
  return 2553;
}

//----- (0001CDF4) --------------------------------------------------------
Hi62XXPerf *__fastcall Hi62XXPerf::~Hi62XXPerf(Hi62XXPerf *this)
{
  Hi62XXPerf *v1; // r4@1
  int v2; // r0@1

  v1 = this;
  *(_DWORD *)this = &off_2E070;
  v2 = *((_DWORD *)this + 1);
  if ( v2 >= 0 )
    close(v2);
  return v1;
}
// 2E070: using guessed type void *;

//----- (0001CE14) --------------------------------------------------------
Hi62XXPerf *__fastcall Hi62XXPerf::~Hi62XXPerf(Hi62XXPerf *this)
{
  Hi62XXPerf *v1; // r4@1

  v1 = this;
  Hi62XXPerf::~Hi62XXPerf(this);
  operator delete((void *)v1);
  return v1;
}

//----- (0001CE28) --------------------------------------------------------
unsigned int __fastcall Hi62XXPerf::totalBwToDdrRate(Hi62XXPerf *this, float _R1)
{
  Hi62XXPerf *v2; // r6@1
  unsigned int v8; // r4@2
  int v9; // ST10_4@7

  v2 = this;
  __asm
  {
    VLDR            S15, [R0,#0x18]
    VMOV            S16, R1
    VCVT.F32.U32    S0, S15
    VMUL.F32        S1, S16, S0
    VCVTR.U32.F32   S2, S1
    VMOV            R5, S2
  }
  if ( _R5 <= 0x96 )
    v8 = 0;
  else
    v8 = 480;
  if ( _R5 > 0x96 )
    v8 = (v8 * _R5 - 539) / 0x64;
  if ( HwcConfig::GetDebugLevel(this) > 2 )
  {
    __asm { VCVT.F64.F32    D16, S16 }
    v9 = *((_DWORD *)v2 + 6);
    __asm { VSTR            D16, [SP,#0x38+var_30] }
    _android_log_print(
      3,
      "hwcomposer",
      "%s:%d: bandWidth %f, mDdrFixedFactor %d, ddrRateFreq = %d, ddrRate = %d",
      "totalBwToDdrRate",
      123);
  }
  return v8;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001CEA8) --------------------------------------------------------
int __fastcall Hi62XXPerf::setGpuBoost(Hi62XXPerf *this, int a2)
{
  Hi62XXPerf *v2; // r11@1
  int result; // r0@1
  int v4; // r5@1
  HwcConfig *v5; // r0@2
  int v6; // r6@2
  int v7; // r1@3
  int *v8; // r0@4
  char *v9; // r0@4
  HwcConfig *v10; // r0@5
  int v11; // r7@5
  int v12; // r0@6
  int v13; // r1@6
  int *v14; // r0@7
  char *v15; // r0@7
  int v16; // r0@8
  size_t v17; // r0@10
  ssize_t v18; // r9@10
  HwcConfig *v19; // r0@10
  int v20; // r0@11
  int v21; // r1@11
  int *v22; // r0@12
  const char *v23; // r1@12
  const char *v24; // r2@12
  const char *v25; // r3@12
  size_t v26; // r0@16
  ssize_t v27; // r10@16
  HwcConfig *v28; // r0@16
  int v29; // r0@17
  int v30; // r1@17
  int *v31; // r0@18
  size_t v32; // r0@19
  ssize_t v33; // ST1C_4@19
  HwcConfig *v34; // r0@19
  int v35; // r0@20
  int v36; // r1@20
  int *v37; // r0@21
  size_t v38; // r0@22
  ssize_t v39; // r10@22
  HwcConfig *v40; // r0@22
  int v41; // r0@23
  int v42; // r1@23
  int *v43; // r0@24
  HwcConfig *v44; // r0@25
  const char *v45; // r5@27
  signed int v46; // [sp+0h] [bp-68h]@12
  signed int v47; // [sp+4h] [bp-64h]@12
  int *v48; // [sp+8h] [bp-60h]@12
  const char *v49; // [sp+Ch] [bp-5Ch]@12
  char *v50; // [sp+10h] [bp-58h]@12
  int v51; // [sp+24h] [bp-44h]@2
  signed int v52; // [sp+28h] [bp-40h]@2
  __int16 v53; // [sp+2Ch] [bp-3Ch]@2
  int v54; // [sp+30h] [bp-38h]@2
  signed int v55; // [sp+34h] [bp-34h]@2
  __int16 v56; // [sp+38h] [bp-30h]@2
  int v57; // [sp+3Ch] [bp-2Ch]@1

  v2 = this;
  result = *((_DWORD *)this + 7);
  v4 = a2;
  v57 = _stack_chk_guard;
  if ( a2 == result )
    goto LABEL_30;
  v51 = 808464437;
  v52 = 808464432;
  v53 = *(_WORD *)"0";
  v54 = 808465714;
  v55 = 808464432;
  v56 = *(_WORD *)"0";
  v5 = (HwcConfig *)open("/sys/class/devfreq/gpufreq/max_freq", 2050);
  v6 = (int)v5;
  if ( (signed int)v5 < 0 )
  {
    result = HwcConfig::GetDebugLevel(v5);
    if ( result >= 0 )
    {
      v8 = (int *)_errno(result, v7);
      v9 = strerror(*v8);
      result = _android_log_print(
                 6,
                 "hwcomposer",
                 "%s:%d: Can't open %s: %s\n",
                 "setGpuBoost",
                 228,
                 "/sys/class/devfreq/gpufreq/max_freq",
                 v9);
    }
    goto LABEL_30;
  }
  v10 = (HwcConfig *)open("/sys/class/devfreq/gpufreq/min_freq", 2050);
  v11 = (int)v10;
  if ( (signed int)v10 < 0 )
  {
    v12 = HwcConfig::GetDebugLevel(v10);
    if ( v12 >= 0 )
    {
      v14 = (int *)_errno(v12, v13);
      v15 = strerror(*v14);
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: Can't open %s: %s\n",
        "setGpuBoost",
        234,
        "/sys/class/devfreq/gpufreq/min_freq",
        v15);
    }
    v16 = v6;
    goto LABEL_15;
  }
  if ( v4 == 1 )
  {
    v17 = _strlen_chk(&v51, 10);
    v18 = write(v6, &v51, v17);
    v19 = (HwcConfig *)_strlen_chk(&v51, 10);
    if ( (HwcConfig *)v18 != v19 )
    {
      v20 = HwcConfig::GetDebugLevel(v19);
      if ( v20 < 0 )
      {
LABEL_14:
        close(v6);
        v16 = v11;
LABEL_15:
        result = close(v16);
        goto LABEL_30;
      }
      v22 = (int *)_errno(v20, v21);
      v50 = strerror(*v22);
      v46 = 242;
      v47 = 1;
      v48 = &v51;
      v49 = "/sys/class/devfreq/gpufreq/max_freq";
      v23 = "hwcomposer";
      v24 = "%s:%d: enable[%d] write %s to %s fail, %s\r\n";
      v25 = "setGpuBoost";
LABEL_13:
      _android_log_print(6, v23, v24, v25, v46, v47, v48, v49, v50);
      goto LABEL_14;
    }
    v26 = _strlen_chk(&v51, 10);
    v27 = write(v11, &v51, v26);
    v28 = (HwcConfig *)_strlen_chk(&v51, 10);
    if ( (HwcConfig *)v27 != v28 )
    {
      v29 = HwcConfig::GetDebugLevel(v28);
      if ( v29 < 0 )
        goto LABEL_14;
      v31 = (int *)_errno(v29, v30);
      v50 = strerror(*v31);
      v48 = &v51;
      v46 = 250;
      v47 = 1;
      v49 = "/sys/class/devfreq/gpufreq/min_freq";
      v23 = "hwcomposer";
      v24 = "%s:%d: enable[%d] write %s to %s fail, %s\r\n";
      v25 = "setGpuBoost";
      goto LABEL_13;
    }
  }
  else
  {
    v32 = _strlen_chk(&v51, 10);
    v33 = write(v6, &v51, v32);
    v34 = (HwcConfig *)_strlen_chk(&v51, 10);
    if ( (HwcConfig *)v33 != v34 )
    {
      v35 = HwcConfig::GetDebugLevel(v34);
      if ( v35 < 0 )
        goto LABEL_14;
      v37 = (int *)_errno(v35, v36);
      v50 = strerror(*v37);
      v46 = 259;
      v47 = v4;
      v48 = &v51;
      v49 = "/sys/class/devfreq/gpufreq/max_freq";
      v23 = "hwcomposer";
      v24 = "%s:%d: enable[%d] write %s to %s fail, %s\r\n";
      v25 = "setGpuBoost";
      goto LABEL_13;
    }
    v38 = _strlen_chk(&v54, 10);
    v39 = write(v11, &v54, v38);
    v40 = (HwcConfig *)_strlen_chk(&v54, 10);
    if ( (HwcConfig *)v39 != v40 )
    {
      v41 = HwcConfig::GetDebugLevel(v40);
      if ( v41 < 0 )
        goto LABEL_14;
      v43 = (int *)_errno(v41, v42);
      v50 = strerror(*v43);
      v49 = "/sys/class/devfreq/gpufreq/min_freq";
      v46 = 267;
      v47 = v4;
      v48 = &v54;
      v23 = "hwcomposer";
      v24 = "%s:%d: enable[%d] write %s to %s fail, %s\r\n";
      v25 = "setGpuBoost";
      goto LABEL_13;
    }
  }
  *((_DWORD *)v2 + 7) = v4;
  close(v6);
  v44 = (HwcConfig *)close(v11);
  result = HwcConfig::GetDebugLevel(v44);
  if ( result > 2 )
  {
    if ( v4 )
      v45 = "ON";
    else
      v45 = "OFF";
    result = _android_log_print(3, "hwcomposer", "%s:%d: gpu boost %s", "setGpuBoost", 278, v45);
  }
LABEL_30:
  if ( v57 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);
// EF64: using guessed type int __fastcall _strlen_chk(_DWORD, _DWORD);

//----- (0001D198) --------------------------------------------------------
int __fastcall Hi62XXPerf::calcLayerBw(Hi62XXPerf *this, const HwcLayerInfo *_R1)
{
  int v10; // r4@2
  int v11; // r0@2
  int v12; // r1@2
  int v14; // r12@2
  int result; // r0@18

  if ( *((_DWORD *)_R1 + 31) & 0x100 )
    goto LABEL_17;
  __asm
  {
    VLDR            S15, [R1,#0x24]
    VLDR            S14, [R1,#0x1C]
    VLDR            S2, [R1,#0x28]
    VLDR            S4, [R1,#0x20]
    VCVTR.S32.F32   S0, S15
    VCVTR.S32.F32   S1, S14
    VMOV.F32        S14, #1.0
    VCVTR.S32.F32   S3, S2
    VCVTR.S32.F32   S5, S4
    VMOV            R2, S0
    VMOV            R0, S1
    VMOV            R4, S5
  }
  _R3 = _R2 - _R0;
  __asm { VMOV            R0, S3 }
  _R2 = _R0 - _R4;
  _R0 = *((_DWORD *)_R1 + 13) - *((_DWORD *)_R1 + 11);
  v10 = *((_DWORD *)_R1 + 12);
  __asm { VMOV            S6, R0 }
  v11 = *((_DWORD *)_R1 + 14);
  v12 = *((_DWORD *)_R1 + 5);
  _R0 = v11 - v10;
  __asm { VCVT.F32.S32    S9, S6 }
  v14 = v12 << 29;
  if ( v12 << 29 < 0 )
  {
    v14 = _R3;
    _R3 = _R2;
  }
  __asm { VMOV            S12, R0 }
  if ( _NF )
    _R2 = v14;
  __asm
  {
    VMOV            S7, R3
    VMOV            S11, R2
    VCVT.F32.S32    S15, S12
    VCVT.F32.S32    S8, S7
    VCVT.F32.S32    S13, S11
    VDIV.F32        S10, S8, S9
    VDIV.F32        S0, S13, S15
    VCMPE.F32       S10, S0
    VMRS            APSR_nzcv, FPSCR
  }
  if ( (unsigned __int8)(_NF ^ _VF) | _ZF )
    __asm { VMOVLE.F32      S10, S0 }
  __asm { VCMPE.F32       S10, S14 }
  if ( v12 )
  {
    __asm { VMRS            APSR_nzcv, FPSCR }
    if ( (unsigned __int8)(_NF ^ _VF) | _ZF )
    {
      __asm { VLDR            S3, =0.0 }
      goto LABEL_13;
    }
LABEL_12:
    __asm
    {
      VLDR            S1, =0.0
      VADD.F32        S3, S10, S1
    }
    if ( !v12 )
      goto LABEL_18;
LABEL_13:
    __asm
    {
      VMOV.F32        S2, #1.5
      VADD.F32        S3, S3, S2
    }
    goto LABEL_18;
  }
  __asm { VMRS            APSR_nzcv, FPSCR }
  if ( !_ZF & _CF )
  {
    if ( !((unsigned __int8)(_NF ^ _VF) | _ZF) )
      goto LABEL_12;
LABEL_17:
    __asm { VLDR            S3, =0.0 }
    goto LABEL_18;
  }
  __asm { VMOV.F32        S3, S14 }
LABEL_18:
  __asm { VMOV            R0, S3 }
  return result;
}

//----- (0001D26C) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::setDdrRate(Hi62XXPerf *this, unsigned int a2)
{
  Hi62XXPerf *v2; // r6@1
  unsigned int v3; // r7@1
  HwcConfig *v4; // r0@4
  int v5; // r0@5
  int v6; // r1@5
  int *v7; // r0@6
  const char *v8; // r1@6
  const char *v9; // r2@6
  const char *v10; // r3@6
  signed int result; // r0@8
  int v12; // r6@9
  size_t v13; // r0@9
  ssize_t v14; // r7@9
  HwcConfig *v15; // r0@9
  int v16; // r0@10
  int v17; // r1@10
  int *v18; // r0@11
  signed int v19; // [sp+0h] [bp-40h]@6
  const char *v20; // [sp+4h] [bp-3Ch]@6
  char *v21; // [sp+8h] [bp-38h]@6
  char s; // [sp+14h] [bp-2Ch]@9
  int v23; // [sp+24h] [bp-1Ch]@1

  v2 = this;
  v3 = a2;
  v23 = _stack_chk_guard;
  if ( HwcConfig::GetDebugLevel(this) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: request ddr rate: %u MB/s", "setDdrRate", 162, v3);
  if ( *((_DWORD *)v2 + 1) < 0 )
  {
    v4 = (HwcConfig *)open("/dev/memory_throughput", 2050);
    *((_DWORD *)v2 + 1) = v4;
    if ( (signed int)v4 < 0 )
    {
      v5 = HwcConfig::GetDebugLevel(v4);
      if ( v5 < 0 )
      {
LABEL_8:
        result = 0;
        goto LABEL_13;
      }
      v7 = (int *)_errno(v5, v6);
      v21 = strerror(*v7);
      v19 = 167;
      v20 = "/dev/memory_throughput";
      v8 = "hwcomposer";
      v9 = "%s:%d: Can't open %s: %s\n";
      v10 = "setDdrRate";
LABEL_7:
      _android_log_print(6, v8, v9, v10, v19, v20, v21);
      goto LABEL_8;
    }
  }
  memset(&s, 0, 0x10u);
  snprintf(&s, 0xFu, "0x%08x", v3);
  v12 = *((_DWORD *)v2 + 1);
  v13 = _strlen_chk(&s, 16);
  v14 = write(v12, &s, v13);
  v15 = (HwcConfig *)_strlen_chk(&s, 16);
  if ( (HwcConfig *)v14 != v15 )
  {
    v16 = HwcConfig::GetDebugLevel(v15);
    if ( v16 < 0 )
      goto LABEL_8;
    v18 = (int *)_errno(v16, v17);
    v21 = strerror(*v18);
    v19 = 176;
    v20 = (const char *)v14;
    v8 = "hwcomposer";
    v10 = "setDdrRate";
    v9 = "%s:%d: write maxBps err = %d, %s\r\n";
    goto LABEL_7;
  }
  result = 1;
LABEL_13:
  if ( v23 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);
// EF64: using guessed type int __fastcall _strlen_chk(_DWORD, _DWORD);

//----- (0001D394) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::getCurrentDdrRate(Hi62XXPerf *this, unsigned int *a2)
{
  unsigned int *v2; // r7@1
  HwcConfig *v3; // r0@1
  int v4; // r6@1
  int v5; // r0@2
  int v6; // r1@2
  int *v7; // r0@3
  char *v8; // r0@3
  HwcConfig *v9; // r0@4
  HwcConfig *v10; // r8@4
  int v11; // r0@5
  int v12; // r1@5
  int *v13; // r0@6
  char *v14; // r0@6
  HwcConfig *v15; // r0@8
  signed int result; // r0@10
  char s; // [sp+14h] [bp-2Ch]@1
  int v18; // [sp+24h] [bp-1Ch]@1

  v2 = a2;
  v18 = _stack_chk_guard;
  memset(&s, 0, 0x10u);
  v3 = (HwcConfig *)open("/sys/class/devfreq/ddrfreq/ddr_bandwidth", 2048);
  v4 = (int)v3;
  if ( (signed int)v3 < 0 )
  {
    v5 = HwcConfig::GetDebugLevel(v3);
    if ( v5 >= 0 )
    {
      v7 = (int *)_errno(v5, v6);
      v8 = strerror(*v7);
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: Can't open %s: %s",
        "getCurrentDdrRate",
        193,
        "/sys/class/devfreq/ddrfreq/ddr_bandwidth",
        v8);
    }
LABEL_10:
    result = 0;
    goto LABEL_12;
  }
  v9 = (HwcConfig *)read((int)v3, &s, 0xAu);
  v10 = v9;
  if ( (signed int)v9 <= 0 )
  {
    v11 = HwcConfig::GetDebugLevel(v9);
    if ( v11 >= 0 )
    {
      v13 = (int *)_errno(v11, v12);
      v14 = strerror(*v13);
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: ddrFd[%d] read ddr band width err[%d]: %s\r\n",
        "getCurrentDdrRate",
        200,
        v4,
        v10,
        v14);
    }
    close(v4);
    goto LABEL_10;
  }
  close(v4);
  v15 = (HwcConfig *)strtoul(&s, 0, 10);
  *v2 = (unsigned int)v15;
  if ( HwcConfig::GetDebugLevel(v15) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: current ddr rate is %u MB/s", "getCurrentDdrRate", 207, *v2);
  result = 1;
LABEL_12:
  if ( v18 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);

//----- (0001D4B0) --------------------------------------------------------
signed int __fastcall Hi62XXPerf::setClockRate(Hi62XXPerf *this, unsigned int a2)
{
  Hi62XXPerf *v2; // r6@1

  v2 = this;
  HwcConfig::needAdjustAcceClock(this);
  (*(void (**)(void))(**((_DWORD **)v2 + 3) + 68))();
  return 1;
}

//----- (0001D4F4) --------------------------------------------------------
int __fastcall Hi62XXPerf::Hi62XXPerf(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r5@1
  int v4; // r1@1
  int v5; // r2@1
  int v6; // r5@1
  unsigned int v11; // r2@1
  int result; // r0@1

  v2 = a1;
  v3 = a2;
  *(_DWORD *)a1 = &off_2E070;
  *(_DWORD *)(a1 + 16) = *(_DWORD *)(HwcConfig::GetDisplay(0, a2) + 24);
  v5 = *(_DWORD *)(HwcConfig::GetDisplay(0, v4) + 20);
  *(_DWORD *)(v2 + 12) = v3;
  v6 = *(_DWORD *)(v2 + 16);
  __asm
  {
    VMOV.F32        S15, #1.5
    VMOV.F32        S14, #2.0
    VMOV.F32        S3, #5.0
    VMOV.F32        S5, #3.0
    VMOV.F32        S7, #0.125
    VLDR            S9, =1000.0
  }
  *(_DWORD *)(v2 + 20) = v5;
  v11 = v5 * v6;
  *(_DWORD *)(v2 + 4) = -1;
  _R0 = 240 * v11;
  *(_DWORD *)(v2 + 28) = 0;
  __asm { VMOV            S0, R0 }
  result = v2;
  if ( !_ZF )
    __asm { VMOVNE.F32      S14, S15 }
  *(_BYTE *)(v2 + 8) = v11 > 0x1FA3FF;
  __asm
  {
    VCVT.F32.U32    S1, S0
    VMUL.F32        S2, S1, S14
    VMUL.F32        S4, S2, S3
    VDIV.F32        S6, S4, S5
    VMUL.F32        S8, S6, S7
    VDIV.F32        S10, S8, S9
    VDIV.F32        S11, S10, S9
    VCVTR.U32.F32   S12, S11
    VSTR            S12, [R4,#0x18]
  }
  return result;
}
// 2E070: using guessed type void *off_2E070;

//----- (0001D594) --------------------------------------------------------
int __fastcall sub_1D594(int a1)
{
  return *(_DWORD *)(a1 + 24);
}

//----- (0001D598) --------------------------------------------------------
int __fastcall sub_1D598(int a1, int a2, int a3)
{
  return a1 + 160 * a2 + 20 * a3 + 32;
}

//----- (0001D5AC) --------------------------------------------------------
Hi363xPlatform *__fastcall Hi363xPlatform::~Hi363xPlatform(Hi363xPlatform *this)
{
  Hi363xPlatform *v1; // r4@1
  int v2; // r0@1
  int v3; // r0@3
  int v4; // r0@5
  int v5; // r0@7
  int v6; // r0@9
  void *v7; // r5@11
  int i; // r5@13
  void (__fastcall **v9)(_DWORD); // t1@15

  v1 = this;
  *(_DWORD *)this = &off_2E0B8;
  v2 = *((_DWORD *)this + 6);
  if ( v2 )
    (*(void (**)(void))(*(_DWORD *)v2 + 4))();
  v3 = *((_DWORD *)v1 + 3);
  if ( v3 )
    (*(void (**)(void))(*(_DWORD *)v3 + 4))();
  v4 = *((_DWORD *)v1 + 2);
  if ( v4 )
    (*(void (**)(void))(*(_DWORD *)v4 + 4))();
  v5 = *((_DWORD *)v1 + 1);
  if ( v5 )
    (*(void (**)(void))(*(_DWORD *)v5 + 4))();
  v6 = *((_DWORD *)v1 + 4);
  if ( v6 )
    (*(void (**)(void))(*(_DWORD *)v6 + 4))();
  v7 = (void *)*((_DWORD *)v1 + 5);
  if ( v7 )
  {
    HwcPureLayerChecker::~HwcPureLayerChecker(*((HwcPureLayerChecker **)v1 + 5));
    operator delete(v7);
  }
  for ( i = (int)v1 + 512; (Hi363xPlatform *)i != (Hi363xPlatform *)((char *)v1 + 32); (*v9)(i) )
  {
    v9 = *(void (__fastcall ***)(_DWORD))(i - 20);
    i -= 20;
  }
  return v1;
}
// 2E0B8: using guessed type void *;

//----- (0001D61C) --------------------------------------------------------
Hi363xPlatform *__fastcall Hi363xPlatform::~Hi363xPlatform(Hi363xPlatform *this)
{
  Hi363xPlatform *v1; // r4@1

  v1 = this;
  Hi363xPlatform::~Hi363xPlatform(this);
  operator delete((void *)v1);
  return v1;
}

//----- (0001D630) --------------------------------------------------------
int __fastcall Hi363xPlatform::handleEvent(int a1, int a2, int a3, const char *a4)
{
  int v4; // r5@1
  const char *v5; // r4@1
  HwcConfig *v6; // r0@1
  unsigned __int64 v7; // r0@2
  int v9; // [sp+8h] [bp-10h]@1

  v9 = a3;
  v4 = a2;
  v5 = a4;
  v6 = (HwcConfig *)strncmp(a4, "VSYNC=", 6u);
  if ( v6 )
  {
    if ( HwcConfig::GetDebugLevel(v6) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: Invalid vsync timestamp format: %s\n", "handleEvent", 194, v5, v9);
    LODWORD(v7) = systemTime(1);
  }
  else
  {
    v7 = strtoull(v5 + 6, 0, 0);
  }
  (*(void (__fastcall **)(int, _DWORD, _DWORD, _DWORD))(v4 + 4))(v4, 0, v7, HIDWORD(v7));
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// F048: using guessed type int __fastcall systemTime(_DWORD);

//----- (0001D698) --------------------------------------------------------
_DWORD *__fastcall Hi363xPlatform::Hi363xPlatform(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int v2; // r8@1
  int v3; // r5@1
  int v4; // r6@1
  int v5; // r7@2
  Hi363xAccelerator *v6; // r7@5
  Hi363xOverlay *v7; // r5@5
  Hi363xComposer *v8; // r7@5
  Hi363xPerf *v9; // r5@5
  int v10; // r1@5
  Segmenter *v11; // r7@5
  int v12; // r7@5
  _DWORD *v13; // r5@5
  int v14; // r1@5
  char *v15; // r5@6
  int v16; // r9@6
  int v17; // r8@7
  int v18; // t1@8

  v1 = a1;
  v2 = (int)(a1 + 128);
  *a1 = &off_2E0B8;
  v3 = (int)(a1 + 8);
  v4 = (int)(a1 + 8);
  do
  {
    v5 = 0;
    do
    {
      android::VectorImpl::VectorImpl((android::VectorImpl *)(v3 + v5), 4u, 7u);
      *(_DWORD *)(v3 + v5) = &off_2DE68;
      v5 += 20;
    }
    while ( v5 != 160 );
    v3 += 160;
  }
  while ( v3 != v2 );
  v6 = (Hi363xAccelerator *)operator new(0xCu);
  Hi363xAccelerator::Hi363xAccelerator(v6);
  v1[1] = v6;
  v7 = (Hi363xOverlay *)operator new(0x840u);
  Hi363xOverlay::Hi363xOverlay(v7, "/dev/graphics/fb0");
  v1[2] = v7;
  v8 = (Hi363xComposer *)operator new(0x820u);
  Hi363xComposer::Hi363xComposer(v8, "/dev/graphics/fb2");
  v1[3] = v8;
  v9 = (Hi363xPerf *)operator new(0x1Cu);
  Hi363xPerf::Hi363xPerf(v9, v10);
  v1[4] = v9;
  v11 = (Segmenter *)operator new(8u);
  Segmenter::Segmenter(v11, 0);
  v1[6] = v11;
  v12 = 0;
  v13 = (_DWORD *)operator new(0x10u);
  HwcPureLayerChecker::HwcPureLayerChecker(v13);
  v1[5] = v13;
  v1[7] = *(_DWORD *)(HwcConfig::GetDisplay(0, v14) + 20);
  do
  {
    v15 = (char *)&off_2F540 + v12 + 28;
    v16 = v4;
    do
    {
      v17 = (int)(v15 - 32);
      do
      {
        v18 = *(_DWORD *)(v17 + 4);
        v17 += 4u;
        if ( v18 )
          android::VectorImpl::insertAt((android::VectorImpl *)v16, (const void *)v17, *(_DWORD *)(v16 + 8), 1u);
      }
      while ( (char *)v17 != v15 );
      v15 = (char *)(v17 + 32);
      v16 += 20;
    }
    while ( (void **)(v17 + 32) != (void **)((char *)&off_2F540 + v12 + 284) );
    v12 += 256;
    v4 += 160;
  }
  while ( v12 != 768 );
  return v1;
}
// 2DE68: using guessed type void *off_2DE68;
// 2E0B8: using guessed type void *off_2E0B8;
// 2F540: using guessed type void *off_2F540;

//----- (0001D7A4) --------------------------------------------------------
signed int __fastcall Hi363xPlatform::ScfCanHandle(int a1, int *a2)
{
  int v3; // r5@1
  int v7; // r12@2
  int v8; // r6@2
  int v14; // r2@2
  int v15; // r3@4
  int v16; // r4@4
  HwcConfig *v17; // r0@6
  int v18; // r1@6
  int v19; // r5@8
  int v20; // r4@9
  const char *v21; // r1@11
  const char *v22; // r2@11
  const char *v23; // r3@11
  signed int v25; // [sp+0h] [bp-18h]@11
  int *v26; // [sp+4h] [bp-14h]@1

  v26 = a2;
  _R1 = *a2;
  v3 = *(_DWORD *)(_R1 + 124);
  if ( v3 & 8 )
  {
    __asm { VLDR            S15, [R1,#0x24] }
    v7 = *(_DWORD *)(_R1 + 124) << 30;
    __asm
    {
      VLDR            S14, [R1,#0x1C]
      VLDR            S2, [R1,#0x28]
      VLDR            S4, [R1,#0x20]
    }
    v8 = *(_DWORD *)(_R1 + 44);
    __asm
    {
      VCVTR.S32.F32   S0, S15
      VCVTR.S32.F32   S1, S14
      VCVTR.S32.F32   S3, S2
      VCVTR.S32.F32   S5, S4
      VMOV            R3, S0
      VMOV            R2, S1
      VMOV            R0, S3
      VMOV            R4, S5
    }
    v14 = _R3 - _R2;
    if ( _NF )
      v7 = v14;
    v15 = _R0 - _R4;
    v16 = *(_DWORD *)(_R1 + 52);
    if ( _NF )
    {
      v14 = v15;
      v15 = v7;
    }
    v17 = *(HwcConfig **)(_R1 + 56);
    v18 = *(_DWORD *)(_R1 + 48);
    if ( v14 <= 5 || v15 <= 5 || (v19 = v16 - v8, v16 - v8 <= 3) || (v20 = (int)v17 - v18, (signed int)v17 - v18 <= 3) )
    {
      if ( HwcConfig::GetDebugLevel(v17) > 0 )
      {
        v25 = 221;
        v21 = "hwcomposer";
        v22 = "%s:%d: layer use scf but not satisfy scf 6*6(input) or 4*4(output)";
        v23 = "ScfCanHandle";
LABEL_22:
        _android_log_print(5, v21, v22, v23, v25, v26);
        return 0;
      }
      return 0;
    }
    if ( v19 > v14 && v19 > 8 * v14
      || v20 > v15 && v20 > 8 * v15
      || v14 > v19 && v14 > v19 << 6
      || v15 > v20 && v15 > (_DWORD)((_DWORD)v17 - v18) << 6 )
    {
      if ( HwcConfig::GetDebugLevel(v17) > 0 )
      {
        v25 = 231;
        v21 = "hwcomposer";
        v23 = "ScfCanHandle";
        v22 = "%s:%d: layer SCF fator is larger than 8 or smaller than 64";
        goto LABEL_22;
      }
      return 0;
    }
  }
  return 1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001D894) --------------------------------------------------------
signed int __fastcall Hi363xPlatform::FormatCanHandle(int a1, int a2)
{
  int v2; // r0@2
  signed int result; // r0@3

  if ( *(_DWORD *)(*(_DWORD *)a2 + 124) & 0x20 )
  {
    result = 0;
  }
  else
  {
    v2 = sub_11658(*(_DWORD *)(*(_DWORD *)a2 + 16));
    if ( v2 )
      result = *(_DWORD *)(v2 + 20) != 3;
    else
      result = 1;
  }
  return result;
}

//----- (0001D8B8) --------------------------------------------------------
signed int __fastcall Hi363xPlatform::StrideCanHandle(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r0@1
  int v4; // r4@5
  signed int result; // r0@7

  v2 = *(_DWORD *)a2;
  v3 = sub_11658(*(_DWORD *)(*(_DWORD *)a2 + 16));
  if ( v3 && *(_DWORD *)(v3 + 136) & 0x4000000 && *(_DWORD *)(v3 + 116) )
  {
    if ( *(_DWORD *)(v2 + 124) << 30 >= 0 )
      v4 = *(_DWORD *)(v3 + 88);
    else
      v4 = *(_DWORD *)(v3 + 92);
    result = (v4 & 0xF) == 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (0001D8EC) --------------------------------------------------------
signed int __fastcall Hi363xPlatform::BlockAlgorithmCanHandle(int a1, int a2, int a3)
{
  int v3; // r5@1
  unsigned int v4; // r4@1
  signed int result; // r0@5
  int v13; // [sp+4h] [bp-14h]@1
  int v14; // [sp+8h] [bp-10h]@1

  v13 = a2;
  v14 = a3;
  v3 = a2;
  v4 = *(_DWORD *)(a1 + 28);
  if ( !v4 && HwcConfig::GetDebugLevel((HwcConfig *)a1) >= 0 )
    _android_log_print(
      6,
      "hwcomposer",
      "%s:%d: display width should not be 0",
      "BlockAlgorithmCanHandle",
      284,
      v13,
      v14);
  _R1 = *(_DWORD *)v3;
  if ( (*(_DWORD *)(*(_DWORD *)v3 + 124) & 0xA) == 10 )
  {
    __asm
    {
      VLDR            S15, [R1,#0x28]
      VLDR            S14, [R1,#0x20]
      VCVTR.S32.F32   S0, S15
      VCVTR.S32.F32   S1, S14
      VMOV            R3, S0
      VMOV            R5, S1
    }
    result = _R3 - _R5 <= (*(_DWORD *)(_R1 + 52) - *(_DWORD *)(_R1 + 44)) * (186 / (signed int)(v4 / 0x1E));
  }
  else
  {
    result = 1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001D96C) --------------------------------------------------------
unsigned int **__fastcall Hi363xPlatform::preprocess(Hi363xPlatform *this, HwcCompInfo *a2)
{
  Hi363xPlatform *v2; // r8@1
  HwcCompInfo *v3; // r6@1
  unsigned int v4; // r7@1
  int i; // r5@1
  unsigned int **result; // r0@2
  unsigned int **v7; // ST0C_4@4
  HwcConfig *v8; // ST0C_4@5
  int v9; // r2@11
  HwcConfig *v10; // ST0C_4@11
  int v11; // r0@13
  int v12; // r0@13
  unsigned int **v21; // [sp+Ch] [bp-34h]@6
  char v22; // [sp+14h] [bp-2Ch]@4

  v2 = this;
  v3 = a2;
  v4 = 0;
  for ( i = *(_DWORD *)(*((_DWORD *)a2 + 4) + 8); ; i = *(_DWORD *)(i + 8) )
  {
    result = (unsigned int **)*((_DWORD *)v3 + 4);
    if ( (unsigned int **)i == result )
      break;
    if ( *(_DWORD *)(*(_DWORD *)i + 12) & 1 )
      goto LABEL_22;
    android::sp<HwcLayerInfo>::sp((unsigned int **)&v22, (unsigned int **)i);
    v7 = (unsigned int **)Hi363xPlatform::ScfCanHandle((int)v2, (int *)&v22);
    android::sp<HwcLayerInfo>::~sp((unsigned int **)&v22);
    result = v7;
    if ( !v7 )
      goto LABEL_22;
    android::sp<HwcLayerInfo>::sp((unsigned int **)&v22, (unsigned int **)i);
    v8 = (HwcConfig *)Hi363xPlatform::FormatCanHandle((int)v2, (int)&v22);
    result = android::sp<HwcLayerInfo>::~sp((unsigned int **)&v22);
    if ( !v8 )
      goto LABEL_22;
    android::sp<HwcLayerInfo>::sp((unsigned int **)&v22, (unsigned int **)i);
    v21 = (unsigned int **)Hi363xPlatform::StrideCanHandle((int)v2, (int)&v22);
    android::sp<HwcLayerInfo>::~sp((unsigned int **)&v22);
    result = v21;
    if ( !v21 )
      goto LABEL_22;
    if ( *(_DWORD *)(*((_DWORD *)v3 + 24) + 4) > 1u )
    {
      result = (unsigned int **)HwcConfig::GetDebugLevel((HwcConfig *)v21);
      if ( (signed int)result > 2 )
        result = (unsigned int **)_android_log_print(
                                    3,
                                    "hwcomposer",
                                    "%s:%d: virtual display count %d >= 2, use gpu compose",
                                    "preprocess",
                                    152,
                                    *(_DWORD *)(*((_DWORD *)v3 + 24) + 4));
LABEL_22:
      *((_BYTE *)v3 + 81) = 1;
      *((_BYTE *)v3 + 82) = 1;
      return result;
    }
    if ( !*((_BYTE *)v3 + 81) )
    {
      android::sp<HwcLayerInfo>::sp((unsigned int **)&v22, (unsigned int **)i);
      v10 = (HwcConfig *)Hi363xPlatform::BlockAlgorithmCanHandle((int)v2, (int)&v22, v9);
      result = android::sp<HwcLayerInfo>::~sp((unsigned int **)&v22);
      if ( !v10 )
        *((_BYTE *)v3 + 81) = 1;
    }
    v11 = HwcConfig::GetPlatform((HwcConfig *)result);
    v12 = (*(int (**)(void))(*(_DWORD *)v11 + 8))();
    if ( !(*(int (**)(void))(*(_DWORD *)v12 + 28))() )
    {
      _R0 = *(unsigned int **)i;
      if ( *(_DWORD *)(*(_DWORD *)i + 20) )
      {
        if ( _R0[24] == 2 )
        {
          __asm
          {
            VLDR            S15, [R0,#0x28]
            VLDR            S14, [R0,#0x20]
            VLDR            S2, [R0,#0x24]
            VLDR            S4, [R0,#0x1C]
            VCVTR.S32.F32   S0, S15
            VCVTR.S32.F32   S1, S14
            VCVTR.S32.F32   S3, S2
            VCVTR.S32.F32   S5, S4
            VMOV            R1, S0
            VMOV            R4, S1
            VMOV            R2, S3
            VMOV            R0, S5
          }
          if ( (_R2 - (signed int)_R0) * (_R1 - _R4) > 0x10000 )
            ++v4;
        }
      }
      if ( v4 > 1 )
      {
        *((_BYTE *)v3 + 82) = 1;
        if ( HwcConfig::GetDebugLevel((HwcConfig *)_R0) > 2 )
          _android_log_print(
            3,
            "hwcomposer",
            "%s:%d: Bypass online because cpu drawed layers is %u.",
            "preprocess",
            171,
            v4);
      }
    }
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001DB08) --------------------------------------------------------
signed int __fastcall sub_1DB08(signed int a1)
{
  if ( a1 == 16 )
    return 15;
  if ( a1 > 16 )
  {
    if ( a1 == 256 )
      return 17;
    if ( a1 > 256 )
    {
      if ( a1 == 257 )
        return 21;
      if ( a1 == 842094169 )
        return 22;
    }
    else
    {
      if ( a1 == 17 )
        return 18;
      if ( a1 == 20 )
        return 14;
    }
    return -1;
  }
  if ( a1 == 2 )
    return 5;
  if ( a1 > 2 )
  {
    if ( a1 == 4 )
      return 0;
    if ( a1 == 5 )
      return 13;
    return -1;
  }
  if ( a1 != 1 )
    return -1;
  return 6;
}

//----- (0001DB74) --------------------------------------------------------
int __fastcall sub_1DB74(int a1)
{
  int v1; // r3@1
  bool v2; // nf@3
  int v3; // r0@3

  v1 = a1 & 1;
  if ( a1 << 30 < 0 )
    v1 |= 2u;
  v2 = a1 << 29 < 0;
  v3 = a1 & 3;
  if ( v2 )
    v1 |= 4u;
  if ( v3 == 3 )
    v1 |= 3u;
  return v1;
}

//----- (0001DB98) --------------------------------------------------------
signed int __fastcall Hi363xComposer::convertLayer(Hi363xComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return -1;
}

//----- (0001DBA0) --------------------------------------------------------
Hi363xComposer *__fastcall Hi363xComposer::~Hi363xComposer(Hi363xComposer *this)
{
  Hi363xComposer *v1; // r4@1
  int v2; // r0@1

  v1 = this;
  *(_DWORD *)this = &off_2E0F0;
  v2 = *((_DWORD *)this + 1);
  if ( v2 > 0 )
    close(v2);
  return v1;
}
// 2E0F0: using guessed type void *;

//----- (0001DBC0) --------------------------------------------------------
Hi363xComposer *__fastcall Hi363xComposer::~Hi363xComposer(Hi363xComposer *this)
{
  Hi363xComposer *v1; // r4@1

  v1 = this;
  Hi363xComposer::~Hi363xComposer(this);
  operator delete((void *)v1);
  return v1;
}

//----- (0001DBD4) --------------------------------------------------------
signed int __fastcall sub_1DBD4(HwcConfig *a1)
{
  HwcConfig *v1; // r4@1

  v1 = a1;
  if ( a1 == (HwcConfig *)16 )
    return 2;
  if ( (signed int)a1 > 16 )
  {
    if ( (signed int)a1 >= 258 )
    {
      a1 = (HwcConfig *)842094169;
      if ( v1 != (HwcConfig *)842094169 )
        goto LABEL_18;
    }
    else if ( (signed int)a1 < 256 && a1 != (HwcConfig *)17 )
    {
      if ( a1 != (HwcConfig *)20 )
        goto LABEL_18;
      return 2;
    }
    return 1;
  }
  if ( a1 == (HwcConfig *)4 )
    return 2;
  if ( (signed int)a1 > 4 )
  {
    if ( a1 != (HwcConfig *)5 )
      goto LABEL_18;
    return 4;
  }
  if ( (unsigned int)a1 - 1 <= 1 )
    return 4;
LABEL_18:
  if ( HwcConfig::GetDebugLevel(a1) >= 0 )
    _android_log_print(6, "hwcomposer", "%s:%d: unrecognized hwc format %d!", "pixel_format_2bpp", 119, v1);
  return -1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001DC58) --------------------------------------------------------
signed int __fastcall Hi363xComposer::setSource(int a1, int a2)
{
  int v2; // r8@1
  unsigned int v4; // r7@1
  unsigned int v5; // r10@1
  const char *v6; // r1@3
  const char *v7; // r3@3
  const char *v8; // r2@3
  signed int result; // r0@5
  int v10; // r9@6
  int v11; // r6@6
  int v12; // r3@6
  signed int v13; // r2@7
  int v15; // r6@12
  int v16; // r0@12
  int v17; // r5@12
  int v18; // r6@13
  int v19; // r1@14
  int v20; // r9@16
  int v21; // r0@22
  int v22; // r3@22
  int v23; // r2@22
  int v24; // r5@25
  signed int v25; // r3@28
  int v26; // r8@34
  signed int v34; // [sp+0h] [bp-78h]@3
  unsigned int v35; // [sp+4h] [bp-74h]@3
  char dest; // [sp+8h] [bp-70h]@6

  v2 = a1;
  _R4 = a2;
  v4 = *(_DWORD *)(a1 + 2072);
  v5 = *(_DWORD *)(*(_DWORD *)(a2 + 116) + 4);
  if ( v5 > 0xF )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) < 0 )
      return -1;
    v34 = 72;
    v35 = v5;
    v6 = "hwcomposer";
    v7 = "setSource";
    v8 = "%s:%d: Invalid channel ID: %d";
LABEL_4:
    _android_log_print(6, v6, v8, v7, v34, v35);
    return -1;
  }
  v10 = 0;
  *(_DWORD *)(a1 + 2072) = v4 + 1;
  v11 = *(_DWORD *)(a2 + 124);
  memcpy(&dest, "@", 0x48u);
  v12 = 0;
  do
  {
    v13 = 1 << v12;
    _ZF = ((1 << v12) & v11) == 0;
    if ( (1 << v12) & v11 )
      v13 = *((_DWORD *)&dest + v12);
    ++v12;
    if ( !_ZF )
      v10 |= v13;
  }
  while ( v12 != 18 );
  v15 = v2 + 208 * v4;
  *(_DWORD *)(v15 + 176) = v10;
  v16 = sub_11658(*(_DWORD *)(_R4 + 16));
  v17 = v16;
  if ( v16 )
  {
    *(_DWORD *)(v15 + 8) = sub_1DB08(*(_DWORD *)(v16 + 20));
    *(_DWORD *)(v15 + 12) = *(_DWORD *)(v17 + 88);
    *(_DWORD *)(v15 + 16) = *(_DWORD *)(v17 + 92);
    *(_DWORD *)(v15 + 20) = sub_1DBD4(*(HwcConfig **)(v17 + 20));
    *(_DWORD *)(v15 + 24) = *(_DWORD *)(v17 + 32);
    *(_QWORD *)(v15 + 40) = *(_DWORD *)(v17 + 96);
    *(_QWORD *)(v15 + 48) = *(_DWORD *)(v17 + 116);
    *(_DWORD *)(v15 + 28) = *(_DWORD *)(v17 + 100);
    *(_QWORD *)(v15 + 56) = *(_DWORD *)(v17 + 108);
    *(_DWORD *)(v15 + 32) = *(_DWORD *)(v17 + 104);
    *(_QWORD *)(v15 + 64) = *(_DWORD *)(v17 + 112);
    *(_DWORD *)(v15 + 72) = *(_DWORD *)(v17 + 124);
    *(_DWORD *)(v15 + 76) = *(_DWORD *)(v17 + 128);
    *(_DWORD *)(v15 + 36) = *(_DWORD *)(v17 + 120);
    *(_DWORD *)(v15 + 80) = (unsigned int)(*(_DWORD *)(v17 + 132) - 1) <= 0;
    *(_DWORD *)(v15 + 84) = __clz(*(_DWORD *)(v17 + 96)) >> 5;
    v18 = *(_DWORD *)(v17 + 68);
    if ( (unsigned int)(v18 - 1) > 3 )
      v19 = 0;
    else
      v19 = byte_2C3A8[v18 - 1];
    v20 = v2 + 208 * v4;
    *(_DWORD *)(v20 + 88) = v19;
    *(_DWORD *)(v20 + 96) = *(_DWORD *)(v17 + 12);
  }
  else if ( *(_DWORD *)(_R4 + 4) == 2 )
  {
    *(_DWORD *)(v15 + 176) = v10 | 8;
    *(_DWORD *)(208 * v4 + v2 + 164) = *(_DWORD *)(_R4 + 16);
  }
  else if ( !(*(_DWORD *)(_R4 + 12) & 0x100) )
  {
    if ( HwcConfig::GetDebugLevel(0) < 0 )
      return -1;
    v34 = 107;
    v35 = v4;
    v6 = "hwcomposer";
    v8 = "%s:%d: layer %d with NULL handle";
    v7 = "setSource";
    goto LABEL_4;
  }
  v21 = sub_1DB74(*(_DWORD *)(_R4 + 20));
  v22 = v2 + 208 * v4;
  v23 = *(_DWORD *)(v22 + 176);
  *(_DWORD *)(v22 + 152) = v21;
  if ( v23 & 0x10 && v21 )
    *(_DWORD *)(v22 + 152) = 0;
  v24 = *(_DWORD *)(_R4 + 24);
  switch ( v24 )
  {
    case 261:
      v25 = 1;
      break;
    case 1029:
      v25 = 2;
      break;
    case 256:
      v25 = 0;
      break;
    default:
      if ( HwcConfig::GetDebugLevel((HwcConfig *)0x105) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: unrecognized hwc blending %d!", "blending_hal2dss", 133, v24);
      v25 = -1;
      break;
  }
  v26 = v2 + 208 * v4;
  *(_DWORD *)(v26 + 156) = v25;
  __asm
  {
    VLDR            S15, [R4,#0x1C]
    VCVTR.S32.F32   S0, S15
    VSTR            S0, [R8,#0x68]
    VLDR            S1, [R4,#0x20]
    VCVTR.S32.F32   S2, S1
    VSTR            S2, [R8,#0x6C]
    VLDR            S3, [R4,#0x24]
    VLDR            S14, [R4,#0x1C]
    VCVTR.S32.F32   S4, S3
    VCVTR.S32.F32   S5, S14
    VMOV            R5, S4
    VMOV            R6, S5
  }
  *(_DWORD *)(v26 + 112) = _R5 - _R6;
  __asm
  {
    VLDR            S6, [R4,#0x28]
    VLDR            S8, [R4,#0x20]
    VCVTR.S32.F32   S7, S6
    VCVTR.S32.F32   S9, S8
    VMOV            R3, S7
    VMOV            R1, S9
  }
  *(_DWORD *)(v26 + 116) = _R3 - _R1;
  *(_DWORD *)(v26 + 120) = *(_DWORD *)(_R4 + 128);
  *(_DWORD *)(v26 + 124) = *(_DWORD *)(_R4 + 132);
  *(_DWORD *)(v26 + 128) = *(_DWORD *)(_R4 + 136) - *(_DWORD *)(_R4 + 128);
  *(_DWORD *)(v26 + 132) = *(_DWORD *)(_R4 + 140) - *(_DWORD *)(_R4 + 132);
  *(_DWORD *)(v26 + 136) = *(_DWORD *)(_R4 + 44);
  *(_DWORD *)(v26 + 140) = *(_DWORD *)(_R4 + 48);
  *(_DWORD *)(v26 + 144) = *(_DWORD *)(_R4 + 52) - *(_DWORD *)(_R4 + 44);
  result = 0;
  *(_DWORD *)(v26 + 148) = *(_DWORD *)(_R4 + 56) - *(_DWORD *)(_R4 + 48);
  *(_DWORD *)(v26 + 160) = *(_BYTE *)(_R4 + 76);
  *(_DWORD *)(v26 + 168) = v4;
  *(_DWORD *)(v26 + 172) = dword_2C3F0[v5];
  *(_DWORD *)(v26 + 184) = *(_DWORD *)(_R4 + 68);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001DF2C) --------------------------------------------------------
signed int __fastcall Hi363xComposer::Compose(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r6@1
  int v4; // r2@1
  void *v5; // r0@5
  unsigned int v6; // r5@5
  signed int v7; // r5@9
  int v8; // r0@10
  int v9; // r5@10
  unsigned int v10; // r3@11
  int v11; // r1@12
  int v12; // r12@14
  signed int v13; // r10@14
  unsigned int v14; // lr@14
  int v15; // r0@14
  int v16; // r5@14
  int i; // r3@14
  HwcConfig *v18; // r0@15
  int v19; // r7@17
  int v20; // r6@19
  int v21; // r7@19
  int v22; // r1@19
  int v23; // r2@19
  unsigned int v24; // r0@19
  int v25; // r9@21
  unsigned int v26; // r6@21
  int v27; // r8@23
  unsigned int v28; // r11@23
  unsigned int v29; // r1@23
  int v30; // r1@24
  unsigned int v31; // r2@26
  int v32; // r2@27
  int v33; // r7@29
  unsigned int v34; // r6@30
  unsigned int v35; // r1@32
  int v36; // r2@39
  bool v37; // zf@40
  unsigned int v38; // r11@44
  signed int v39; // r3@47
  __int64 v40; // ST10_8@53
  int v41; // ST18_4@53
  int v42; // ST1C_4@53
  int v43; // ST20_4@53
  int v44; // ST24_4@53
  int v45; // ST28_4@53
  int v46; // ST2C_4@53
  int v47; // ST30_4@53
  int v48; // ST34_4@53
  int v49; // ST38_4@53
  int v50; // ST3C_4@53
  int v51; // ST40_4@53
  int v52; // ST44_4@53
  int v53; // ST48_4@53
  int v54; // r0@54
  signed int v55; // r0@55
  HwcConfig *v56; // r0@57
  signed int v57; // r9@60
  int v58; // r1@64
  char *v60; // [sp+8Ch] [bp-44h]@49
  char *v61; // [sp+90h] [bp-40h]@49
  char *v62; // [sp+94h] [bp-3Ch]@49
  char *v63; // [sp+98h] [bp-38h]@49
  char *v64; // [sp+9Ch] [bp-34h]@49
  char *v65; // [sp+A0h] [bp-30h]@49
  char *v66; // [sp+A4h] [bp-2Ch]@49
  int v67; // [sp+A8h] [bp-28h]@50

  v2 = a1;
  v3 = a2;
  v4 = atrace_is_ready;
  __dmb();
  if ( !v4 )
    atrace_setup(a1, a2);
  if ( atrace_enabled_tags & 2 )
    atrace_begin_body("Compose");
  v5 = *(void **)(v3 + 188);
  v6 = *((_DWORD *)v5 + 1);
  if ( *(_DWORD *)(v2 + 2072) )
  {
    if ( v6 > 0xF )
    {
      v5 = (void *)HwcConfig::GetDebugLevel((HwcConfig *)v5);
      if ( (signed int)v5 >= 0 )
        v5 = (void *)_android_log_print(6, "hwcomposer", "%s:%d: Invalid channel ID: %d", "Compose", 162, v6);
LABEL_9:
      v7 = -1;
      goto LABEL_64;
    }
    *(_DWORD *)(v2 + 2028) = dword_2C3F0[v6];
    v8 = sub_11658(*(_DWORD *)(v3 + 16));
    v9 = v8;
    if ( !v8 )
    {
      v18 = (HwcConfig *)memset((void *)(v2 + 8), 0, 0x810u);
      *(_DWORD *)(v2 + 2072) = v9;
      v5 = (void *)HwcConfig::GetDebugLevel(v18);
      if ( (signed int)v5 >= 0 )
        v5 = (void *)_android_log_print(6, "hwcomposer", "%s:%d: writeback layer with NULL handle", "Compose", 192);
      goto LABEL_9;
    }
    *(_DWORD *)(v2 + 1896) = sub_1DB08(*(_DWORD *)(v8 + 20));
    *(_DWORD *)(v2 + 1900) = *(_DWORD *)(v9 + 88);
    *(_DWORD *)(v2 + 1904) = *(_DWORD *)(v9 + 92);
    *(_DWORD *)(v2 + 1908) = sub_1DBD4(*(HwcConfig **)(v9 + 20));
    *(_DWORD *)(v2 + 1912) = *(_DWORD *)(v9 + 32);
    *(_QWORD *)(v2 + 1928) = *(_DWORD *)(v9 + 96);
    *(_QWORD *)(v2 + 1936) = *(_DWORD *)(v9 + 116);
    *(_DWORD *)(v2 + 1916) = *(_DWORD *)(v9 + 100);
    *(_QWORD *)(v2 + 1944) = *(_DWORD *)(v9 + 108);
    *(_DWORD *)(v2 + 1920) = *(_DWORD *)(v9 + 104);
    *(_QWORD *)(v2 + 1952) = *(_DWORD *)(v9 + 112);
    *(_DWORD *)(v2 + 1960) = *(_DWORD *)(v9 + 124);
    *(_DWORD *)(v2 + 1964) = *(_DWORD *)(v9 + 128);
    *(_DWORD *)(v2 + 1924) = *(_DWORD *)(v9 + 120);
    *(_DWORD *)(v2 + 1968) = (unsigned int)(*(_DWORD *)(v9 + 132) - 1) <= 0;
    *(_DWORD *)(v2 + 1972) = __clz(*(_DWORD *)(v9 + 96)) >> 5;
    v10 = *(_DWORD *)(v9 + 68) - 1;
    if ( v10 > 3 )
      v11 = 0;
    else
      v11 = byte_2C3A8[v10];
    *(_DWORD *)(v2 + 1976) = v11;
    *(_DWORD *)(v9 + 140) = 1;
    *(_DWORD *)(v2 + 2024) = sub_1DB74(*(_DWORD *)(v3 + 20));
    v12 = 20;
    v13 = 20;
    v14 = 0;
    *(_DWORD *)(v2 + 1992) = *(_DWORD *)(v3 + 152);
    *(_DWORD *)(v2 + 1996) = *(_DWORD *)(v3 + 156);
    *(_DWORD *)(v2 + 2000) = *(_DWORD *)(v3 + 160) - *(_DWORD *)(v3 + 152);
    *(_DWORD *)(v2 + 2004) = *(_DWORD *)(v3 + 164) - *(_DWORD *)(v3 + 156);
    *(_DWORD *)(v2 + 2008) = *(_DWORD *)(v3 + 168);
    *(_DWORD *)(v2 + 2012) = *(_DWORD *)(v3 + 172);
    v15 = *(_DWORD *)(v3 + 168);
    *(_DWORD *)(v2 + 2016) = *(_DWORD *)(v3 + 176) - v15;
    v16 = v2;
    *(_DWORD *)(v2 + 2020) = *(_DWORD *)(v3 + 180) - *(_DWORD *)(v3 + 172);
    for ( i = v2; ; *(_DWORD *)(i - 60) = v32 )
    {
      v35 = *(_DWORD *)(v2 + 2072);
      if ( v14 >= v35 )
        break;
      v19 = *(_DWORD *)(i + 172);
      if ( v19 == 8 )
      {
        v13 = v14;
      }
      else if ( v19 == 9 )
      {
        v12 = v14;
      }
      v20 = *(_DWORD *)(i + 140);
      v21 = *(_DWORD *)(v2 + 1996);
      v22 = *(_DWORD *)(i + 136);
      v23 = *(_DWORD *)(v2 + 1992);
      v24 = *(_DWORD *)(i + 148);
      if ( v20 < v21 )
        v20 = *(_DWORD *)(v2 + 1996);
      v25 = v20;
      v26 = *(_DWORD *)(i + 144);
      if ( v22 < v23 )
        v22 = *(_DWORD *)(v2 + 1992);
      v27 = v22;
      v28 = v22 + v26;
      v29 = *(_DWORD *)(v2 + 2000) + v23;
      if ( v28 <= v29 )
        v30 = *(_DWORD *)(i + 144);
      else
        v30 = v29 - v27;
      v31 = *(_DWORD *)(v2 + 2004) + v21;
      if ( v25 + v24 <= v31 )
        v32 = *(_DWORD *)(i + 148);
      else
        v32 = v31 - v25;
      v33 = *(_DWORD *)(i + 112);
      if ( *(_DWORD *)(i + 176) & 0x100 )
      {
        *(_DWORD *)(i + 112) = v33 * v32 / v24;
        *(_DWORD *)(i + 116) = *(_DWORD *)(i + 116) * v30 / v26;
        v15 = *(_DWORD *)(i + 128) * v32 / v24;
        v34 = *(_DWORD *)(i + 132) * v30 / v26;
        *(_DWORD *)(i + 128) = v15;
        *(_DWORD *)(i + 132) = v34;
      }
      else
      {
        *(_DWORD *)(i + 112) = v33 * v30 / v26;
        *(_DWORD *)(i + 116) = *(_DWORD *)(i + 116) * v32 / v24;
        v15 = *(_DWORD *)(i + 132) * v32 / v24;
        *(_DWORD *)(i + 128) = *(_DWORD *)(i + 128) * v30 / v26;
        *(_DWORD *)(i + 132) = v15;
      }
      *(_DWORD *)(i + 136) = v27;
      ++v14;
      i += 208;
      *(_DWORD *)(i - 68) = v25;
      *(_DWORD *)(i - 64) = v30;
    }
    if ( v13 != 20 )
    {
      v15 = v2 + 208 * v13;
      v36 = *(_DWORD *)(v15 + 176);
      if ( v36 & 0x80 )
      {
        v37 = v12 == 20;
        if ( v12 != 20 )
          v12 = v2 + 208 * v12;
        *(_DWORD *)(v15 + 176) = v36 | 1;
        if ( !v37 )
        {
          v15 = *(_DWORD *)(v12 + 176) | 1;
          *(_DWORD *)(v12 + 176) = v15;
        }
      }
    }
    v38 = 0;
    *(_DWORD *)(v2 + 1880) = v35;
    while ( v38 < *(_DWORD *)(v2 + 2072) )
    {
      if ( *(_DWORD *)(v2 + 2028) == 18 )
        v39 = 5;
      else
        v39 = 6;
      *(_DWORD *)(v16 + 180) = v39;
      v60 = off_2F840;
      v61 = off_2F844;
      v62 = off_2F848;
      v63 = off_2F84C;
      v64 = off_2F850;
      v65 = off_2F854;
      v66 = off_2F858;
      v15 = HwcConfig::GetDebugLevel((HwcConfig *)off_2F850);
      if ( v15 > 1 )
        v15 = _android_log_print(
                4,
                "hwcomposer",
                "%s:%d: %s: tr=0x%02x bld=%d alp=%d nc=0x%x pa=%llx va=%llx ptb=%x vtb=%x ch=%d fmt=%d bpp=%d color=%d s{"
                "%d,%d,%d,%d},d{%d,%d,%d,%d},m{%d,%d,%d,%d},{%d,%d} stride=%d istile=%d",
                "dump_dss_layer",
                62,
                *(&v67 + *(_DWORD *)(v16 + 180) - 7),
                *(_DWORD *)(v16 + 152),
                *(_DWORD *)(v16 + 156),
                *(_DWORD *)(v16 + 160),
                *(_DWORD *)(v16 + 176),
                *(_QWORD *)(v16 + 40),
                *(_QWORD *)(v16 + 48),
                *(_DWORD *)(v16 + 72),
                *(_DWORD *)(v16 + 76),
                *(_DWORD *)(v16 + 172),
                *(_DWORD *)(v16 + 8),
                *(_DWORD *)(v16 + 20),
                *(_DWORD *)(v16 + 164),
                *(_DWORD *)(v16 + 104),
                *(_DWORD *)(v16 + 108),
                *(_DWORD *)(v16 + 112),
                *(_DWORD *)(v16 + 116),
                *(_DWORD *)(v16 + 136),
                *(_DWORD *)(v16 + 140),
                *(_DWORD *)(v16 + 144),
                *(_DWORD *)(v16 + 148),
                *(_DWORD *)(v16 + 120),
                *(_DWORD *)(v16 + 124),
                *(_DWORD *)(v16 + 128),
                *(_DWORD *)(v16 + 132),
                *(_DWORD *)(v16 + 12),
                *(_DWORD *)(v16 + 16),
                *(_DWORD *)(v16 + 24),
                *(_DWORD *)(v16 + 80));
      ++v38;
      v16 += 208;
    }
    if ( HwcConfig::GetDebugLevel((HwcConfig *)v15) > 1 )
    {
      v40 = *(_QWORD *)(v2 + 1928);
      v41 = *(_DWORD *)(v2 + 1896);
      v42 = *(_DWORD *)(v2 + 1908);
      v43 = *(_DWORD *)(v2 + 1992);
      v44 = *(_DWORD *)(v2 + 1996);
      v45 = *(_DWORD *)(v2 + 2000);
      v46 = *(_DWORD *)(v2 + 2004);
      v47 = *(_DWORD *)(v2 + 2008);
      v48 = *(_DWORD *)(v2 + 2012);
      v49 = *(_DWORD *)(v2 + 2016);
      v50 = *(_DWORD *)(v2 + 2020);
      v51 = *(_DWORD *)(v2 + 1900);
      v52 = *(_DWORD *)(v2 + 1904);
      v53 = *(_DWORD *)(v2 + 1912);
      _android_log_print(
        4,
        "hwcomposer",
        "%s:%d: Writeback: ch=%d tr=0x%02x ph=%llx fmt=%d bpp=%d s{%d,%d,%d,%d},d{%d,%d,%d,%d} {%d,%d} stride=%d",
        "dump_dss_wb_layer",
        71,
        *(_DWORD *)(v2 + 2028),
        *(_DWORD *)(v2 + 2024));
    }
    v54 = *(_DWORD *)(v2 + 2028);
    *(_DWORD *)(v2 + 1892) = 1;
    if ( v54 == 18 )
      v55 = 5;
    else
      v55 = 6;
    *(_DWORD *)(v2 + 2036) = v55;
    *(_DWORD *)(v2 + 1888) = v55;
    v56 = (HwcConfig *)ioctl(*(_DWORD *)(v2 + 4), 0x48104D22u, v2 + 8);
    if ( (signed int)v56 >= 0 )
    {
      v57 = 0;
    }
    else
    {
      if ( HwcConfig::GetDebugLevel(v56) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: Overlay compose error", "Compose", 253);
      v57 = -1;
    }
    v5 = memset((void *)(v2 + 8), 0, 0x810u);
    v7 = v57;
    *(_DWORD *)(v2 + 2072) = 0;
  }
  else
  {
    v7 = 0;
  }
LABEL_64:
  v58 = atrace_is_ready;
  __dmb();
  if ( !v58 )
    atrace_setup(v5, 0);
  if ( atrace_enabled_tags & 2 )
  {
    LOBYTE(v60) = 69;
    write(atrace_marker_fd, &v60, 1u);
  }
  return v7;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E064: using guessed type int __cdecl atrace_setup(_DWORD, _DWORD);
// E07C: using guessed type int __fastcall atrace_begin_body(_DWORD);
// 2F840: using guessed type char *off_2F840;
// 2F844: using guessed type char *off_2F844;
// 2F848: using guessed type char *off_2F848;
// 2F84C: using guessed type char *off_2F84C;
// 2F850: using guessed type char *off_2F850;
// 2F854: using guessed type char *off_2F854;
// 2F858: using guessed type char *off_2F858;

//----- (0001E4D0) --------------------------------------------------------
int __fastcall Hi363xComposer::Hi363xComposer(int a1, const char *a2)
{
  int v2; // r4@1
  const char *v3; // r6@1
  _DWORD *v4; // r0@1
  HwcConfig *v5; // r0@1

  v2 = a1;
  v3 = a2;
  *(_DWORD *)(a1 + 2072) = 0;
  v4 = (_DWORD *)(a1 + 8);
  *(v4 - 2) = &off_2E0F0;
  memset(v4, 0, 0x810u);
  v5 = (HwcConfig *)open(v3, 2, 0);
  *(_DWORD *)(v2 + 4) = v5;
  if ( (signed int)v5 < 0 && HwcConfig::GetDebugLevel(v5) >= 0 )
    _android_log_print(6, "hwcomposer", "%s:%d: Failed to open device %s", "Hi363xComposer", 51, v3);
  return v2;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 2E0F0: using guessed type void *off_2E0F0;

//----- (0001E53C) --------------------------------------------------------
Hi363xOverlay *__fastcall Hi363xOverlay::~Hi363xOverlay(Hi363xOverlay *this)
{
  Hi363xOverlay *v1; // r4@1
  int v2; // r0@1

  v1 = this;
  *(_DWORD *)this = &off_2E110;
  v2 = *((_DWORD *)this + 1);
  if ( v2 > 0 )
    close(v2);
  return v1;
}
// 2E110: using guessed type void *;

//----- (0001E55C) --------------------------------------------------------
Hi363xOverlay *__fastcall Hi363xOverlay::~Hi363xOverlay(Hi363xOverlay *this)
{
  Hi363xOverlay *v1; // r4@1

  v1 = this;
  Hi363xOverlay::~Hi363xOverlay(this);
  operator delete((void *)v1);
  return v1;
}

//----- (0001E570) --------------------------------------------------------
signed int __fastcall Hi363xOverlay::CheckPureLayer(Hi363xOverlay *this, int a2, bool *a3, bool *a4, unsigned int *a5)
{
  bool *v5; // r5@1
  int v6; // r0@1
  bool *v7; // r4@1
  HwcConfig *v8; // r0@1
  signed int result; // r0@4
  int v10; // [sp+8h] [bp-20h]@1
  int v11; // [sp+Ch] [bp-1Ch]@4
  int v12; // [sp+10h] [bp-18h]@4
  unsigned int v13; // [sp+14h] [bp-14h]@4

  v5 = a3;
  v6 = *((_DWORD *)this + 1);
  v7 = a4;
  v10 = a2;
  v8 = (HwcConfig *)ioctl(v6, 0x40104D40u, &v10);
  if ( (signed int)v8 >= 0 )
  {
    *v5 = v11 - 1 + ((unsigned int)(v11 - 1) <= 0) - (v11 - 1);
    *v7 = v12 - 1 + ((unsigned int)(v12 - 1) <= 0) - (v12 - 1);
    *a5 = v13;
    result = 0;
  }
  else
  {
    if ( HwcConfig::GetDebugLevel(v8) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: ioctl of pure layer check failed", "CheckPureLayer", 378);
    result = -1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001E5EC) --------------------------------------------------------
int __fastcall Hi363xOverlay::play(void *a1, int a2, int a3, _DWORD *a4)
{
  void *v4; // r5@1
  int v5; // r4@1
  int v6; // r2@1
  void *v7; // r1@3
  int v8; // r6@5
  int v9; // r3@6
  int v10; // r2@6
  signed int v11; // r1@6
  int v12; // r7@6
  int v13; // r0@6
  signed int v14; // r4@6
  int v15; // r7@7
  int v16; // r9@17
  int v17; // r4@17
  bool v18; // zf@18
  int v19; // r10@23
  int v20; // r1@23
  bool v21; // zf@24
  void *v22; // r4@28
  unsigned int v23; // r7@28
  int v24; // r4@33
  signed int v25; // r7@34
  HwcConfig *v26; // r0@40
  int v27; // r0@43
  int v28; // r5@46
  _DWORD *v30; // [sp+84h] [bp-54h]@1
  char *v31; // [sp+94h] [bp-44h]@30
  char *v32; // [sp+98h] [bp-40h]@30
  char *v33; // [sp+9Ch] [bp-3Ch]@30
  char *v34; // [sp+A0h] [bp-38h]@30
  char *v35; // [sp+A4h] [bp-34h]@30
  char *v36; // [sp+A8h] [bp-30h]@30
  char *v37; // [sp+ACh] [bp-2Ch]@30
  int v38; // [sp+B0h] [bp-28h]@31

  v4 = a1;
  v5 = a2;
  v30 = a4;
  v6 = atrace_is_ready;
  __dmb();
  if ( !v6 )
    a1 = (void *)atrace_setup(a1, a2);
  v7 = &atrace_enabled_tags;
  if ( atrace_enabled_tags & 2 )
    a1 = (void *)atrace_begin_body("play");
  v8 = *((_DWORD *)v4 + 520);
  if ( v8 )
  {
    *((_DWORD *)v4 + 514) = *(_DWORD *)(v5 + 44);
    *((_DWORD *)v4 + 515) = *(_DWORD *)(v5 + 48);
    v9 = 20;
    v10 = 0;
    *((_DWORD *)v4 + 516) = *(_DWORD *)(v5 + 52) - *(_DWORD *)(v5 + 44);
    v11 = 20;
    v12 = *(_DWORD *)(v5 + 56) - *(_DWORD *)(v5 + 48);
    v13 = 20;
    v14 = 20;
    *((_DWORD *)v4 + 517) = v12;
    do
    {
      v15 = *((_DWORD *)v4 + 52 * v10 + 45);
      if ( v15 )
      {
        switch ( v15 )
        {
          case 1:
            v13 = v10;
            break;
          case 8:
            v11 = v10;
            break;
          case 9:
            v9 = v10;
            break;
        }
      }
      else
      {
        v14 = v10;
      }
      ++v10;
    }
    while ( v10 != v8 );
    if ( v14 != 20 )
    {
      v16 = (int)v4 + 208 * v14;
      v17 = *(_DWORD *)(v16 + 184);
      if ( v17 & 0x80 )
      {
        v18 = v13 == 20;
        if ( v13 != 20 )
          v13 = (int)v4 + 208 * v13;
        *(_DWORD *)(v16 + 184) = v17 | 1;
        if ( !v18 )
          *(_DWORD *)(v13 + 184) |= 1u;
      }
    }
    if ( v11 != 20 )
    {
      v19 = (int)v4 + 208 * v11;
      v20 = *(_DWORD *)(v19 + 184);
      if ( v20 & 0x80 )
      {
        v21 = v9 == 20;
        v13 = v20 | 1;
        if ( v9 != 20 )
          v9 = (int)v4 + 208 * v9;
        *(_DWORD *)(v19 + 184) = v13;
        if ( !v21 )
        {
          v13 = *(_DWORD *)(v9 + 184) | 1;
          *(_DWORD *)(v9 + 184) = v13;
        }
      }
    }
    v22 = v4;
    v23 = 0;
    *((_DWORD *)v4 + 472) = v8;
    while ( v23 < *((_DWORD *)v4 + 520) )
    {
      v31 = off_2F85C;
      v32 = off_2F860;
      v33 = off_2F864;
      v34 = off_2F868;
      v35 = off_2F86C;
      v36 = off_2F870;
      v37 = off_2F874;
      v13 = HwcConfig::GetDebugLevel((HwcConfig *)off_2F86C);
      if ( v13 > 1 )
        v13 = _android_log_print(
                4,
                "hwcomposer",
                "%s:%d: %s: tr=0x%02x bld=%d alp=%d nc=0x%x pa=%llx va=%llx ptb=%x vtb=%x ch=%d fmt=%d bpp=%d color=%d s{"
                "%d,%d,%d,%d},d{%d,%d,%d,%d},m{%d,%d,%d,%d},{%d,%d} stride=%d istile=%d",
                "dump_dss_layer",
                62,
                *(&v38 + *((_DWORD *)v22 + 47) - 7),
                *((_DWORD *)v22 + 40),
                *((_DWORD *)v22 + 41),
                *((_DWORD *)v22 + 42),
                *((_DWORD *)v22 + 46),
                *((_QWORD *)v22 + 6),
                *((_QWORD *)v22 + 7),
                *((_DWORD *)v22 + 20),
                *((_DWORD *)v22 + 21),
                *((_DWORD *)v22 + 45),
                *((_DWORD *)v22 + 4),
                *((_DWORD *)v22 + 7),
                *((_DWORD *)v22 + 43),
                *((_DWORD *)v22 + 28),
                *((_DWORD *)v22 + 29),
                *((_DWORD *)v22 + 30),
                *((_DWORD *)v22 + 31),
                *((_DWORD *)v22 + 36),
                *((_DWORD *)v22 + 37),
                *((_DWORD *)v22 + 38),
                *((_DWORD *)v22 + 39),
                *((_DWORD *)v22 + 32),
                *((_DWORD *)v22 + 33),
                *((_DWORD *)v22 + 34),
                *((_DWORD *)v22 + 35),
                *((_DWORD *)v22 + 5),
                *((_DWORD *)v22 + 6),
                *((_DWORD *)v22 + 8),
                *((_DWORD *)v22 + 22));
      ++v23;
      v22 = (char *)v22 + 208;
    }
    v24 = *((_DWORD *)v4 + 2);
    *((_DWORD *)v4 + 473) = -1;
    if ( v24 )
    {
      if ( v24 != 1 )
      {
        if ( HwcConfig::GetDebugLevel((HwcConfig *)v13) >= 0 )
          _android_log_print(6, "hwcomposer", "%s:%d: Unknown type!!!", "play", 282);
        goto LABEL_40;
      }
      v25 = 2;
    }
    else
    {
      v25 = 1;
    }
    *((_DWORD *)v4 + 474) = v25;
LABEL_40:
    v26 = (HwcConfig *)ioctl(*((_DWORD *)v4 + 1), 0x48104D21u, (char *)v4 + 16);
    if ( (signed int)v26 < 0 && HwcConfig::GetDebugLevel(v26) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: Overlay play error", "play", 285);
    v27 = *((_DWORD *)v4 + 473);
    if ( v27 >= 0 )
      *v30 = v27;
    a1 = memset((char *)v4 + 16, 0, 0x810u);
    *((_DWORD *)v4 + 520) = 0;
  }
  v28 = atrace_is_ready;
  __dmb();
  if ( !v28 )
    atrace_setup(a1, v7);
  if ( atrace_enabled_tags & 2 )
  {
    LOBYTE(v31) = 69;
    write(atrace_marker_fd, &v31, 1u);
  }
  return 0;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E064: using guessed type int __cdecl atrace_setup(_DWORD, _DWORD);
// E07C: using guessed type int __fastcall atrace_begin_body(_DWORD);
// 2F85C: using guessed type char *off_2F85C;
// 2F860: using guessed type char *off_2F860;
// 2F864: using guessed type char *off_2F864;
// 2F868: using guessed type char *off_2F868;
// 2F86C: using guessed type char *off_2F86C;
// 2F870: using guessed type char *off_2F870;
// 2F874: using guessed type char *off_2F874;

//----- (0001E8F4) --------------------------------------------------------
int __fastcall Hi363xOverlay::Hi363xOverlay(int a1, const char *a2)
{
  int v2; // r4@1
  const char *v3; // r5@1
  _DWORD *v4; // r0@1
  HwcConfig *v5; // r0@1
  int v6; // r0@4
  signed int v7; // r3@7
  const char *v9; // [sp+8h] [bp-B0h]@4
  int v10; // [sp+Ch] [bp-ACh]@8

  v2 = a1;
  v3 = a2;
  *(_DWORD *)(a1 + 2080) = 0;
  v4 = (_DWORD *)(a1 + 16);
  *(v4 - 4) = &off_2E110;
  memset(v4, 0, 0x810u);
  *(_DWORD *)(v2 + 8) = __clz(strcasestr(v3, "fb0")) >> 5;
  v5 = (HwcConfig *)open(v3, 2, 0);
  *(_DWORD *)(v2 + 4) = v5;
  if ( (signed int)v5 >= 0 )
  {
    v6 = ioctl((int)v5, 0x4600u, &v9);
    if ( v6 >= 0 )
      v3 = v9;
    if ( v6 >= 0 )
      v7 = v10;
    else
      v7 = 480;
    if ( v6 < 0 )
      v3 = (const char *)320;
    *(_DWORD *)(v2 + 2088) = v3;
    *(_DWORD *)(v2 + 2092) = v7;
    *(_DWORD *)(v2 + 2096) = 0;
    *(_DWORD *)(v2 + 2100) = 0;
    *(_DWORD *)(v2 + 2108) = 0;
    *(_BYTE *)(v2 + 2104) = 0;
    *(_DWORD *)(v2 + 2084) = 0;
  }
  else if ( HwcConfig::GetDebugLevel(v5) >= 0 )
  {
    _android_log_print(6, "hwcomposer", "%s:%d: Failed to open device %s", "Hi363xOverlay", 67, v3);
  }
  return v2;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// F150: using guessed type int __fastcall strcasestr(_DWORD, _DWORD);
// 2E110: using guessed type void *off_2E110;

//----- (0001E9C0) --------------------------------------------------------
int __fastcall Hi363xOverlay::CalculateReproduction(Hi363xOverlay *this, int *a2, int *a3, unsigned int *_R3, unsigned int *a5)
{
  unsigned int v9; // r4@1
  unsigned int v10; // r0@1
  int result; // r0@26

  _R4 = (char *)this + 2096;
  _R6 = (char *)this + 2100;
  __asm
  {
    VLDR            S13, =100.0
    VLDR            S15, [R4]
    VLDR            S14, [R6]
  }
  v9 = *((_DWORD *)this + 522);
  v10 = *((_DWORD *)this + 523);
  _R5 = a5;
  __asm
  {
    VDIV.F32        S0, S15, S13
    VDIV.F32        S1, S14, S13
  }
  if ( _ZF )
    goto LABEL_9;
  if ( !(!_ZF & _CF) )
  {
    if ( v10 != 480 )
    {
LABEL_7:
      __asm { VLDR            S2, =0.0 }
LABEL_11:
      __asm { VMOV.F32        S12, S2 }
      goto LABEL_12;
    }
LABEL_9:
    __asm { VLDR            S2, =0.05 }
    goto LABEL_11;
  }
  if ( v10 != 720 )
  {
    if ( v10 == 1080 )
    {
      __asm { VLDR            S2, =0.0425 }
      goto LABEL_11;
    }
    goto LABEL_7;
  }
  __asm
  {
    VLDR            S2, =0.042
    VLDR            S12, =0.0425
  }
LABEL_12:
  __asm
  {
    VLDR            S11, =0.00001
    VCMPE.F32       S0, S11
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
  {
    __asm
    {
      VLDR            S10, =-0.00001
      VCMP.F32        S0, S10
      VMRS            APSR_nzcv, FPSCR
    }
    if ( !((unsigned __int8)(_NF ^ _VF) | _ZF) )
      __asm { VMOVGT.F32      S0, S12 }
  }
  __asm
  {
    VCMPE.F32       S1, S11
    VMRS            APSR_nzcv, FPSCR
  }
  if ( _NF )
  {
    __asm
    {
      VLDR            S3, =-0.00001
      VCMP.F32        S1, S3
      VMRS            APSR_nzcv, FPSCR
    }
    if ( !((unsigned __int8)(_NF ^ _VF) | _ZF) )
      __asm { VMOVGT.F32      S1, S2 }
  }
  __asm
  {
    VLDR            S4, [R3]
    VMOV.F32        S6, #1.0
    VSUB.F32        S7, S6, S0
    VSUB.F32        S0, S6, S1
    VCVT.F32.U32    S5, S4
    VMUL.F32        S8, S5, S7
    VCVTR.U32.F32   S9, S8
    VSTR            S9, [R3]
    VLDR            S15, [R5]
    VCVT.F32.U32    S13, S15
    VMUL.F32        S14, S13, S0
    VCVTR.U32.F32   S1, S14
    VSTR            S1, [R5]
  }
  if ( *_R3 > v9 )
    *_R3 = v9;
  else
    *_R3 = *_R3;
  if ( *a5 > v10 )
    *a5 = v10;
  else
    *a5 = *a5;
  *a2 = (signed int)(v9 - *_R3) / 2;
  result = (signed int)(v10 - *a5) / 2;
  *a3 = result;
  return result;
}

//----- (0001EADC) --------------------------------------------------------
int __fastcall Hi363xOverlay::CalculateSize(Hi363xOverlay *this, unsigned int _R1, unsigned int _R2, int *a4, int *a5, unsigned int *a6, unsigned int *a7)
{
  int result; // r0@3

  _R4 = *((_DWORD *)this + 523);
  _R0 = *((_DWORD *)this + 522);
  __asm
  {
    VMOV            S15, R2
    VMOV            S2, R1
    VMOV            S0, R4
    VMOV            S3, R0
    VCVT.F32.U32    S14, S15
    VCVT.F32.U32    S13, S2
    VCVT.F32.U32    S12, S0
    VCVT.F32.U32    S4, S3
    VDIV.F32        S1, S12, S14
    VDIV.F32        S5, S4, S13
    VCMPE.F32       S1, S5
    VMRS            APSR_nzcv, FPSCR
  }
  if ( (unsigned __int8)(_NF ^ _VF) | _ZF )
    __asm { VMOVLE.F32      S5, S1 }
  __asm
  {
    VMUL.F32        S6, S13, S5
    VMUL.F32        S8, S14, S5
    VCVTR.U32.F32   S7, S6
    VCVTR.U32.F32   S9, S8
    VSTR            S7, [R6]
    VSTR            S9, [R5]
  }
  result = (signed int)(_R0 - *a6) / 2;
  *a4 = result;
  *a5 = (signed int)(_R4 - *a7) / 2;
  return result;
}

//----- (0001EB54) --------------------------------------------------------
signed int __fastcall Hi363xOverlay::setSource(int a1, int a2)
{
  int v2; // r6@1
  int v4; // r7@1
  unsigned int v5; // r9@1
  int v6; // r4@4
  int v7; // r3@4
  int v8; // r2@4
  signed int v9; // r1@5
  HwcConfig *v11; // r0@10
  int v12; // r4@10
  signed int v13; // r1@13
  signed int result; // r0@19
  signed int v15; // r0@21
  int v16; // lr@22
  HwcConfig *v17; // r0@22
  signed int v18; // r10@22
  int v19; // lr@26
  int v20; // r1@26
  int v21; // r0@27
  int v22; // r10@28
  int v23; // r2@29
  int v24; // r3@29
  int v25; // r11@33
  int v26; // r4@35
  int v27; // r4@38
  signed int v28; // r1@41
  int v29; // r0@47
  int v35; // r0@47
  int v36; // r3@47
  int v37; // r1@47
  int v38; // r4@47
  unsigned int v40; // r2@47
  bool v41; // nf@51
  int v42; // r3@51
  unsigned int v43; // r1@55
  unsigned int v44; // r2@55
  bool v46; // zf@55
  unsigned int v47; // r2@59
  unsigned int v48; // r3@59
  int v49; // r3@59
  int *v50; // r12@62
  int v51; // r3@64
  int v52; // r1@64
  int v53; // r0@66
  int v54; // r8@66
  int v55; // r1@66
  unsigned int v56; // r2@66
  int v57; // r3@66
  int v58; // r0@73
  int v59; // r6@73
  signed int v60; // r3@74
  int v61; // [sp+1Ch] [bp-7Ch]@47
  int v62; // [sp+20h] [bp-78h]@49
  unsigned int v63; // [sp+24h] [bp-74h]@53
  unsigned int dest; // [sp+28h] [bp-70h]@4

  v2 = a1;
  _R5 = a2;
  v4 = *(_DWORD *)(a1 + 2080);
  v5 = *(_DWORD *)(*(_DWORD *)(a2 + 116) + 4);
  if ( v5 > 0xF )
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)a1) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: Invalid channel ID: %d", "setSource", 105, v5);
    return -1;
  }
  *(_DWORD *)(a1 + 2080) = v4 + 1;
  v6 = *(_DWORD *)(a2 + 124);
  memcpy(&dest, "@", 0x48u);
  v7 = 0;
  v8 = 0;
  do
  {
    v9 = 1 << v8;
    _ZF = ((1 << v8) & v6) == 0;
    if ( (1 << v8) & v6 )
      v9 = *(&dest + v8);
    ++v8;
    if ( !_ZF )
      v7 |= v9;
  }
  while ( v8 != 18 );
  v11 = (HwcConfig *)208;
  *(_DWORD *)(v2 + 208 * v4 + 184) = v7;
  v12 = *(_DWORD *)(_R5 + 16);
  if ( v12 )
  {
    if ( *(_DWORD *)v12 == 12 && *(_DWORD *)(v12 + 8) == 48 )
    {
      v13 = *(_DWORD *)(v12 + 4);
      if ( v13 == 1 )
      {
        v11 = *(HwcConfig **)(v12 + 16);
        if ( v11 == (HwcConfig *)51647890 )
        {
          v60 = *(_DWORD *)(v12 + 20);
          if ( v60 == 16 )
          {
            v15 = 15;
            goto LABEL_22;
          }
          if ( v60 > 16 )
          {
            if ( v60 == 256 )
            {
              v15 = 17;
              goto LABEL_22;
            }
            if ( v60 > 256 )
            {
              if ( v60 == 257 )
              {
                v15 = 21;
                goto LABEL_22;
              }
              if ( v60 == 842094169 )
              {
                v15 = 22;
                goto LABEL_22;
              }
            }
            else
            {
              if ( v60 == 17 )
              {
                v15 = 18;
                goto LABEL_22;
              }
              if ( v60 == 20 )
              {
                v15 = 14;
                goto LABEL_22;
              }
            }
          }
          else
          {
            if ( v60 == 2 )
            {
              v15 = 5;
              goto LABEL_22;
            }
            if ( v60 > 2 )
            {
              if ( v60 == 4 )
              {
                v15 = 0;
                goto LABEL_22;
              }
              if ( v60 == 5 )
              {
                v15 = 13;
LABEL_22:
                v16 = v2 + 208 * v4;
                *(_DWORD *)(v16 + 16) = v15;
                v17 = *(HwcConfig **)(v12 + 88);
                *(_DWORD *)(v16 + 20) = v17;
                *(_DWORD *)(v16 + 24) = *(_DWORD *)(v12 + 92);
                v18 = *(_DWORD *)(v12 + 20);
                if ( v18 == 16 )
                  goto LABEL_90;
                if ( v18 > 16 )
                {
                  if ( v18 >= 258 )
                  {
                    if ( v18 != 842094169 )
                      goto LABEL_88;
                  }
                  else if ( v18 < 256 && v18 != 17 )
                  {
                    if ( v18 != 20 )
                      goto LABEL_88;
                    goto LABEL_90;
                  }
LABEL_26:
                  v19 = v2 + 208 * v4;
                  *(_DWORD *)(v19 + 28) = v13;
                  *(_DWORD *)(v19 + 32) = *(_DWORD *)(v12 + 32);
                  *(_QWORD *)(v19 + 48) = *(_DWORD *)(v12 + 96);
                  *(_QWORD *)(v19 + 56) = *(_DWORD *)(v12 + 116);
                  *(_DWORD *)(v19 + 36) = *(_DWORD *)(v12 + 100);
                  *(_QWORD *)(v19 + 64) = *(_DWORD *)(v12 + 108);
                  *(_DWORD *)(v19 + 40) = *(_DWORD *)(v12 + 104);
                  *(_QWORD *)(v19 + 72) = *(_DWORD *)(v12 + 112);
                  *(_DWORD *)(v19 + 80) = *(_DWORD *)(v12 + 124);
                  *(_DWORD *)(v19 + 84) = *(_DWORD *)(v12 + 128);
                  *(_DWORD *)(v19 + 44) = *(_DWORD *)(v12 + 120);
                  *(_DWORD *)(v19 + 88) = (unsigned int)(*(_DWORD *)(v12 + 132) - 1) <= 0;
                  *(_DWORD *)(v19 + 92) = __clz(*(_DWORD *)(v12 + 96)) >> 5;
                  v20 = *(_DWORD *)(v12 + 68);
                  if ( (unsigned int)(v20 - 1) > 3 )
                    v21 = 0;
                  else
                    v21 = byte_2C498[v20 - 1];
                  v22 = v2 + 208 * v4;
                  *(_DWORD *)(v22 + 96) = v21;
                  *(_DWORD *)(v22 + 104) = *(_DWORD *)(v12 + 12);
                  goto LABEL_29;
                }
                if ( v18 == 4 )
                {
LABEL_90:
                  v13 = 2;
                  goto LABEL_26;
                }
                if ( v18 > 4 )
                {
                  if ( v18 != 5 )
                    goto LABEL_88;
                }
                else if ( (unsigned int)(v18 - 1) > 1 )
                {
LABEL_88:
                  if ( HwcConfig::GetDebugLevel(v17) >= 0 )
                    _android_log_print(
                      6,
                      "hwcomposer",
                      "%s:%d: unrecognized hwc format %d!",
                      "pixel_format_2bpp",
                      119,
                      v18);
                  v13 = -1;
                  goto LABEL_26;
                }
                v13 = 4;
                goto LABEL_26;
              }
            }
            else if ( v60 == 1 )
            {
              v15 = 6;
              goto LABEL_22;
            }
          }
          v15 = -1;
          goto LABEL_22;
        }
      }
    }
  }
  if ( !(v7 & 0x10) )
  {
    if ( HwcConfig::GetDebugLevel(v11) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: layer %d with NULL handle", "setSource", 136, v4);
    --*(_DWORD *)(v2 + 2080);
    return -1;
  }
LABEL_29:
  v23 = *(_DWORD *)(_R5 + 20);
  v24 = *(_DWORD *)(_R5 + 20) & 1;
  if ( v23 << 30 < 0 )
    v24 |= 2u;
  if ( *(_DWORD *)(_R5 + 20) << 29 < 0 )
    v24 |= 4u;
  v25 = v2 + 208 * v4;
  if ( (*(_DWORD *)(_R5 + 20) & 3) == 3 )
    v24 |= 3u;
  v26 = *(_DWORD *)(v25 + 184);
  *(_DWORD *)(v25 + 160) = v24;
  if ( v26 & 0x10 && v24 )
    *(_DWORD *)(v25 + 160) = 0;
  v27 = *(_DWORD *)(_R5 + 24);
  switch ( v27 )
  {
    case 261:
      v28 = 1;
      break;
    case 1029:
      v28 = 2;
      break;
    case 256:
      v28 = 0;
      break;
    default:
      if ( HwcConfig::GetDebugLevel((HwcConfig *)0xD0) >= 0 )
        _android_log_print(6, "hwcomposer", "%s:%d: unrecognized hwc blending %d!", "blending_hal2dss", 133, v27);
      v28 = -1;
      break;
  }
  v29 = v2 + 208 * v4;
  *(_DWORD *)(v29 + 164) = v28;
  __asm
  {
    VLDR            S15, [R5,#0x1C]
    VCVTR.S32.F32   S0, S15
    VSTR            S0, [R0,#0x70]
    VLDR            S1, [R5,#0x20]
    VCVTR.S32.F32   S2, S1
    VSTR            S2, [R0,#0x74]
    VLDR            S3, [R5,#0x24]
    VLDR            S14, [R5,#0x1C]
    VCVTR.S32.F32   S4, S3
    VCVTR.S32.F32   S5, S14
    VMOV            R4, S4
    VMOV            R2, S5
  }
  *(_DWORD *)(v29 + 120) = _R4 - _R2;
  __asm
  {
    VLDR            S6, [R5,#0x28]
    VLDR            S8, [R5,#0x20]
    VCVTR.S32.F32   S7, S6
    VCVTR.S32.F32   S9, S8
    VMOV            R2, S7
    VMOV            R3, S9
  }
  *(_DWORD *)(v29 + 124) = _R2 - _R3;
  *(_DWORD *)(v29 + 128) = *(_DWORD *)(_R5 + 128);
  *(_DWORD *)(v29 + 132) = *(_DWORD *)(_R5 + 132);
  *(_DWORD *)(v29 + 136) = *(_DWORD *)(_R5 + 136) - *(_DWORD *)(_R5 + 128);
  *(_DWORD *)(v29 + 140) = *(_DWORD *)(_R5 + 140) - *(_DWORD *)(_R5 + 132);
  v35 = *(_DWORD *)(_R5 + 44);
  v36 = *(_DWORD *)(_R5 + 52);
  v37 = *(_DWORD *)(_R5 + 48);
  v38 = *(_DWORD *)(_R5 + 56);
  _NF = v35 < 0;
  v61 = *(_DWORD *)(_R5 + 44);
  v40 = v36 - v35;
  if ( v35 < 0 )
    v35 = 0;
  v62 = v37;
  if ( _NF )
    v61 = v35;
  v41 = v37 < 0;
  v42 = v38 - v37;
  if ( v37 < 0 )
    v37 = 0;
  v63 = v40;
  dest = v42;
  if ( v41 )
    v62 = v37;
  v43 = *(_DWORD *)(v2 + 2088);
  v44 = v40 + v61;
  _CF = v44 >= v43;
  v46 = v44 == v43;
  if ( v44 > v43 )
    v43 -= v61;
  if ( !v46 && _CF )
    v63 = v43;
  v47 = *(_DWORD *)(v2 + 2092);
  v48 = v42 + v62;
  _CF = v48 >= v47;
  _ZF = v48 == v47;
  v49 = *(_DWORD *)(v2 + 8);
  if ( !_ZF && _CF )
    dest = v47 - v62;
  if ( v49 == 1 )
  {
    v50 = &v61;
    if ( !*(_BYTE *)(v2 + 2104) )
    {
      Hi363xOverlay::CalculateSize(
        (Hi363xOverlay *)v2,
        *(_DWORD *)(v2 + 208 * v4 + 120),
        *(_DWORD *)(v2 + 208 * v4 + 124),
        &v61,
        &v62,
        &v63,
        &dest);
      v50 = &v61;
    }
    Hi363xOverlay::CalculateReproduction((Hi363xOverlay *)v2, v50, &v62, &v63, &dest);
    v51 = v2 + 208 * v4;
    v52 = *(_DWORD *)(v51 + 184);
    *(_DWORD *)(v51 + 188) = 2;
    *(_DWORD *)(v51 + 184) = v52 | 0x80;
  }
  else
  {
    *(_DWORD *)(v2 + 208 * v4 + 188) = 1;
  }
  v53 = v62;
  v54 = v2 + 208 * v4;
  v55 = dest;
  v56 = v63;
  *(_DWORD *)(v54 + 144) = v61;
  v57 = *(_DWORD *)(v54 + 184);
  *(_DWORD *)(v54 + 148) = v53;
  *(_DWORD *)(v54 + 152) = v56;
  *(_DWORD *)(v54 + 156) = v55;
  if ( !(v57 & 0x80) )
  {
    if ( v57 & 0x100 )
      *(_DWORD *)(v54 + 120) = v55;
    else
      *(_DWORD *)(v54 + 120) = v56;
    if ( v57 & 0x100 )
      *(_DWORD *)(v54 + 124) = v56;
    else
      *(_DWORD *)(v54 + 124) = v55;
  }
  v58 = *(_BYTE *)(_R5 + 76);
  v59 = v2 + 208 * v4;
  *(_DWORD *)(v59 + 176) = v4;
  *(_DWORD *)(v59 + 168) = v58;
  result = 0;
  *(_DWORD *)(v59 + 180) = dword_2C500[v5];
  *(_DWORD *)(v59 + 192) = *(_DWORD *)(_R5 + 68);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001F048) --------------------------------------------------------
Hi363xAccelerator *__fastcall Hi363xAccelerator::~Hi363xAccelerator(Hi363xAccelerator *this)
{
  Hi363xAccelerator *v1; // r4@1
  int v2; // r0@1
  int v3; // r0@3

  v1 = this;
  *(_DWORD *)this = &off_2E140;
  v2 = *((_DWORD *)this + 1);
  if ( v2 > 0 )
    close(v2);
  v3 = *((_DWORD *)v1 + 2);
  if ( v3 > 0 )
    close(v3);
  return v1;
}
// 2E140: using guessed type void *;

//----- (0001F074) --------------------------------------------------------
Hi363xAccelerator *__fastcall Hi363xAccelerator::~Hi363xAccelerator(Hi363xAccelerator *this)
{
  Hi363xAccelerator *v1; // r4@1

  v1 = this;
  Hi363xAccelerator::~Hi363xAccelerator(this);
  operator delete((void *)v1);
  return v1;
}

//----- (0001F088) --------------------------------------------------------
signed int __fastcall Hi363xAccelerator::isPartialUpdatesEnabled(Hi363xAccelerator *this, int a2)
{
  int v2; // r0@1
  signed int result; // r0@2
  int v4; // [sp+4h] [bp-Ch]@1

  v4 = a2;
  v2 = *((_DWORD *)this + 2);
  v4 = 0;
  if ( ioctl(v2, 0x40044D06u, &v4) )
  {
    result = 0;
  }
  else
  {
    result = v4;
    if ( v4 )
      result = 1;
  }
  return result;
}

//----- (0001F0B0) --------------------------------------------------------
int __fastcall Hi363xAccelerator::enableVsync(Hi363xAccelerator *this, int a2, int a3)
{
  int v3; // r0@1
  int v5; // [sp+4h] [bp-Ch]@1
  int v6; // [sp+8h] [bp-8h]@1

  v5 = a2;
  v6 = a3;
  v3 = *((_DWORD *)this + 2);
  v5 = a2;
  return ioctl(v3, 0x40044D02u, &v5);
}

//----- (0001F0CC) --------------------------------------------------------
signed int __fastcall Hi363xAccelerator::getEvent(Hi363xAccelerator *this, int *a2, void *a3, int *a4)
{
  int *v4; // r6@1
  Hi363xAccelerator *v5; // r5@1
  _BYTE *v6; // r7@1
  signed int v7; // r4@4
  int v8; // r0@5
  int v9; // r1@5
  _DWORD *v10; // r0@6
  signed int result; // r0@9
  void *v12; // [sp+8h] [bp-18h]@1

  v12 = a3;
  v4 = a4;
  v5 = this;
  v6 = a3;
  if ( *((_DWORD *)this + 1) >= 0 )
  {
    v7 = 10;
    while ( 1 )
    {
      v8 = pread(*((_DWORD *)v5 + 1), v6, *v4 - 1, 0);
      if ( v8 >= 0 )
        break;
      v10 = (_DWORD *)_errno(v8, v9);
      if ( *v10 == 11 || *v10 == 4 )
      {
        usleep(0x640u);
        if ( --v7 )
          continue;
      }
      goto LABEL_9;
    }
    if ( !v8 )
      *v6 = 0;
    *v4 = v8;
    result = 0;
  }
  else
  {
    if ( HwcConfig::GetDebugLevel(this) >= 0 )
      _android_log_print(6, "hwcomposer", "%s:%d: invaild vsync fd %d", "getEvent", 110, *((_DWORD *)v5 + 1), v12);
LABEL_9:
    result = -1;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);
// F1BC: using guessed type int __fastcall pread(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0001F14C) --------------------------------------------------------
int __fastcall Hi363xAccelerator::isCmdPanel(Hi363xAccelerator *this)
{
  HwcConfig *v1; // r0@1
  const char *v2; // r1@3
  const char *v3; // r2@3
  const char *v4; // r3@3
  int result; // r0@5
  signed int v6; // [sp+0h] [bp-58h]@3
  char v7; // [sp+8h] [bp-50h]@6
  unsigned __int16 v8; // [sp+46h] [bp-12h]@9
  int v9; // [sp+4Ch] [bp-Ch]@1

  v1 = (HwcConfig *)*((_DWORD *)this + 2);
  v9 = _stack_chk_guard;
  if ( (signed int)v1 < 0 )
  {
    if ( HwcConfig::GetDebugLevel(v1) < 0 )
    {
LABEL_5:
      result = 0;
      goto LABEL_10;
    }
    v6 = 68;
    v2 = "hwcomposer";
    v3 = "%s:%d: devices are not opened!! ";
    v4 = "isCmdPanel";
LABEL_4:
    _android_log_print(6, v2, v3, v4, v6);
    goto LABEL_5;
  }
  if ( ioctl((int)v1, 0x4602u, &v7) == -1 )
  {
    if ( HwcConfig::GetDebugLevel(0) < 0 )
      goto LABEL_5;
    v6 = 74;
    v2 = "hwcomposer";
    v4 = "isCmdPanel";
    v3 = "%s:%d: ioctl(FBIOGET_FSCREENINFO) failed.";
    goto LABEL_4;
  }
  result = (unsigned int)v8 - 1 <= 0;
LABEL_10:
  if ( v9 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (0001F1E8) --------------------------------------------------------
_DWORD *__fastcall Hi363xAccelerator::Hi363xAccelerator(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  HwcConfig *v2; // r0@1
  int v3; // r0@2
  int v4; // r1@2
  int *v5; // r0@3
  char *v6; // r0@3
  HwcConfig *v7; // r0@4
  int v8; // r0@5
  int v9; // r1@5
  int *v10; // r0@6
  char *v11; // r0@6

  v1 = a1;
  *a1 = &off_2E140;
  v2 = (HwcConfig *)open("/sys/class/graphics/fb0/vsync_event", 0);
  v1[1] = v2;
  if ( (signed int)v2 < 0 )
  {
    v3 = HwcConfig::GetDebugLevel(v2);
    if ( v3 >= 0 )
    {
      v5 = (int *)_errno(v3, v4);
      v6 = strerror(*v5);
      _android_log_print(6, "hwcomposer", "%s:%d: Failed to open vsync fd! error=%s", "Hi363xAccelerator", 24, v6);
    }
  }
  v7 = (HwcConfig *)open("/dev/graphics/fb0", 2);
  v1[2] = v7;
  if ( (signed int)v7 < 0 )
  {
    v8 = HwcConfig::GetDebugLevel(v7);
    if ( v8 >= 0 )
    {
      v10 = (int *)_errno(v8, v9);
      v11 = strerror(*v10);
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: %s open failed, error=%s",
        "Hi363xAccelerator",
        31,
        "/dev/graphics/fb0",
        v11);
    }
  }
  return v1;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);
// 2E140: using guessed type void *off_2E140;

//----- (0001F29C) --------------------------------------------------------
int __fastcall sub_1F29C(int _R0)
{
  int v1; // r2@1
  int v6; // r5@1
  int v7; // r1@1
  int v8; // r4@1
  int v9; // r6@1
  signed int v12; // r3@1
  signed int v13; // r0@2
  int v14; // r4@4
  int result; // r0@4

  v1 = _R0;
  __asm
  {
    VLDR            S15, [R0,#0x28]
    VLDR            S14, [R0,#0x20]
  }
  v6 = *(_DWORD *)(_R0 + 124);
  v7 = *(_DWORD *)(_R0 + 56);
  v8 = *(_DWORD *)(_R0 + 52);
  v9 = *(_DWORD *)(_R0 + 44);
  __asm
  {
    VCVTR.S32.F32   S0, S15
    VCVTR.S32.F32   S1, S14
    VMOV            R3, S0
    VMOV            R0, S1
  }
  v12 = _R3 - _R0;
  if ( v6 << 30 >= 0 )
    v13 = v7 - *(_DWORD *)(v1 + 48);
  else
    v13 = v8 - v9;
  v14 = (v12 + v13 - 1) / v13;
  result = v12 / v13;
  if ( v6 & 0x30 )
    result = 2 * ((result + 1) / 2);
  if ( v14 <= 2 )
    result = 0;
  return result;
}

//----- (0001F2F4) --------------------------------------------------------
unsigned int __fastcall Hi363xPerf::totalBwToDdrRate(Hi363xPerf *this, float a2, int a3, unsigned int a4)
{
  Hi363xPerf *v5; // r6@1
  unsigned int result; // r0@2

  v5 = this;
  _R2 = 60 * j___fixunssfdi(SLODWORD(a2), SLODWORD(a2), a3, a4);
  __asm
  {
    VMOV            D17, R2, R3
    VSHR.U64        D16, D17, #0x14
    VMOV            R4, R5, D16
  }
  if ( *((_BYTE *)v5 + 24) )
  {
    *((_BYTE *)v5 + 24) = 0;
    result = 21 * _R4 / 0xAu;
  }
  else
  {
    result = 18 * _R4 / 0xAu;
  }
  if ( *((_DWORD *)v5 + 4) > 1u && result <= 0x1772 )
    result = 6003;
  *((_DWORD *)v5 + 4) = 0;
  return result;
}

//----- (0001F34C) --------------------------------------------------------
signed int __fastcall Hi363xPerf::getMaxClockRate(Hi363xPerf *this)
{
  return 288000000;
}

//----- (0001F354) --------------------------------------------------------
signed int __fastcall Hi363xPerf::getIdleBoostDdrRate(Hi363xPerf *this)
{
  return 6003;
}

//----- (0001F35A) --------------------------------------------------------
signed int __fastcall Hi363xPerf::setClockRate(Hi363xPerf *this, unsigned int a2)
{
  return 1;
}

//----- (0001F360) --------------------------------------------------------
Hi363xPerf *__fastcall Hi363xPerf::~Hi363xPerf(Hi363xPerf *this)
{
  Hi363xPerf *v1; // r4@1
  int v2; // r0@1

  v1 = this;
  *(_DWORD *)this = &off_2E170;
  v2 = *((_DWORD *)this + 1);
  if ( v2 >= 0 )
    close(v2);
  return v1;
}
// 2E170: using guessed type void *;

//----- (0001F380) --------------------------------------------------------
Hi363xPerf *__fastcall Hi363xPerf::~Hi363xPerf(Hi363xPerf *this)
{
  Hi363xPerf *v1; // r4@1

  v1 = this;
  Hi363xPerf::~Hi363xPerf(this);
  operator delete((void *)v1);
  return v1;
}

//----- (0001F398) --------------------------------------------------------
unsigned int __fastcall Hi363xPerf::calcClockRate(Hi363xPerf *this, const HwcLayerInfo *_R1)
{
  const HwcLayerInfo *v2; // r5@1
  int v5; // r4@1
  int v6; // r6@1
  unsigned int v7; // r8@1
  int v9; // r0@2
  unsigned int v10; // r1@3
  int v11; // r5@5
  unsigned int v17; // lr@5
  unsigned int v18; // r12@7
  unsigned __int64 v19; // r6@7
  unsigned __int64 v20; // r4@11
  signed int v21; // r10@12
  unsigned __int64 v22; // r0@13
  unsigned __int64 v25; // r0@27
  bool v26; // cf@28
  int v27; // off@32
  unsigned int result; // r0@36
  unsigned __int64 v29; // r8@40
  bool v30; // cf@43
  int v31; // [sp+14h] [bp-3Ch]@1

  v2 = _R1;
  __asm
  {
    VLDR            S19, [R1,#0x28]
    VLDR            S18, [R1,#0x20]
    VLDR            S17, [R1,#0x24]
    VLDR            S16, [R1,#0x1C]
  }
  v31 = *((_DWORD *)_R1 + 14);
  v5 = *((_DWORD *)_R1 + 12);
  v6 = *((_DWORD *)this + 3);
  v7 = *((_DWORD *)this + 2);
  if ( *((_DWORD *)_R1 + 3) & 0x100 )
    return 0;
  HIDWORD(_R10) = *((_DWORD *)_R1 + 13) - *((_DWORD *)_R1 + 11);
  v9 = sub_1F29C((int)_R1);
  __asm { VCVTR.S32.F32   S15, S19 }
  if ( v9 )
    v10 = v9;
  else
    v10 = 1;
  v11 = *((_DWORD *)v2 + 5);
  __asm
  {
    VCVTR.S32.F32   S0, S18
    VCVTR.S32.F32   S1, S17
    VCVTR.S32.F32   S2, S16
  }
  LODWORD(_R2) = v31 - v5;
  __asm
  {
    VMOV            R0, S15
    VMOV            R3, S0
    VMOV            R7, S1
    VMOV            R10, S2
  }
  v17 = _R0 - HIDWORD(_R2);
  if ( !_ZF )
    v11 = _R0 - HIDWORD(_R2);
  v18 = _R7 - _R10;
  LODWORD(_R10) = v6 * v7;
  HIDWORD(v19) = 0;
  if ( !_ZF )
  {
    v17 = v18;
    v18 = v11;
  }
  HIDWORD(_R2) = v17 / v10;
  LODWORD(v19) = v6 * v7;
  if ( v17 / v10 == (_DWORD)_R2 || v17 / v10 < (unsigned int)_R2 )
  {
    if ( v18 == HIDWORD(_R10) )
    {
      v21 = 0;
    }
    else
    {
      if ( v18 >= HIDWORD(_R10) )
      {
        v22 = HIDWORD(_R2)
            * v18
            * (unsigned __int64)(unsigned int)_R10
            / (HIDWORD(_R10)
             * (unsigned __int64)(unsigned int)_R2);
        v30 = 1;
        if ( !HIDWORD(v22) )
          v30 = (unsigned int)v22 >= (unsigned int)_R10;
        if ( !v30 )
        {
          LODWORD(_R0) = 60 * _R10;
          goto LABEL_24;
        }
        v21 = -1;
        goto LABEL_22;
      }
      v21 = 1;
    }
    v22 = (unsigned int)v19;
LABEL_22:
    v19 = v22;
    goto LABEL_23;
  }
  v20 = v18 * (unsigned __int64)v7;
  if ( v18 == HIDWORD(_R10) )
  {
    v21 = 0;
  }
  else
  {
    if ( v18 < HIDWORD(_R10) )
    {
      if ( v18 * HIDWORD(_R2) / ((signed int)_R2 * HIDWORD(_R10)) )
      {
        v25 = HIDWORD(_R2) * v20;
        HIDWORD(_R2) = 0;
      }
      else
      {
        v29 = HIDWORD(_R2) * v20;
        _R2 = HIDWORD(_R2)
            * v18
            * (unsigned __int64)(unsigned int)_R2
            / (HIDWORD(_R10)
             * (unsigned __int64)(unsigned int)_R2);
        v25 = v29;
      }
      v22 = v25 / _R2;
      v26 = 1;
      if ( !HIDWORD(v22) )
        v26 = (unsigned int)v22 >= (unsigned int)_R10;
      if ( !v26 )
      {
        _R0 = 60LL * (unsigned int)_R10;
        goto LABEL_32;
      }
      v21 = 1;
      goto LABEL_22;
    }
    v21 = -1;
  }
  v22 = HIDWORD(_R2) * v20 / (unsigned int)_R2;
  _CF = 1;
  if ( !HIDWORD(v22) )
    _CF = (unsigned int)v22 >= (unsigned int)v19;
  if ( _CF )
    goto LABEL_22;
LABEL_23:
  _R0 = 60 * v19;
  if ( v21 == -1 )
  {
LABEL_24:
    __asm
    {
      VMOV            D17, R0, R1
      VSHR.U64        D16, D17, #1
      VMOV            R10, R11, D16
    }
    goto LABEL_33;
  }
LABEL_32:
  v27 = _R0 >> 31;
  LODWORD(_R0) = 2 * _R0;
  HIDWORD(_R0) += v27;
  _R10 = _R0 / 3;
LABEL_33:
  if ( *(_QWORD *)dword_1F584 >= _R10 )
  {
    result = 0x55D4A800 / (unsigned int)(*(_QWORD *)dword_1F584 / _R10);
  }
  else
  {
    if ( HwcConfig::GetDebugLevel((HwcConfig *)dword_1F584[0]) > 1 )
      _android_log_print(4, "hwcomposer", "%s:%d: need pixelRate %lu larger than max", "calcClockRate", 224);
    result = _R10;
  }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// 1F584: using guessed type int dword_1F584[2];

//----- (0001F598) --------------------------------------------------------
int __fastcall Hi363xPerf::calcLayerBw(Hi363xPerf *this, const HwcLayerInfo *_R1)
{
  Hi363xPerf *v2; // r8@1
  const HwcLayerInfo *v3; // r4@1
  int v8; // r7@1
  int v10; // r10@1
  int v11; // r9@1
  int v12; // r11@1
  int v21; // r0@12
  int v22; // r0@12
  int v23; // r4@16
  signed int v24; // r1@22
  int result; // r0@42

  v2 = this;
  v3 = _R1;
  __asm
  {
    VLDR            S15, [R1,#0x24]
    VLDR            S1, [R1,#0x1C]
  }
  _R6 = *((_DWORD *)this + 3);
  __asm
  {
    VLDR            S17, [R1,#0x28]
    VLDR            S18, [R1,#0x20]
    VCVTR.S32.F32   S0, S15
  }
  v8 = *((_DWORD *)_R1 + 14);
  __asm { VCVTR.S32.F32   S2, S1 }
  _R3 = *((_DWORD *)this + 2) * _R6;
  v10 = *((_DWORD *)_R1 + 12);
  v11 = *((_DWORD *)_R1 + 13);
  v12 = *((_DWORD *)_R1 + 11);
  __asm
  {
    VMOV            S16, R3
    VMOV            R5, S0
    VMOV            R0, S2
    VCVT.F32.U32    S16, S16
  }
  _R5 = _R5 - _R0;
  _R0 = sub_1F29C((int)_R1);
  if ( _R0 )
  {
    __asm
    {
      VCVTR.S32.F32   S3, S17
      VCVTR.S32.F32   S4, S18
      VMOV            R2, S3
      VMOV            R1, S4
    }
    _R2 = _R2 - _R1;
    __asm
    {
      VMOV            S5, R2
      VCVT.F32.U32    S6, S5
      VMUL.F32        S7, S16, S6
    }
    if ( _ZF )
    {
      _R0 *= v8 - v10;
      __asm
      {
        VMOV            S8, R0
        VCVT.F32.U32    S9, S8
        VDIV.F32        S16, S7, S9
      }
      if ( !(!_ZF & _CF) )
        goto LABEL_12;
    }
    else
    {
      _R1 = (v11 - v12) * _R0;
      __asm
      {
        VMOV            S14, R1
        VCVT.F32.U32    S10, S14
        VDIV.F32        S16, S7, S10
      }
      if ( !(!_ZF & _CF) )
        goto LABEL_11;
    }
    goto LABEL_9;
  }
  if ( _R5 > _R6 )
  {
LABEL_9:
    __asm
    {
      VMOV            S11, R5
      VMOV            S13, R6
      VCVT.F32.U32    S12, S11
      VCVT.F32.U32    S19, S13
      VDIV.F32        S17, S12, S19
      VMUL.F32        S16, S16, S17
    }
  }
  if ( *((_DWORD *)v3 + 31) & 2 )
LABEL_11:
    *((_BYTE *)v2 + 24) = 1;
LABEL_12:
  v21 = HwcConfig::GetPlatform((HwcConfig *)_R0);
  v22 = (*(int (**)(void))(*(_DWORD *)v21 + 8))();
  if ( !(*(int (**)(void))(*(_DWORD *)v22 + 28))() && *((_DWORD *)v3 + 24) == 2 && *((_DWORD *)v3 + 31) & 2 )
    ++*((_DWORD *)v2 + 4);
  v23 = *((_DWORD *)v3 + 4);
  if ( !v23
    || *(_DWORD *)v23 != 12
    || *(_DWORD *)(v23 + 8) != 48
    || *(_DWORD *)(v23 + 4) != 1
    || *(_DWORD *)(v23 + 16) != 51647890 )
  {
    __asm { VLDR            S16, =0.0 }
    goto LABEL_42;
  }
  v24 = *(_DWORD *)(v23 + 20);
  if ( v24 == 16 )
    goto LABEL_23;
  if ( v24 > 16 )
  {
    if ( v24 >= 258 )
    {
      _ZF = v24 == 842094169;
    }
    else
    {
      if ( v24 >= 256 || v24 == 17 )
        goto LABEL_23;
      _ZF = v24 == 20;
    }
    if ( _ZF )
    {
LABEL_23:
      __asm { VADD.F32        S16, S16, S16 }
      goto LABEL_42;
    }
  }
  else
  {
    if ( v24 == 3 )
    {
      __asm { VMOV.F32        S18, #3.0 }
LABEL_30:
      __asm { VMUL.F32        S16, S16, S18 }
      goto LABEL_42;
    }
    if ( v24 > 3 )
    {
      if ( v24 == 4 )
        goto LABEL_23;
      if ( v24 == 5 )
        goto LABEL_29;
    }
    else if ( v24 >= 1 )
    {
LABEL_29:
      __asm { VMOV.F32        S18, #4.0 }
      goto LABEL_30;
    }
  }
  if ( HwcConfig::GetDebugLevel((HwcConfig *)0x3141592) > 0 )
    _android_log_print(5, "hwcomposer", "%s:%d: unsupported format: %d", "calcLayerBw", 135, *(_DWORD *)(v23 + 20));
LABEL_42:
  __asm { VMOV            R0, S16 }
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);

//----- (0001F754) --------------------------------------------------------
signed int __fastcall Hi363xPerf::setDdrRate(Hi363xPerf *this, unsigned int a2)
{
  Hi363xPerf *v2; // r6@1
  unsigned int v3; // r7@1
  HwcConfig *v4; // r0@4
  int v5; // r0@5
  int v6; // r1@5
  int *v7; // r0@6
  const char *v8; // r1@6
  const char *v9; // r2@6
  const char *v10; // r3@6
  signed int result; // r0@8
  int v12; // r6@9
  size_t v13; // r0@9
  ssize_t v14; // r7@9
  HwcConfig *v15; // r0@9
  int v16; // r0@10
  int v17; // r1@10
  int *v18; // r0@11
  signed int v19; // [sp+0h] [bp-40h]@6
  const char *v20; // [sp+4h] [bp-3Ch]@6
  char *v21; // [sp+8h] [bp-38h]@6
  char s; // [sp+14h] [bp-2Ch]@9
  int v23; // [sp+24h] [bp-1Ch]@1

  v2 = this;
  v3 = a2;
  v23 = _stack_chk_guard;
  if ( HwcConfig::GetDebugLevel(this) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: request ddr rate: %u MB/s", "setDdrRate", 298, v3);
  if ( *((_DWORD *)v2 + 1) < 0 )
  {
    v4 = (HwcConfig *)open("/dev/memory_throughput", 2050);
    *((_DWORD *)v2 + 1) = v4;
    if ( (signed int)v4 < 0 )
    {
      v5 = HwcConfig::GetDebugLevel(v4);
      if ( v5 < 0 )
      {
LABEL_8:
        result = 0;
        goto LABEL_13;
      }
      v7 = (int *)_errno(v5, v6);
      v21 = strerror(*v7);
      v19 = 303;
      v20 = "/dev/memory_throughput";
      v8 = "hwcomposer";
      v9 = "%s:%d: Can't open %s: %s\n";
      v10 = "setDdrRate";
LABEL_7:
      _android_log_print(6, v8, v9, v10, v19, v20, v21);
      goto LABEL_8;
    }
  }
  memset(&s, 0, 0x10u);
  snprintf(&s, 0xFu, "0x%08x", v3);
  v12 = *((_DWORD *)v2 + 1);
  v13 = _strlen_chk(&s, 16);
  v14 = write(v12, &s, v13);
  v15 = (HwcConfig *)_strlen_chk(&s, 16);
  if ( (HwcConfig *)v14 != v15 )
  {
    v16 = HwcConfig::GetDebugLevel(v15);
    if ( v16 < 0 )
      goto LABEL_8;
    v18 = (int *)_errno(v16, v17);
    v21 = strerror(*v18);
    v19 = 312;
    v20 = (const char *)v14;
    v8 = "hwcomposer";
    v10 = "setDdrRate";
    v9 = "%s:%d: write maxBps err = %d, %s\r\n";
    goto LABEL_7;
  }
  result = 1;
LABEL_13:
  if ( v23 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);
// EF64: using guessed type int __fastcall _strlen_chk(_DWORD, _DWORD);

//----- (0001F880) --------------------------------------------------------
int __fastcall Hi363xPerf::setGpuBoost(Hi363xPerf *this, int a2)
{
  Hi363xPerf *v2; // r8@1
  int v3; // r0@1
  int v4; // r6@1
  HwcConfig *v5; // r0@2
  int v6; // r7@2
  int v7; // r0@3
  int v8; // r1@3
  int *v9; // r0@4
  char *v10; // r0@4
  size_t v11; // r0@5
  ssize_t v12; // r9@5
  HwcConfig *v13; // r0@5
  int v14; // r0@6
  int v15; // r1@6
  int *v16; // r0@7
  char *v17; // r0@7
  HwcConfig *v18; // r0@9
  const char *v19; // r6@11
  int result; // r0@14
  char s[4]; // [sp+14h] [bp-2Ch]@5
  int v22; // [sp+18h] [bp-28h]@5
  int v23; // [sp+1Ch] [bp-24h]@1

  v2 = this;
  v3 = *((_DWORD *)this + 5);
  v4 = a2;
  v23 = _stack_chk_guard;
  if ( a2 != v3 )
  {
    v5 = (HwcConfig *)open("/sys/class/devfreq/gpufreq/mali_ondemand/animation_boost", 2050);
    v6 = (int)v5;
    if ( (signed int)v5 >= 0 )
    {
      *(_DWORD *)s = 0;
      v22 = 0;
      snprintf(s, 7u, "%d", v4);
      v11 = _strlen_chk(s, 8);
      v12 = write(v6, s, v11);
      v13 = (HwcConfig *)_strlen_chk(s, 8);
      if ( (HwcConfig *)v12 == v13 )
      {
        *((_DWORD *)v2 + 5) = v4;
        v18 = (HwcConfig *)close(v6);
        if ( HwcConfig::GetDebugLevel(v18) > 2 )
        {
          if ( v4 )
            v19 = "ON";
          else
            v19 = "OFF";
          _android_log_print(3, "hwcomposer", "%s:%d: gpu boost %s", "setGpuBoost", 373, v19);
        }
      }
      else
      {
        v14 = HwcConfig::GetDebugLevel(v13);
        if ( v14 >= 0 )
        {
          v16 = (int *)_errno(v14, v15);
          v17 = strerror(*v16);
          _android_log_print(
            6,
            "hwcomposer",
            "%s:%d: write[%d] gpu boost err = %d, %s\r\n",
            "setGpuBoost",
            365,
            v4,
            v12,
            v17);
        }
        close(v6);
      }
    }
    else
    {
      v7 = HwcConfig::GetDebugLevel(v5);
      if ( v7 >= 0 )
      {
        v9 = (int *)_errno(v7, v8);
        v10 = strerror(*v9);
        _android_log_print(
          6,
          "hwcomposer",
          "%s:%d: Can't open %s: %s\n",
          "setGpuBoost",
          357,
          "/sys/class/devfreq/gpufreq/mali_ondemand/animation_boost",
          v10);
      }
    }
  }
  result = v23;
  if ( v23 != _stack_chk_guard )
    _stack_chk_fail(v23);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);
// EF64: using guessed type int __fastcall _strlen_chk(_DWORD, _DWORD);

//----- (0001F9CC) --------------------------------------------------------
int __fastcall Hi363xPerf::setCpuBoost(Hi363xPerf *this)
{
  HwcConfig *v1; // r0@1
  int v2; // r6@1
  int result; // r0@2
  int v4; // r1@2
  int *v5; // r0@3
  char *v6; // r0@3
  size_t v7; // r0@4
  ssize_t v8; // r7@4
  HwcConfig *v9; // r0@4
  int v10; // r0@5
  int v11; // r1@5
  int *v12; // r0@6
  char *v13; // r0@6
  HwcConfig *v14; // r0@8
  char s[4]; // [sp+14h] [bp-24h]@4
  int v16; // [sp+18h] [bp-20h]@4
  int v17; // [sp+1Ch] [bp-1Ch]@1

  v17 = _stack_chk_guard;
  v1 = (HwcConfig *)open("/sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse", 2050);
  v2 = (int)v1;
  if ( (signed int)v1 >= 0 )
  {
    *(_DWORD *)s = 0;
    v16 = 0;
    snprintf(s, 7u, "%d", 1);
    v7 = _strlen_chk(s, 8);
    v8 = write(v2, s, v7);
    v9 = (HwcConfig *)_strlen_chk(s, 8);
    if ( (HwcConfig *)v8 == v9 )
    {
      v14 = (HwcConfig *)close(v2);
      result = HwcConfig::GetDebugLevel(v14);
      if ( result > 2 )
        result = _android_log_print(3, "hwcomposer", "%s:%d: cpu boost on", "setCpuBoost", 398);
    }
    else
    {
      v10 = HwcConfig::GetDebugLevel(v9);
      if ( v10 >= 0 )
      {
        v12 = (int *)_errno(v10, v11);
        v13 = strerror(*v12);
        _android_log_print(6, "hwcomposer", "%s:%d: write cpu boost error = %d, %s\r\n", "setCpuBoost", 391, v8, v13);
      }
      result = close(v2);
    }
  }
  else
  {
    result = HwcConfig::GetDebugLevel(v1);
    if ( result >= 0 )
    {
      v5 = (int *)_errno(result, v4);
      v6 = strerror(*v5);
      result = _android_log_print(
                 6,
                 "hwcomposer",
                 "%s:%d: Can't open %s: %s\n",
                 "setCpuBoost",
                 382,
                 "/sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse",
                 v6);
    }
  }
  if ( v17 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);
// EF64: using guessed type int __fastcall _strlen_chk(_DWORD, _DWORD);

//----- (0001FAF0) --------------------------------------------------------
signed int __fastcall Hi363xPerf::getCurrentDdrRate(Hi363xPerf *this, unsigned int *a2)
{
  unsigned int *v2; // r7@1
  HwcConfig *v3; // r0@1
  int v4; // r6@1
  int v5; // r0@2
  int v6; // r1@2
  int *v7; // r0@3
  char *v8; // r0@3
  HwcConfig *v9; // r0@4
  HwcConfig *v10; // r8@4
  int v11; // r0@5
  int v12; // r1@5
  int *v13; // r0@6
  char *v14; // r0@6
  HwcConfig *v15; // r0@8
  signed int result; // r0@10
  char s; // [sp+14h] [bp-2Ch]@1
  int v18; // [sp+24h] [bp-1Ch]@1

  v2 = a2;
  v18 = _stack_chk_guard;
  memset(&s, 0, 0x10u);
  v3 = (HwcConfig *)open("/sys/class/devfreq/ddrfreq/ddr_bandwidth", 2048);
  v4 = (int)v3;
  if ( (signed int)v3 < 0 )
  {
    v5 = HwcConfig::GetDebugLevel(v3);
    if ( v5 >= 0 )
    {
      v7 = (int *)_errno(v5, v6);
      v8 = strerror(*v7);
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: Can't open %s: %s",
        "getCurrentDdrRate",
        329,
        "/sys/class/devfreq/ddrfreq/ddr_bandwidth",
        v8);
    }
LABEL_10:
    result = 0;
    goto LABEL_12;
  }
  v9 = (HwcConfig *)read((int)v3, &s, 0xAu);
  v10 = v9;
  if ( (signed int)v9 <= 0 )
  {
    v11 = HwcConfig::GetDebugLevel(v9);
    if ( v11 >= 0 )
    {
      v13 = (int *)_errno(v11, v12);
      v14 = strerror(*v13);
      _android_log_print(
        6,
        "hwcomposer",
        "%s:%d: ddrFd[%d] read ddr band width err[%d]: %s\r\n",
        "getCurrentDdrRate",
        336,
        v4,
        v10,
        v14);
    }
    close(v4);
    goto LABEL_10;
  }
  close(v4);
  v15 = (HwcConfig *)strtoul(&s, 0, 10);
  *v2 = (unsigned int)v15;
  if ( HwcConfig::GetDebugLevel(v15) > 2 )
    _android_log_print(3, "hwcomposer", "%s:%d: current ddr rate is %u MB/s", "getCurrentDdrRate", 343, *v2);
  result = 1;
LABEL_12:
  if ( v18 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF2C: using guessed type int _android_log_print(_DWORD, _DWORD, const char *, ...);
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// E544: using guessed type int __cdecl _errno(_DWORD, _DWORD);

//----- (0001FC14) --------------------------------------------------------
int __fastcall Hi363xPerf::Hi363xPerf(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r1@1
  int v4; // r1@1
  int result; // r0@1

  v2 = a1;
  *(_DWORD *)a1 = &off_2E170;
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(HwcConfig::GetDisplay(0, a2) + 24);
  v4 = *(_DWORD *)(HwcConfig::GetDisplay(0, v3) + 20);
  result = v2;
  *(_DWORD *)(v2 + 4) = -1;
  *(_DWORD *)(v2 + 20) = 0;
  *(_DWORD *)(v2 + 12) = v4;
  *(_DWORD *)(v2 + 16) = 0;
  *(_BYTE *)(v2 + 24) = 0;
  return result;
}
// 2E170: using guessed type void *off_2E170;

//----- (0001FC4C) --------------------------------------------------------
int __fastcall VirtualDisplayGpuPolicy::Prepare(VirtualDisplayGpuPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  HwcCompInfo *v4; // r4@1
  int v5; // r5@1
  int i; // r2@2

  v4 = a4;
  v5 = *((_DWORD *)this + 1);
  if ( HwcConfig::GetPolicyMask(this) & v5 )
  {
    for ( i = *(_DWORD *)(*((_DWORD *)v4 + 2) + 8); i != *((_DWORD *)v4 + 2); i = *(_DWORD *)(i + 8) )
      *(_BYTE *)(*(_DWORD *)i + 144) = 0;
    *((_BYTE *)v4 + 78) = 1;
  }
  return 0;
}

//----- (0001FC7C) --------------------------------------------------------
int __fastcall VirtualDisplayGpuPolicy::VirtualDisplayGpuPolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2E1B8;
  return result;
}
// 2E1B8: using guessed type void *;

//----- (0001FC90) --------------------------------------------------------
HwcConfig *__fastcall IdleBoostPolicy::Prepare(IdleBoostPolicy *this, int a2, const HwcCompInfo *a3, HwcCompInfo *a4)
{
  int v4; // r4@1
  const HwcCompInfo *v5; // r6@1
  HwcCompInfo *v6; // r5@1
  HwcConfig *result; // r0@1
  signed int v8; // r4@5
  int v9; // r0@5
  int v10; // r0@5
  HwcConfig *v11; // r0@5
  unsigned int v12; // r7@5
  int v13; // r0@5
  int v14; // r0@5
  int v15; // r0@7
  int v16; // r7@7
  int v17; // r4@10
  unsigned int *v18; // r6@12
  int v19; // r7@12
  unsigned int v20; // r3@14
  void *v21; // r0@17
  int v22; // r2@18
  unsigned int v23; // [sp+4h] [bp-3Ch]@5
  char v24; // [sp+8h] [bp-38h]@18

  v4 = *((_DWORD *)this + 1);
  v5 = a3;
  v6 = a4;
  result = (HwcConfig *)(HwcConfig::GetPolicyMask(this) & v4);
  if ( result )
  {
    if ( v5 && (*((_BYTE *)v5 + 76) || (result = (HwcConfig *)*((_BYTE *)v5 + 93)) != 0) )
    {
      v8 = 0;
      v23 = 0;
      v9 = HwcConfig::GetPlatform(result);
      v10 = (*(int (**)(void))(*(_DWORD *)v9 + 20))();
      v11 = (HwcConfig *)(*(int (**)(void))(*(_DWORD *)v10 + 12))();
      v12 = v23;
      v13 = HwcConfig::GetPlatform(v11);
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 20))();
      if ( v12 < (*(int (**)(void))(*(_DWORD *)v14 + 56))() )
      {
        v15 = *((_DWORD *)v6 + 4);
        v16 = *(_DWORD *)(v15 + 8);
        if ( v16 != v15 )
        {
          while ( v16 != *((_DWORD *)v6 + 4) )
          {
            *(_BYTE *)(*(_DWORD *)v16 + 144) = 1;
            v16 = *(_DWORD *)(v16 + 8);
          }
          v17 = *(_DWORD *)(v16 + 8);
          while ( v17 != *((_DWORD *)v6 + 4) )
          {
            v18 = *(unsigned int **)v17;
            v19 = *(_DWORD *)(v17 + 8);
            if ( *(_DWORD *)v17 )
            {
              __dmb();
              do
                v20 = __ldrex(v18);
              while ( __strex(v20 - 1, v18) );
              if ( v20 == 1 )
              {
                android::Vector<HwcPolicy *>::do_construct();
                operator delete(v18);
              }
            }
            v21 = (void *)v17;
            v17 = v19;
            operator delete(v21);
          }
          *(_DWORD *)(v17 + 4) = v17;
          v8 = 1;
          *(_DWORD *)(*((_DWORD *)v6 + 4) + 8) = *((_DWORD *)v6 + 4);
          v22 = *(_DWORD *)v6;
          *((_BYTE *)v6 + 93) = 1;
          *((_BYTE *)v6 + 108) = 1;
          HwcBandwidth::HwcBandwidth((HwcBandwidth *)&v24, 0, v22);
          HwcBandwidth::SetIdleBoostDdrRate((HwcBandwidth *)&v24);
          HwcBandwidth::~HwcBandwidth((HwcBandwidth *)&v24);
        }
      }
      else
      {
        *((_BYTE *)v6 + 93) = 0;
      }
      result = (HwcConfig *)v8;
    }
    else
    {
      result = 0;
      *((_BYTE *)v6 + 93) = 0;
    }
  }
  return result;
}

//----- (0001FD78) --------------------------------------------------------
int __fastcall IdleBoostPolicy::IdleBoostPolicy(int result, int a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)result = &off_2E1D0;
  return result;
}
// 2E1D0: using guessed type void *;

//----- (0001FD8C) --------------------------------------------------------
signed int sub_1FD8C()
{
  return 1;
}

//----- (0001FD90) --------------------------------------------------------
signed int sub_1FD90()
{
  return 1;
}

//----- (0001FD94) --------------------------------------------------------
signed int sub_1FD94()
{
  return 1;
}

//----- (0001FD98) --------------------------------------------------------
signed int sub_1FD98()
{
  return 1;
}

//----- (0001FD9C) --------------------------------------------------------
signed int sub_1FD9C()
{
  return 1;
}

//----- (0001FDA0) --------------------------------------------------------
signed int sub_1FDA0()
{
  return 1;
}

//----- (0001FDA4) --------------------------------------------------------
signed int sub_1FDA4()
{
  return 1;
}

//----- (0001FDA8) --------------------------------------------------------
signed int sub_1FDA8()
{
  return 1;
}

//----- (0001FDAC) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::Accept(int a1, int a2)
{
  int v2; // r6@1
  int v3; // r4@1
  int i; // r5@3

  v2 = a1;
  v3 = a2;
  if ( (*(int (__fastcall **)(int, int))(*(_DWORD *)a2 + 8))(a2, a1) )
  {
    for ( i = *(_DWORD *)(v2 + 24);
          i && (*(int (__fastcall **)(int, int))(*(_DWORD *)i + 56))(i, v3);
          i = *(_DWORD *)(i + 36) )
    {
      ;
    }
  }
  return (*(int (__fastcall **)(int, int))(*(_DWORD *)v3 + 12))(v3, v2);
}

//----- (0001FDE4) --------------------------------------------------------
int __fastcall tinyxml2::XMLText::Accept(int a1, int a2)
{
  return (*(int (__fastcall **)(int, int))(*(_DWORD *)a2 + 28))(a2, a1);
}

//----- (0001FDF6) --------------------------------------------------------
int __fastcall tinyxml2::XMLComment::Accept(int a1, int a2)
{
  return (*(int (__fastcall **)(int, int))(*(_DWORD *)a2 + 32))(a2, a1);
}

//----- (0001FE08) --------------------------------------------------------
int __fastcall tinyxml2::XMLDeclaration::Accept(int a1, int a2)
{
  return (*(int (__fastcall **)(int, int))(*(_DWORD *)a2 + 24))(a2, a1);
}

//----- (0001FE1A) --------------------------------------------------------
int __fastcall tinyxml2::XMLUnknown::Accept(int a1, int a2)
{
  return (*(int (__fastcall **)(int, int))(*(_DWORD *)a2 + 36))(a2, a1);
}

//----- (0001FE2C) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::Accept(int a1, int a2)
{
  int v2; // r6@1
  int v3; // r4@1
  int i; // r5@3

  v2 = a1;
  v3 = a2;
  if ( (*(int (__fastcall **)(int, int, _DWORD))(*(_DWORD *)a2 + 16))(a2, v2, *(_DWORD *)(v2 + 48)) )
  {
    for ( i = *(_DWORD *)(v2 + 24);
          i && (*(int (__fastcall **)(int, int))(*(_DWORD *)i + 56))(i, v3);
          i = *(_DWORD *)(i + 36) )
    {
      ;
    }
  }
  return (*(int (__fastcall **)(int, int))(*(_DWORD *)v3 + 20))(v3, v2);
}

//----- (0001FE66) --------------------------------------------------------
signed int sub_1FE66()
{
  return 44;
}

//----- (0001FE6A) --------------------------------------------------------
signed int sub_1FE6A()
{
  return 48;
}

//----- (0001FE6E) --------------------------------------------------------
signed int sub_1FE6E()
{
  return 36;
}

//----- (0001FE72) --------------------------------------------------------
signed int sub_1FE72()
{
  return 52;
}

//----- (0001FE76) --------------------------------------------------------
_DWORD *__fastcall sub_1FE76(_DWORD *result, void *a2)
{
  _DWORD *v2; // r4@1

  v2 = result;
  if ( a2 )
  {
    --result[15];
    result = memset(a2, 254, 0x2Cu);
    *result = v2[14];
    v2[14] = result;
  }
  return result;
}

//----- (0001FE94) --------------------------------------------------------
_DWORD *__fastcall sub_1FE94(_DWORD *result, void *a2)
{
  _DWORD *v2; // r4@1

  v2 = result;
  if ( a2 )
  {
    --result[15];
    result = memset(a2, 254, 0x30u);
    *result = v2[14];
    v2[14] = result;
  }
  return result;
}

//----- (0001FEB2) --------------------------------------------------------
_DWORD *__fastcall sub_1FEB2(_DWORD *result, void *a2)
{
  _DWORD *v2; // r4@1

  v2 = result;
  if ( a2 )
  {
    --result[15];
    result = memset(a2, 254, 0x24u);
    *result = v2[14];
    v2[14] = result;
  }
  return result;
}

//----- (0001FED0) --------------------------------------------------------
_DWORD *__fastcall sub_1FED0(_DWORD *result, void *a2)
{
  _DWORD *v2; // r4@1

  v2 = result;
  if ( a2 )
  {
    --result[15];
    result = memset(a2, 254, 0x34u);
    *result = v2[14];
    v2[14] = result;
  }
  return result;
}

//----- (0001FEEE) --------------------------------------------------------
void __fastcall sub_1FEEE(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r4@1
  void *v4; // r6@1
  void *v5; // r0@1

  v2 = 2 * a2;
  v3 = a1;
  v4 = (void *)operator new[](2 * a2);
  memcpy(v4, *(const void **)v3, *(_DWORD *)(v3 + 28));
  v5 = *(void **)v3;
  if ( *(_DWORD *)v3 != v3 + 4 && v5 )
    operator delete[](v5);
  *(_DWORD *)v3 = v4;
  *(_DWORD *)(v3 + 24) = v2;
}

//----- (0001FF1A) --------------------------------------------------------
int *__fastcall sub_1FF1A(int a1)
{
  int v1; // r4@1
  int v2; // r5@2
  int v3; // r3@2
  int v4; // r6@3
  unsigned int v5; // r0@4
  void *v6; // r7@6
  void *v7; // r0@6
  int v8; // r2@10
  int v9; // r7@10
  int v10; // r0@10
  int *result; // r0@13
  int v12; // r2@13
  int v13; // r5@13
  int v14; // r6@13
  int v15; // r7@13

  v1 = a1;
  if ( !*(_DWORD *)(a1 + 56) )
  {
    v2 = operator new(0x3F0u);
    memset((void *)v2, 0, 0x3F0u);
    v3 = *(_DWORD *)(v1 + 52) + 1;
    if ( v3 > *(_DWORD *)(v1 + 48) )
    {
      v4 = 2 * v3;
      if ( (unsigned int)(2 * v3) > 0x1FC00000 )
        v5 = -1;
      else
        v5 = 8 * v3;
      v6 = (void *)operator new[](v5);
      memcpy(v6, *(const void **)(v1 + 4), 4 * *(_DWORD *)(v1 + 52));
      v7 = *(void **)(v1 + 4);
      if ( v7 != (void *)(v1 + 8) && v7 )
        operator delete[](v7);
      *(_DWORD *)(v1 + 4) = v6;
      *(_DWORD *)(v1 + 48) = v4;
    }
    v8 = *(_DWORD *)(v1 + 52);
    v9 = v2 + 36;
    v10 = *(_DWORD *)(v1 + 4);
    *(_DWORD *)(v1 + 52) = v8 + 1;
    *(_DWORD *)(v10 + 4 * v8) = v2;
    do
    {
      *(_DWORD *)(v9 - 36) = v9;
      v9 += 36;
    }
    while ( v9 != v2 + 1008 );
    *(_DWORD *)(v2 + 972) = 0;
    *(_DWORD *)(v1 + 56) = v2;
  }
  result = *(int **)(v1 + 56);
  v12 = *(_DWORD *)(v1 + 68);
  v13 = *result;
  v14 = *(_DWORD *)(v1 + 60) + 1;
  v15 = *(_DWORD *)(v1 + 64) + 1;
  *(_DWORD *)(v1 + 60) = v14;
  *(_DWORD *)(v1 + 56) = v13;
  if ( v14 > v12 )
    *(_DWORD *)(v1 + 68) = v14;
  *(_DWORD *)(v1 + 64) = v15;
  return result;
}

//----- (0001FFBA) --------------------------------------------------------
int *__fastcall sub_1FFBA(int a1)
{
  int v1; // r4@1
  int v2; // r5@2
  int v3; // r3@2
  int v4; // r6@3
  unsigned int v5; // r0@4
  void *v6; // r7@6
  void *v7; // r0@6
  int v8; // r2@10
  int v9; // r7@10
  int v10; // r0@10
  int *result; // r0@13
  int v12; // r2@13
  int v13; // r5@13
  int v14; // r6@13
  int v15; // r7@13

  v1 = a1;
  if ( !*(_DWORD *)(a1 + 56) )
  {
    v2 = operator new(0x3DCu);
    memset((void *)v2, 0, 0x3DCu);
    v3 = *(_DWORD *)(v1 + 52) + 1;
    if ( v3 > *(_DWORD *)(v1 + 48) )
    {
      v4 = 2 * v3;
      if ( (unsigned int)(2 * v3) > 0x1FC00000 )
        v5 = -1;
      else
        v5 = 8 * v3;
      v6 = (void *)operator new[](v5);
      memcpy(v6, *(const void **)(v1 + 4), 4 * *(_DWORD *)(v1 + 52));
      v7 = *(void **)(v1 + 4);
      if ( v7 != (void *)(v1 + 8) && v7 )
        operator delete[](v7);
      *(_DWORD *)(v1 + 4) = v6;
      *(_DWORD *)(v1 + 48) = v4;
    }
    v8 = *(_DWORD *)(v1 + 52);
    v9 = v2 + 52;
    v10 = *(_DWORD *)(v1 + 4);
    *(_DWORD *)(v1 + 52) = v8 + 1;
    *(_DWORD *)(v10 + 4 * v8) = v2;
    do
    {
      *(_DWORD *)(v9 - 52) = v9;
      v9 += 52;
    }
    while ( v9 != v2 + 988 );
    *(_DWORD *)(v2 + 936) = 0;
    *(_DWORD *)(v1 + 56) = v2;
  }
  result = *(int **)(v1 + 56);
  v12 = *(_DWORD *)(v1 + 68);
  v13 = *result;
  v14 = *(_DWORD *)(v1 + 60) + 1;
  v15 = *(_DWORD *)(v1 + 64) + 1;
  *(_DWORD *)(v1 + 60) = v14;
  *(_DWORD *)(v1 + 56) = v13;
  if ( v14 > v12 )
    *(_DWORD *)(v1 + 68) = v14;
  *(_DWORD *)(v1 + 64) = v15;
  return result;
}

//----- (0002005A) --------------------------------------------------------
int *__fastcall sub_2005A(int a1)
{
  int v1; // r4@1
  int v2; // r5@2
  int v3; // r3@2
  int v4; // r6@3
  unsigned int v5; // r0@4
  void *v6; // r7@6
  void *v7; // r0@6
  int v8; // r2@10
  int v9; // r7@10
  int v10; // r0@10
  int *result; // r0@13
  int v12; // r2@13
  int v13; // r5@13
  int v14; // r6@13
  int v15; // r7@13

  v1 = a1;
  if ( !*(_DWORD *)(a1 + 56) )
  {
    v2 = operator new(0x3F4u);
    memset((void *)v2, 0, 0x3F4u);
    v3 = *(_DWORD *)(v1 + 52) + 1;
    if ( v3 > *(_DWORD *)(v1 + 48) )
    {
      v4 = 2 * v3;
      if ( (unsigned int)(2 * v3) > 0x1FC00000 )
        v5 = -1;
      else
        v5 = 8 * v3;
      v6 = (void *)operator new[](v5);
      memcpy(v6, *(const void **)(v1 + 4), 4 * *(_DWORD *)(v1 + 52));
      v7 = *(void **)(v1 + 4);
      if ( v7 != (void *)(v1 + 8) && v7 )
        operator delete[](v7);
      *(_DWORD *)(v1 + 4) = v6;
      *(_DWORD *)(v1 + 48) = v4;
    }
    v8 = *(_DWORD *)(v1 + 52);
    v9 = v2 + 44;
    v10 = *(_DWORD *)(v1 + 4);
    *(_DWORD *)(v1 + 52) = v8 + 1;
    *(_DWORD *)(v10 + 4 * v8) = v2;
    do
    {
      *(_DWORD *)(v9 - 44) = v9;
      v9 += 44;
    }
    while ( v9 != v2 + 1012 );
    *(_DWORD *)(v2 + 968) = 0;
    *(_DWORD *)(v1 + 56) = v2;
  }
  result = *(int **)(v1 + 56);
  v12 = *(_DWORD *)(v1 + 68);
  v13 = *result;
  v14 = *(_DWORD *)(v1 + 60) + 1;
  v15 = *(_DWORD *)(v1 + 64) + 1;
  *(_DWORD *)(v1 + 60) = v14;
  *(_DWORD *)(v1 + 56) = v13;
  if ( v14 > v12 )
    *(_DWORD *)(v1 + 68) = v14;
  *(_DWORD *)(v1 + 64) = v15;
  return result;
}

//----- (000200FA) --------------------------------------------------------
int *__fastcall sub_200FA(int a1)
{
  int v1; // r4@1
  int v2; // r5@2
  int v3; // r3@2
  int v4; // r6@3
  unsigned int v5; // r0@4
  void *v6; // r7@6
  void *v7; // r0@6
  int v8; // r2@10
  int v9; // r7@10
  int v10; // r0@10
  int *result; // r0@13
  int v12; // r2@13
  int v13; // r5@13
  int v14; // r6@13
  int v15; // r7@13

  v1 = a1;
  if ( !*(_DWORD *)(a1 + 56) )
  {
    v2 = operator new(0x3F0u);
    memset((void *)v2, 0, 0x3F0u);
    v3 = *(_DWORD *)(v1 + 52) + 1;
    if ( v3 > *(_DWORD *)(v1 + 48) )
    {
      v4 = 2 * v3;
      if ( (unsigned int)(2 * v3) > 0x1FC00000 )
        v5 = -1;
      else
        v5 = 8 * v3;
      v6 = (void *)operator new[](v5);
      memcpy(v6, *(const void **)(v1 + 4), 4 * *(_DWORD *)(v1 + 52));
      v7 = *(void **)(v1 + 4);
      if ( v7 != (void *)(v1 + 8) && v7 )
        operator delete[](v7);
      *(_DWORD *)(v1 + 4) = v6;
      *(_DWORD *)(v1 + 48) = v4;
    }
    v8 = *(_DWORD *)(v1 + 52);
    v9 = v2 + 48;
    v10 = *(_DWORD *)(v1 + 4);
    *(_DWORD *)(v1 + 52) = v8 + 1;
    *(_DWORD *)(v10 + 4 * v8) = v2;
    do
    {
      *(_DWORD *)(v9 - 48) = v9;
      v9 += 48;
    }
    while ( v9 != v2 + 1008 );
    *(_DWORD *)(v2 + 960) = 0;
    *(_DWORD *)(v1 + 56) = v2;
  }
  result = *(int **)(v1 + 56);
  v12 = *(_DWORD *)(v1 + 68);
  v13 = *result;
  v14 = *(_DWORD *)(v1 + 60) + 1;
  v15 = *(_DWORD *)(v1 + 64) + 1;
  *(_DWORD *)(v1 + 60) = v14;
  *(_DWORD *)(v1 + 56) = v13;
  if ( v14 > v12 )
    *(_DWORD *)(v1 + 68) = v14;
  *(_DWORD *)(v1 + 64) = v15;
  return result;
}

//----- (0002019C) --------------------------------------------------------
int __fastcall sub_2019C(int a1)
{
  int v1; // r4@1
  int v2; // r1@1
  void *v3; // r0@1
  void *v4; // r0@4

  v1 = a1;
  v2 = a1 + 208;
  *(_DWORD *)a1 = &off_2E208;
  v3 = *(void **)(a1 + 204);
  if ( v3 != (void *)v2 && v3 )
    operator delete[](v3);
  v4 = *(void **)(v1 + 152);
  if ( v4 != (void *)(v1 + 156) && v4 )
    operator delete[](v4);
  return v1;
}
// 2E208: using guessed type void *;

//----- (000201D8) --------------------------------------------------------
void *__fastcall sub_201D8(int a1)
{
  void *v1; // r4@1

  v1 = (void *)a1;
  sub_2019C(a1);
  operator delete(v1);
  return v1;
}

//----- (000201EC) --------------------------------------------------------
_DWORD *__fastcall sub_201EC(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  int v3; // r0@2
  bool v4; // nf@2
  unsigned __int8 v5; // vf@2
  _DWORD *v6; // r0@2
  void *v7; // r0@4

  v1 = a1;
  v2 = 0;
  *a1 = &off_2DBB0;
  while ( 1 )
  {
    v3 = v1[13];
    v5 = __OFSUB__(v2, v3);
    v4 = v2 - v3 < 0;
    v6 = (_DWORD *)v1[1];
    if ( !(v4 ^ v5) )
      break;
    v7 = (void *)v6[v2++];
    operator delete(v7);
  }
  if ( v6 != v1 + 2 && v6 )
    operator delete[](v6);
  return v1;
}
// 2DBB0: using guessed type void *;

//----- (00020228) --------------------------------------------------------
void *__fastcall sub_20228(_DWORD *a1)
{
  void *v1; // r4@1

  v1 = a1;
  sub_201EC(a1);
  operator delete(v1);
  return v1;
}

//----- (0002023C) --------------------------------------------------------
_DWORD *__fastcall sub_2023C(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  int v3; // r0@2
  bool v4; // nf@2
  unsigned __int8 v5; // vf@2
  _DWORD *v6; // r0@2
  void *v7; // r0@4

  v1 = a1;
  v2 = 0;
  *a1 = &off_2DB90;
  while ( 1 )
  {
    v3 = v1[13];
    v5 = __OFSUB__(v2, v3);
    v4 = v2 - v3 < 0;
    v6 = (_DWORD *)v1[1];
    if ( !(v4 ^ v5) )
      break;
    v7 = (void *)v6[v2++];
    operator delete(v7);
  }
  if ( v6 != v1 + 2 && v6 )
    operator delete[](v6);
  return v1;
}
// 2DB90: using guessed type void *;

//----- (00020278) --------------------------------------------------------
void *__fastcall sub_20278(_DWORD *a1)
{
  void *v1; // r4@1

  v1 = a1;
  sub_2023C(a1);
  operator delete(v1);
  return v1;
}

//----- (0002028C) --------------------------------------------------------
_DWORD *__fastcall sub_2028C(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  int v3; // r0@2
  bool v4; // nf@2
  unsigned __int8 v5; // vf@2
  _DWORD *v6; // r0@2
  void *v7; // r0@4

  v1 = a1;
  v2 = 0;
  *a1 = &off_2DBD0;
  while ( 1 )
  {
    v3 = v1[13];
    v5 = __OFSUB__(v2, v3);
    v4 = v2 - v3 < 0;
    v6 = (_DWORD *)v1[1];
    if ( !(v4 ^ v5) )
      break;
    v7 = (void *)v6[v2++];
    operator delete(v7);
  }
  if ( v6 != v1 + 2 && v6 )
    operator delete[](v6);
  return v1;
}
// 2DBD0: using guessed type void *;

//----- (000202C8) --------------------------------------------------------
void *__fastcall sub_202C8(_DWORD *a1)
{
  void *v1; // r4@1

  v1 = a1;
  sub_2028C(a1);
  operator delete(v1);
  return v1;
}

//----- (000202DC) --------------------------------------------------------
_DWORD *__fastcall sub_202DC(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  int v3; // r0@2
  bool v4; // nf@2
  unsigned __int8 v5; // vf@2
  _DWORD *v6; // r0@2
  void *v7; // r0@4

  v1 = a1;
  v2 = 0;
  *a1 = &off_2DB70;
  while ( 1 )
  {
    v3 = v1[13];
    v5 = __OFSUB__(v2, v3);
    v4 = v2 - v3 < 0;
    v6 = (_DWORD *)v1[1];
    if ( !(v4 ^ v5) )
      break;
    v7 = (void *)v6[v2++];
    operator delete(v7);
  }
  if ( v6 != v1 + 2 && v6 )
    operator delete[](v6);
  return v1;
}
// 2DB70: using guessed type void *;

//----- (00020318) --------------------------------------------------------
void *__fastcall sub_20318(_DWORD *a1)
{
  void *v1; // r4@1

  v1 = a1;
  sub_202DC(a1);
  operator delete(v1);
  return v1;
}

//----- (0002032A) --------------------------------------------------------
_BYTE *__fastcall sub_2032A(_BYTE *a1)
{
  _BYTE *v1; // r4@1
  _BYTE *v2; // r5@2
  int v3; // r0@2
  int v4; // t1@2

  v1 = a1;
  do
  {
    v2 = v1;
    v4 = *v1++;
    v3 = v4;
  }
  while ( !(v4 & 0x80) && isspace(v3) );
  return v2;
}

//----- (00020344) --------------------------------------------------------
unsigned int __fastcall sub_20344(_BYTE *a1, _BYTE *a2, int a3)
{
  int i; // r3@2
  _BYTE *v4; // r6@3
  int v5; // r5@4
  int v6; // t1@4

  if ( a1 != a2 )
  {
    for ( i = 0; ; ++i )
    {
      v4 = a2;
      if ( !a1[i] )
        break;
      v6 = *a2++;
      v5 = v6;
      if ( !v6 || a1[i] != v5 || i >= a3 )
      {
        if ( i == a3 )
          return 1;
        if ( !a1[i] )
          return __clz(*v4) >> 5;
        return 0;
      }
    }
    if ( i != a3 )
      return __clz(*v4) >> 5;
  }
  return 1;
}

//----- (00020382) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::Reset(tinyxml2::StrPair *this)
{
  tinyxml2::StrPair *v1; // r4@1
  void *v2; // r0@2
  int result; // r0@4

  v1 = this;
  if ( *(_DWORD *)this & 0x200 )
  {
    v2 = (void *)*((_DWORD *)this + 1);
    if ( v2 )
      operator delete[](v2);
  }
  result = 0;
  *(_DWORD *)v1 = 0;
  *((_DWORD *)v1 + 1) = 0;
  *((_DWORD *)v1 + 2) = 0;
  return result;
}

//----- (0002039E) --------------------------------------------------------
tinyxml2::StrPair *__fastcall tinyxml2::StrPair::~StrPair(tinyxml2::StrPair *this)
{
  tinyxml2::StrPair *v1; // r4@1

  v1 = this;
  tinyxml2::StrPair::Reset(this);
  return v1;
}

//----- (000203AC) --------------------------------------------------------
int __fastcall sub_203AC(int a1)
{
  int v1; // r4@1

  v1 = a1;
  *(_DWORD *)a1 = &off_2DB60;
  tinyxml2::StrPair::~StrPair((tinyxml2::StrPair *)(a1 + 16));
  tinyxml2::StrPair::~StrPair((tinyxml2::StrPair *)(v1 + 4));
  return v1;
}
// 2DB60: using guessed type void *off_2DB60;

//----- (000203D0) --------------------------------------------------------
void *__fastcall sub_203D0(int a1)
{
  void *v1; // r4@1

  v1 = (void *)a1;
  sub_203AC(a1);
  operator delete(v1);
  return v1;
}

//----- (000203E2) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::SetStr(tinyxml2::StrPair *this, const char *a2, int a3)
{
  const char *v3; // r8@1
  tinyxml2::StrPair *v4; // r4@1
  int v5; // r6@1
  size_t v6; // r0@1
  size_t v7; // r7@1
  size_t v8; // r5@1
  void *v9; // r0@1
  int v10; // r3@1
  int result; // r0@1

  v3 = a2;
  v4 = this;
  v5 = a3;
  tinyxml2::StrPair::Reset(this);
  v6 = strlen(v3);
  v7 = v6 + 1;
  v8 = v6;
  v9 = (void *)operator new[](v6 + 1);
  *((_DWORD *)v4 + 1) = v9;
  memcpy(v9, v3, v7);
  v10 = *((_DWORD *)v4 + 1);
  result = v5 | 0x200;
  *(_DWORD *)v4 = v5 | 0x200;
  *((_DWORD *)v4 + 2) = v8 + v10;
  return result;
}

//----- (0002041C) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::ParseText(tinyxml2::StrPair *this, char *a2, const char *a3, int a4)
{
  int v4; // r9@0
  tinyxml2::StrPair *v5; // r5@1
  char *v6; // r11@1
  const char *v7; // r6@1
  char *v8; // r7@4
  size_t v9; // r10@4
  const char *v10; // r8@5
  int v11; // r4@5
  int v12; // t1@5
  int result; // r0@8
  int v14; // [sp+Ch] [bp-2Ch]@1

  v5 = this;
  v6 = a2;
  v14 = a4;
  v7 = a3;
  if ( !a3 || (v4 = *a3) == 0 )
    _android_log_assert("assert", "grinliz", "ASSERT in '%s' at %d.", "external/tinyxml2/tinyxml2.cpp");
  v8 = v6;
  v9 = strlen(a3);
  while ( 1 )
  {
    v10 = v8;
    v12 = (unsigned __int8)*v8++;
    v11 = v12;
    if ( !v12 )
      break;
    if ( v11 == v4 && !strncmp(v10, v7, v9) )
    {
      tinyxml2::StrPair::Reset(v5);
      *((_DWORD *)v5 + 1) = v6;
      result = (int)&v10[v9];
      *((_DWORD *)v5 + 2) = v10;
      *(_DWORD *)v5 = v14 | 0x100;
      return result;
    }
  }
  return v11;
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (000204A8) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::ParseName(tinyxml2::StrPair *this, char *a2)
{
  tinyxml2::StrPair *v2; // r7@1
  char *v3; // r5@1
  int result; // r0@2
  char *v5; // r8@5
  char *v6; // r4@6
  int v7; // r6@6
  int v8; // t1@6

  v2 = this;
  v3 = a2;
  if ( a2 )
  {
    result = (unsigned __int8)*a2;
    if ( *a2 )
    {
      if ( result & 0x80 || (result = isalpha(result)) != 0 )
      {
        v5 = v3;
        do
        {
          v6 = v5;
          v8 = (unsigned __int8)*v5++;
          v7 = v8;
        }
        while ( v8 && (v7 & 0x80 || isalnum(v7) || v7 == 95 || (unsigned int)(v7 - 45) <= 1 || v7 == 58) );
        if ( v6 > v3 )
        {
          tinyxml2::StrPair::Reset(v2);
          *((_DWORD *)v2 + 1) = v3;
          *((_DWORD *)v2 + 2) = v6;
          *(_DWORD *)v2 = 256;
          result = (int)v6;
        }
        else
        {
          result = 0;
        }
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00020510) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ReadBOM(int result, const char *a2, bool *a3)
{
  *a2 = 0;
  if ( *(_BYTE *)result == 239 && *(_BYTE *)(result + 1) == 187 && *(_BYTE *)(result + 2) == 191 )
  {
    result += 3;
    *a2 = 1;
  }
  return result;
}

//----- (00020530) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLUtil::ConvertUTF32ToUTF8(tinyxml2::XMLUtil *this, unsigned __int32 a2, char *a3, int *a4)
{
  unsigned int v4; // r4@1
  char *v5; // r7@1
  bool v6; // cf@1
  bool v7; // zf@1
  unsigned int result; // r0@1
  unsigned __int32 v9; // r1@9
  char v10; // r6@11
  char v11; // r3@12
  char v12; // r2@13
  int v13; // [sp+4h] [bp-34h]@1
  int v14; // [sp+8h] [bp-30h]@1
  signed int v15; // [sp+Ch] [bp-2Ch]@1
  signed int v16; // [sp+10h] [bp-28h]@1
  signed int v17; // [sp+14h] [bp-24h]@1
  signed int v18; // [sp+18h] [bp-20h]@1
  signed int v19; // [sp+1Ch] [bp-1Ch]@1
  char v20; // [sp+20h] [bp-18h]@14

  v4 = (unsigned int)this;
  v5 = a3;
  v6 = (unsigned int)this >= 0x7F;
  v7 = this == (tinyxml2::XMLUtil *)127;
  v13 = 0;
  v14 = 0;
  v15 = 192;
  v16 = 224;
  result = 240;
  v17 = 240;
  v18 = 248;
  v19 = 252;
  if ( !v7 && v6 )
  {
    if ( v4 >= 0x800 )
    {
      if ( v4 >= 0x10000 )
      {
        if ( v4 >= 0x200000 )
        {
          *(_DWORD *)a3 = 0;
          return result;
        }
        result = 4;
      }
      else
      {
        result = 3;
      }
    }
    else
    {
      result = 2;
    }
  }
  else
  {
    result = 1;
  }
  *(_DWORD *)a3 = result;
  v9 = a2 + *(_DWORD *)a3;
  switch ( *(_DWORD *)a3 )
  {
    case 4:
      v10 = v4 & 0x3F;
      v4 >>= 6;
      *(_BYTE *)--v9 = v10 | 0x80;
      goto LABEL_12;
    case 3:
LABEL_12:
      v11 = v4 & 0x3F;
      v4 >>= 6;
      result = *(_DWORD *)&v11 | 0xFFFFFF80;
      *(_BYTE *)--v9 = v11 | 0x80;
      goto LABEL_13;
    case 2:
LABEL_13:
      v12 = v4 & 0x3F;
      v4 >>= 6;
      *(_BYTE *)--v9 = v12 | 0x80;
      goto LABEL_14;
    case 1:
LABEL_14:
      *(_BYTE *)(v9 - 1) = v4 | *(&v20 + 4 * *(_DWORD *)v5 - 28);
      break;
    default:
      return result;
  }
  return result;
}

//----- (000205D4) --------------------------------------------------------
char *__fastcall tinyxml2::XMLUtil::GetCharacterRef(tinyxml2::XMLUtil *this, const char *a2, char *a3, int *a4)
{
  tinyxml2::XMLUtil *v4; // r8@1
  const char *v5; // r7@1
  char *v6; // r6@1
  int v7; // r0@2
  int v8; // r1@4
  char *result; // r0@5
  int v10; // r4@7
  signed int v11; // r1@7
  tinyxml2::XMLUtil *v12; // r3@7
  int v13; // r2@8
  int v14; // t1@8
  int v15; // lr@12
  char *v16; // r12@19
  signed int i; // r1@19
  int v18; // r2@20
  int v19; // t1@20
  unsigned int v20; // r2@21

  v4 = this;
  v5 = a2;
  *(_DWORD *)a3 = 0;
  v6 = a3;
  if ( *((_BYTE *)this + 1) != 35 )
    return (char *)v4 + 1;
  v7 = *((_BYTE *)this + 2);
  if ( !v7 )
    return (char *)v4 + 1;
  if ( v7 == 120 )
  {
    v8 = *((_BYTE *)v4 + 3);
    if ( *((_BYTE *)v4 + 3) )
    {
      result = strchr((const char *)v4 + 3, 59);
      if ( !result )
        return result;
      v8 = (unsigned __int8)*result;
      if ( *result )
      {
        v10 = result - (char *)v4;
        v11 = 1;
        v12 = 0;
        while ( 1 )
        {
          v14 = (unsigned __int8)*(result-- - 1);
          v13 = v14;
          if ( v14 == 120 )
            break;
          if ( (unsigned int)(v13 - 48) > 9 )
          {
            if ( (unsigned int)(v13 - 97) > 5 )
            {
              if ( (unsigned int)(v13 - 65) > 5 )
                return 0;
              v15 = v13 - 55;
            }
            else
            {
              v15 = v13 - 87;
            }
            v12 = (tinyxml2::XMLUtil *)((char *)v12 + v15 * v11);
          }
          else
          {
            v12 = (tinyxml2::XMLUtil *)((char *)v12 + (v13 - 48) * v11);
          }
          v11 *= 16;
        }
LABEL_24:
        tinyxml2::XMLUtil::ConvertUTF32ToUTF8(v12, (unsigned __int32)v5, v6, (int *)v12);
        return (char *)v4 + v10 + 1;
      }
    }
    return (char *)v8;
  }
  result = strchr((const char *)v4 + 2, 59);
  if ( !result )
    return result;
  v8 = (unsigned __int8)*result;
  if ( !*result )
    return (char *)v8;
  v12 = 0;
  v16 = result;
  for ( i = 1; ; i *= 10 )
  {
    v19 = (unsigned __int8)*(v16-- - 1);
    v18 = v19;
    if ( v19 == 35 )
    {
      v10 = result - (char *)v4;
      goto LABEL_24;
    }
    v20 = v18 - 48;
    if ( v20 > 9 )
      break;
    v12 = (tinyxml2::XMLUtil *)((char *)v12 + v20 * i);
  }
  return 0;
}

//----- (000206B4) --------------------------------------------------------
int __fastcall tinyxml2::StrPair::GetStr(tinyxml2::StrPair *this)
{
  tinyxml2::StrPair *v1; // r6@1
  int v2; // r0@1
  int v3; // r5@2
  char *v4; // r4@3
  char *v5; // r5@3
  int v6; // r3@5
  bool v7; // zf@7
  int *v8; // r3@17
  char *v9; // r3@17
  int v10; // r2@17
  char v11; // lr@19
  int v12; // r10@22
  signed int v13; // r12@22
  signed int v14; // ST0C_4@23
  char *v15; // r8@23
  int v16; // r0@23
  int result; // r0@31
  char **v18; // [sp+8h] [bp-48h]@23
  char v19[4]; // [sp+14h] [bp-3Ch]@17
  char s[12]; // [sp+18h] [bp-38h]@17
  int v21; // [sp+24h] [bp-2Ch]@1

  v1 = this;
  v2 = *(_DWORD *)this;
  v21 = _stack_chk_guard;
  if ( !(v2 & 0x100) )
    goto LABEL_31;
  **((_BYTE **)v1 + 2) = 0;
  v3 = *(_DWORD *)v1 ^ 0x100;
  *(_DWORD *)v1 = v3;
  if ( !v3 )
    goto LABEL_30;
  v4 = (char *)*((_DWORD *)v1 + 1);
  v5 = (char *)*((_DWORD *)v1 + 1);
LABEL_4:
  while ( (unsigned int)v4 < *((_DWORD *)v1 + 2) )
  {
    v6 = (unsigned __int8)*v4;
    if ( !(*(_DWORD *)v1 & 2) )
      goto LABEL_35;
    if ( v6 == 13 )
    {
      v7 = v4[1] == 10;
      goto LABEL_10;
    }
    if ( v6 == 10 )
    {
      v7 = v4[1] == 13;
LABEL_10:
      if ( v7 )
        v4 += 2;
      else
        ++v4;
      *(++v5 - 1) = 10;
    }
    else
    {
LABEL_35:
      if ( *(_DWORD *)v1 & 1 && v6 == 38 )
      {
        if ( v4[1] == 35 )
        {
          memset(s, 0, 0xAu);
          v4 = tinyxml2::XMLUtil::GetCharacterRef((tinyxml2::XMLUtil *)v4, s, v19, v8);
          v9 = v5;
          v10 = 0;
          while ( 1 )
          {
            v5 = v9;
            if ( v10 >= *(_DWORD *)v19 )
              break;
            v11 = s[v10++];
            *v9++ = v11;
          }
          if ( v9 > v4 )
          {
            v1 = (tinyxml2::StrPair *)205;
            _android_log_assert("assert", "grinliz", "ASSERT in '%s' at %d.", "external/tinyxml2/tinyxml2.cpp");
            goto LABEL_22;
          }
        }
        else
        {
LABEL_22:
          v12 = 0;
          v13 = 12;
          do
          {
            v14 = v13;
            v15 = *(char **)&off_2DBE8[v13 * v12 + 4];
            v18 = (char **)&off_2DBE8[v13 * v12];
            v16 = strncmp(v4 + 1, *(const char **)&off_2DBE8[v13 * v12], *(_DWORD *)&off_2DBE8[v13 * v12 + 4]);
            v13 = v14;
            if ( !v16 && v15[(_DWORD)v4 + 1] == 59 )
            {
              v4 = &v15[(_DWORD)v4 + 2];
              *v5++ = *((_BYTE *)v18 + 8);
              goto LABEL_4;
            }
            ++v12;
          }
          while ( v12 != 5 );
          ++v5;
          ++v4;
        }
      }
      else
      {
        *v5++ = v6;
        ++v4;
      }
    }
  }
  *v5 = 0;
LABEL_30:
  *(_DWORD *)v1 &= 0x200u;
LABEL_31:
  result = *((_DWORD *)v1 + 1);
  if ( v21 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);
// 206B4: using guessed type char s[12];

//----- (00020814) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLText::ShallowEqual(tinyxml2::XMLText *this, const tinyxml2::XMLNode *a2)
{
  const tinyxml2::XMLNode *v2; // r4@1
  tinyxml2::XMLText *v3; // r5@1
  unsigned int result; // r0@1
  int v5; // r0@2
  _BYTE *v6; // r4@2
  _BYTE *v7; // r1@2

  v2 = a2;
  v3 = this;
  result = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)a2 + 28))(a2);
  if ( result )
  {
    v5 = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)v2 + 28))(v2);
    v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v5 + 12));
    v7 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::XMLText *)((char *)v3 + 12));
    result = sub_20344(v6, v7, 0x7FFFFFFF);
  }
  return result;
}

//----- (0002084E) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLComment::ShallowEqual(tinyxml2::XMLComment *this, const tinyxml2::XMLNode *a2)
{
  const tinyxml2::XMLNode *v2; // r4@1
  tinyxml2::XMLComment *v3; // r5@1
  unsigned int result; // r0@1
  int v5; // r0@2
  _BYTE *v6; // r4@2
  _BYTE *v7; // r1@2

  v2 = a2;
  v3 = this;
  result = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)a2 + 32))(a2);
  if ( result )
  {
    v5 = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)v2 + 32))(v2);
    v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v5 + 12));
    v7 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::XMLComment *)((char *)v3 + 12));
    result = sub_20344(v6, v7, 0x7FFFFFFF);
  }
  return result;
}

//----- (00020888) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLDeclaration::ShallowEqual(tinyxml2::XMLDeclaration *this, const tinyxml2::XMLNode *a2)
{
  const tinyxml2::XMLNode *v2; // r4@1
  tinyxml2::XMLDeclaration *v3; // r5@1
  unsigned int result; // r0@1
  int v5; // r0@2
  _BYTE *v6; // r4@2
  _BYTE *v7; // r1@2

  v2 = a2;
  v3 = this;
  result = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)a2 + 40))(a2);
  if ( result )
  {
    v5 = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)v2 + 40))(v2);
    v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v5 + 12));
    v7 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::XMLDeclaration *)((char *)v3 + 12));
    result = sub_20344(v6, v7, 0x7FFFFFFF);
  }
  return result;
}

//----- (000208C2) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLUnknown::ShallowEqual(tinyxml2::XMLUnknown *this, const tinyxml2::XMLNode *a2)
{
  const tinyxml2::XMLNode *v2; // r4@1
  tinyxml2::XMLUnknown *v3; // r5@1
  unsigned int result; // r0@1
  int v5; // r0@2
  _BYTE *v6; // r4@2
  _BYTE *v7; // r1@2

  v2 = a2;
  v3 = this;
  result = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)a2 + 44))(a2);
  if ( result )
  {
    v5 = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)v2 + 44))(v2);
    v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v5 + 12));
    v7 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::XMLUnknown *)((char *)v3 + 12));
    result = sub_20344(v6, v7, 0x7FFFFFFF);
  }
  return result;
}

//----- (000208FC) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLElement::ShallowEqual(tinyxml2::XMLElement *this, const tinyxml2::XMLNode *a2)
{
  tinyxml2::XMLElement *v2; // r5@1
  int v3; // r0@1
  int v4; // r4@1
  _BYTE *v5; // r6@2
  _BYTE *v6; // r0@2
  _BYTE *v7; // r6@4
  _BYTE *v8; // r0@4
  int v9; // r5@5
  unsigned int v10; // r4@5
  unsigned int result; // r0@8

  v2 = this;
  v3 = (*(int (__fastcall **)(const tinyxml2::XMLNode *))(*(_DWORD *)a2 + 24))(a2);
  v4 = v3;
  if ( v3
    && (v5 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v3 + 12)),
        v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::XMLElement *)((char *)v2 + 12)),
        sub_20344(v5, v6, 0x7FFFFFFF)) )
  {
    v9 = *((_DWORD *)v2 + 12);
    v10 = *(_DWORD *)(v4 + 48);
    while ( v9 )
    {
      if ( !v10 )
        goto LABEL_8;
      v7 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v9 + 16));
      v8 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v10 + 16));
      if ( !sub_20344(v7, v8, 0x7FFFFFFF) )
        goto LABEL_8;
      v9 = *(_DWORD *)(v9 + 28);
      v10 = *(_DWORD *)(v10 + 28);
    }
    result = __clz(v10) >> 5;
  }
  else
  {
LABEL_8:
    result = 0;
  }
  return result;
}

//----- (00020968) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, char *a3, int a4)
{
  return j_j_snprintf((char *)a2, (size_t)a3, "%d", this);
}

//----- (0002097C) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, unsigned int a2, char *a3, int a4)
{
  return j_j_snprintf((char *)a2, (size_t)a3, "%u", this);
}

//----- (00020990) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, float a2, char *a3, int a4)
{
  __asm
  {
    VMOV            S15, R0
    VCVT.F64.F32    D16, S15
    VSTR            D16, [SP,#0x10+var_10]
  }
  return snprintf((char *)LODWORD(a2), (size_t)a3, "%f", a4, this, a2, a3);
}

//----- (000209B4) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToStr(tinyxml2::XMLUtil *this, int a2, double a3, char *a4, int a5)
{
  return snprintf((char *)LODWORD(a3), HIDWORD(a3), "%f");
}

//----- (000209D0) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToInt(tinyxml2::XMLUtil *this, const char *a2, int *a3)
{
  int v3; // r0@1

  v3 = sscanf((const char *)this, "%d", a2);
  return v3 - 1 + ((unsigned int)(v3 - 1) <= 0) - (v3 - 1);
}

//----- (000209E8) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToUnsigned(tinyxml2::XMLUtil *this, const char *a2, unsigned int *a3)
{
  int v3; // r0@1

  v3 = sscanf((const char *)this, "%u", a2);
  return v3 - 1 + ((unsigned int)(v3 - 1) <= 0) - (v3 - 1);
}

//----- (00020A00) --------------------------------------------------------
unsigned int __fastcall tinyxml2::XMLUtil::ToBool(tinyxml2::XMLUtil *this, const char *a2, bool *a3)
{
  const char *v3; // r4@1
  tinyxml2::XMLUtil *v4; // r5@1
  unsigned int result; // r0@1
  char v6; // r1@2
  char v7; // r6@5
  int v8; // [sp+4h] [bp-14h]@1

  v3 = a2;
  v4 = this;
  v8 = 0;
  result = tinyxml2::XMLUtil::ToInt(this, (const char *)&v8, (int *)a3);
  if ( result )
  {
    v6 = v8;
    if ( v8 )
      v6 = 1;
    goto LABEL_7;
  }
  result = sub_20344(v4, "true", 0x7FFFFFFF);
  v7 = result;
  if ( result )
  {
    v6 = 1;
LABEL_7:
    *v3 = v6;
    return result;
  }
  result = sub_20344(v4, "false", 0x7FFFFFFF);
  if ( result )
    *v3 = v7;
  return result;
}

//----- (00020A54) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToFloat(tinyxml2::XMLUtil *this, const char *a2, float *a3)
{
  int v3; // r0@1

  v3 = sscanf((const char *)this, "%f", a2);
  return v3 - 1 + ((unsigned int)(v3 - 1) <= 0) - (v3 - 1);
}

//----- (00020A6C) --------------------------------------------------------
int __fastcall tinyxml2::XMLUtil::ToDouble(tinyxml2::XMLUtil *this, const char *a2, double *a3)
{
  int v3; // r0@1

  v3 = sscanf((const char *)this, "%lf", a2);
  return v3 - 1 + ((unsigned int)(v3 - 1) <= 0) - (v3 - 1);
}

//----- (00020A84) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::XMLNode(int result, tinyxml2::XMLDocument *a2)
{
  *(_DWORD *)(result + 4) = a2;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  *(_DWORD *)result = &off_2E238;
  *(_DWORD *)(result + 28) = 0;
  *(_DWORD *)(result + 32) = 0;
  *(_DWORD *)(result + 36) = 0;
  return result;
}
// 2E238: using guessed type void *;

//----- (00020AA8) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::SetValue(tinyxml2::XMLNode *this, const char *a2, int a3)
{
  tinyxml2::XMLNode *v3; // r4@1
  const char *v4; // r5@1
  tinyxml2::StrPair *v5; // r0@1
  int result; // r0@2

  v3 = this;
  v4 = a2;
  v5 = (tinyxml2::XMLNode *)((char *)this + 12);
  if ( a3 )
  {
    result = tinyxml2::StrPair::Reset(v5);
    *((_DWORD *)v3 + 4) = v4;
  }
  else
  {
    result = j_j_j__ZN8tinyxml27StrPair6SetStrEPKci(v5, a2, 0);
  }
  return result;
}

//----- (00020AC4) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::Unlink(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2)
{
  int v2; // r3@1
  tinyxml2::XMLNode *v3; // r0@3
  int v4; // r3@7
  int result; // r0@9

  v2 = *((_DWORD *)a2 + 2);
  if ( (tinyxml2::XMLNode *)v2 != this )
    _android_log_assert("assert", "grinliz", "ASSERT in '%s' at %d.", "external/tinyxml2/tinyxml2.cpp");
  v3 = *(tinyxml2::XMLNode **)(v2 + 28);
  if ( a2 == *(tinyxml2::XMLNode **)(v2 + 24) )
    *(_DWORD *)(v2 + 24) = *((_DWORD *)a2 + 9);
  if ( a2 == v3 )
    *(_DWORD *)(v2 + 28) = *((_DWORD *)a2 + 8);
  v4 = *((_DWORD *)a2 + 8);
  if ( v4 )
    *(_DWORD *)(v4 + 36) = *((_DWORD *)a2 + 9);
  result = *((_DWORD *)a2 + 9);
  if ( result )
    *(_DWORD *)(result + 32) = *((_DWORD *)a2 + 8);
  *((_DWORD *)a2 + 2) = 0;
  return result;
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00020B24) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::DeleteChildren(int result)
{
  int v1; // r5@1
  int v2; // r4@2
  int v3; // r6@3

  v1 = result;
  while ( 1 )
  {
    v2 = *(_DWORD *)(v1 + 24);
    if ( !v2 )
      break;
    tinyxml2::XMLNode::Unlink((tinyxml2::XMLNode *)v1, *(tinyxml2::XMLNode **)(v1 + 24));
    v3 = *(_DWORD *)(v2 + 40);
    (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 64))(v2);
    result = (*(int (__fastcall **)(int, int))(*(_DWORD *)v3 + 16))(v3, v2);
  }
  *(_DWORD *)(v1 + 28) = 0;
  return result;
}

//----- (00020B50) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::~XMLNode(tinyxml2::XMLNode *this)
{
  tinyxml2::XMLNode *v1; // r4@1
  tinyxml2::XMLNode *v2; // r0@1

  v1 = this;
  *(_DWORD *)this = &off_2E238;
  tinyxml2::XMLNode::DeleteChildren(this);
  v2 = (tinyxml2::XMLNode *)*((_DWORD *)v1 + 2);
  if ( v2 )
    tinyxml2::XMLNode::Unlink(v2, v1);
  tinyxml2::StrPair::~StrPair((tinyxml2::XMLNode *)((char *)v1 + 12));
  return v1;
}
// 2E238: using guessed type void *off_2E238;

//----- (00020B7C) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::~XMLNode(tinyxml2::XMLNode *this)
{
  tinyxml2::XMLNode *v1; // r4@1

  v1 = this;
  tinyxml2::XMLNode::~XMLNode(this);
  operator delete((void *)v1);
  return v1;
}

//----- (00020B90) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall sub_20B90(tinyxml2::XMLNode *a1)
{
  tinyxml2::XMLNode *v1; // r4@1

  v1 = a1;
  *(_DWORD *)a1 = &off_2E328;
  tinyxml2::XMLNode::~XMLNode(a1);
  return v1;
}
// 2E328: using guessed type void *off_2E328;

//----- (00020BAC) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall sub_20BAC(tinyxml2::XMLNode *a1)
{
  tinyxml2::XMLNode *v1; // r4@1

  v1 = a1;
  sub_20B90(a1);
  operator delete((void *)v1);
  return v1;
}

//----- (00020BC0) --------------------------------------------------------
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::~XMLComment(tinyxml2::XMLComment *this)
{
  tinyxml2::XMLComment *v1; // r4@1

  v1 = this;
  *(_DWORD *)this = &off_2E288;
  tinyxml2::XMLNode::~XMLNode(this);
  return v1;
}
// 2E288: using guessed type void *off_2E288;

//----- (00020BDC) --------------------------------------------------------
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::~XMLComment(tinyxml2::XMLComment *this)
{
  tinyxml2::XMLComment *v1; // r4@1

  v1 = this;
  tinyxml2::XMLComment::~XMLComment(this);
  operator delete((void *)v1);
  return v1;
}

//----- (00020BF0) --------------------------------------------------------
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::~XMLDeclaration(tinyxml2::XMLDeclaration *this)
{
  tinyxml2::XMLDeclaration *v1; // r4@1

  v1 = this;
  *(_DWORD *)this = &off_2E3C8;
  tinyxml2::XMLNode::~XMLNode(this);
  return v1;
}
// 2E3C8: using guessed type void *off_2E3C8;

//----- (00020C0C) --------------------------------------------------------
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::~XMLDeclaration(tinyxml2::XMLDeclaration *this)
{
  tinyxml2::XMLDeclaration *v1; // r4@1

  v1 = this;
  tinyxml2::XMLDeclaration::~XMLDeclaration(this);
  operator delete((void *)v1);
  return v1;
}

//----- (00020C20) --------------------------------------------------------
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::~XMLUnknown(tinyxml2::XMLUnknown *this)
{
  tinyxml2::XMLUnknown *v1; // r4@1

  v1 = this;
  *(_DWORD *)this = &off_2E378;
  tinyxml2::XMLNode::~XMLNode(this);
  return v1;
}
// 2E378: using guessed type void *off_2E378;

//----- (00020C3C) --------------------------------------------------------
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::~XMLUnknown(tinyxml2::XMLUnknown *this)
{
  tinyxml2::XMLUnknown *v1; // r4@1

  v1 = this;
  tinyxml2::XMLUnknown::~XMLUnknown(this);
  operator delete((void *)v1);
  return v1;
}

//----- (00020C50) --------------------------------------------------------
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::~XMLElement(tinyxml2::XMLElement *this)
{
  tinyxml2::XMLElement *v1; // r4@1
  int v2; // r0@2
  int v3; // r5@3
  int v4; // r6@3

  v1 = this;
  *(_DWORD *)this = &off_2E2D8;
  while ( 1 )
  {
    v2 = *((_DWORD *)v1 + 12);
    if ( !v2 )
      break;
    v3 = *(_DWORD *)(v2 + 32);
    v4 = *(_DWORD *)(v2 + 28);
    (**(void (***)(void))v2)();
    (*(void (__fastcall **)(int, _DWORD))(*(_DWORD *)v3 + 16))(v3, *((_DWORD *)v1 + 12));
    *((_DWORD *)v1 + 12) = v4;
  }
  tinyxml2::XMLNode::~XMLNode(v1);
  return v1;
}
// 2E2D8: using guessed type void *off_2E2D8;

//----- (00020C88) --------------------------------------------------------
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::~XMLElement(tinyxml2::XMLElement *this)
{
  tinyxml2::XMLElement *v1; // r4@1

  v1 = this;
  tinyxml2::XMLElement::~XMLElement(this);
  operator delete((void *)v1);
  return v1;
}

//----- (00020C9C) --------------------------------------------------------
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::~XMLDocument(tinyxml2::XMLDocument *this)
{
  tinyxml2::XMLDocument *v1; // r4@1
  void *v2; // r0@1
  const char *v3; // r0@4
  const char *v4; // r1@4
  const char *v5; // r3@4
  const char *v6; // r2@4

  v1 = this;
  *(_DWORD *)this = &off_2E418;
  tinyxml2::XMLNode::DeleteChildren(this);
  v2 = (void *)*((_DWORD *)v1 + 15);
  if ( v2 )
    operator delete[](v2);
  if ( *((_DWORD *)v1 + 67) )
  {
    v3 = "assert";
    v4 = "grinliz";
    v5 = "external/tinyxml2/tinyxml2.cpp";
    v6 = "ASSERT in '%s' at %d.";
  }
  else
  {
    if ( !*((_DWORD *)v1 + 31) )
      goto LABEL_8;
    v3 = "assert";
    v6 = "ASSERT in '%s' at %d.";
    v5 = "external/tinyxml2/tinyxml2.cpp";
    v4 = "grinliz";
  }
  while ( 1 )
  {
    while ( 1 )
    {
      _android_log_assert(v3, v4, v6, v5);
LABEL_8:
      if ( !*((_DWORD *)v1 + 85) )
        break;
      v4 = "grinliz";
      v6 = "ASSERT in '%s' at %d.";
      v5 = "external/tinyxml2/tinyxml2.cpp";
      v3 = "assert";
    }
    if ( !*((_DWORD *)v1 + 49) )
      break;
    v1 = (tinyxml2::XMLDocument *)1447;
    v3 = "assert";
    v4 = "grinliz";
    v6 = "ASSERT in '%s' at %d.";
    v5 = "external/tinyxml2/tinyxml2.cpp";
  }
  sub_2028C((_DWORD *)v1 + 70);
  sub_201EC((_DWORD *)v1 + 52);
  sub_2023C((_DWORD *)v1 + 34);
  sub_202DC((_DWORD *)v1 + 16);
  tinyxml2::XMLNode::~XMLNode(v1);
  return v1;
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);
// 2E418: using guessed type void *;

//----- (00020DA0) --------------------------------------------------------
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::~XMLDocument(tinyxml2::XMLDocument *this)
{
  tinyxml2::XMLDocument *v1; // r4@1

  v1 = this;
  tinyxml2::XMLDocument::~XMLDocument(this);
  operator delete((void *)v1);
  return v1;
}

//----- (00020DB4) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::DeleteChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2)
{
  tinyxml2::XMLNode *v2; // r4@1
  int v3; // r5@3

  v2 = a2;
  if ( *((tinyxml2::XMLNode **)a2 + 2) != this )
  {
    v2 = (tinyxml2::XMLNode *)602;
    _android_log_assert("assert", "grinliz", "ASSERT in '%s' at %d.", "external/tinyxml2/tinyxml2.cpp");
  }
  v3 = *((_DWORD *)a2 + 10);
  (*(void (__fastcall **)(tinyxml2::XMLNode *))(*(_DWORD *)a2 + 64))(v2);
  return (*(int (__fastcall **)(int, tinyxml2::XMLNode *))(*(_DWORD *)v3 + 16))(v3, v2);
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00020E04) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::InsertEndChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2)
{
  int v2; // r2@1
  int v3; // r3@1
  const char *v4; // r0@3
  const char *v5; // r1@3
  const char *v6; // r2@3
  const char *v7; // r3@3
  tinyxml2::XMLNode *result; // r0@11

  v2 = *((_DWORD *)this + 7);
  v3 = *((_DWORD *)this + 6);
  if ( !v2 )
  {
    if ( !v3 )
    {
      *((_DWORD *)this + 7) = a2;
      *((_DWORD *)this + 6) = a2;
      *((_DWORD *)a2 + 8) = 0;
      goto LABEL_11;
    }
    v5 = "grinliz";
    v6 = "ASSERT in '%s' at %d.";
    v7 = "external/tinyxml2/tinyxml2.cpp";
    v4 = "assert";
    goto LABEL_6;
  }
  if ( !v3 )
  {
    v4 = "assert";
    v5 = "grinliz";
    v6 = "ASSERT in '%s' at %d.";
    v7 = "external/tinyxml2/tinyxml2.cpp";
LABEL_6:
    this = (tinyxml2::XMLNode *)_android_log_assert(v4, v5, v6, v7);
    goto LABEL_7;
  }
  v3 = *(_DWORD *)(v2 + 36);
  if ( v3 )
  {
    v4 = "assert";
    v6 = "ASSERT in '%s' at %d.";
    v7 = "external/tinyxml2/tinyxml2.cpp";
    v5 = "grinliz";
    goto LABEL_6;
  }
LABEL_7:
  *(_DWORD *)(v2 + 36) = a2;
  *((_DWORD *)a2 + 8) = *((_DWORD *)this + 7);
  *((_DWORD *)this + 7) = a2;
LABEL_11:
  *((_DWORD *)a2 + 2) = this;
  result = a2;
  *((_DWORD *)a2 + 9) = v3;
  return result;
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00020EAC) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::InsertFirstChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2)
{
  int v2; // r2@1
  int v3; // r3@1
  const char *v4; // r1@3
  const char *v5; // r2@3
  const char *v6; // r3@3
  const char *v7; // r0@3
  int v8; // r3@4

  v2 = *((_DWORD *)this + 6);
  v3 = *((_DWORD *)this + 7);
  if ( !v2 )
  {
    if ( !v3 )
    {
      *((_DWORD *)this + 7) = a2;
      *((_DWORD *)this + 6) = a2;
      *((_DWORD *)a2 + 8) = 0;
      *((_DWORD *)a2 + 9) = 0;
      goto LABEL_11;
    }
    v4 = "grinliz";
    v5 = "ASSERT in '%s' at %d.";
    v6 = "external/tinyxml2/tinyxml2.cpp";
    v7 = "assert";
    goto LABEL_6;
  }
  if ( !v3 )
  {
    v4 = "grinliz";
    v5 = "ASSERT in '%s' at %d.";
    v6 = "external/tinyxml2/tinyxml2.cpp";
    v7 = "assert";
LABEL_6:
    this = (tinyxml2::XMLNode *)_android_log_assert(v7, v4, v5, v6);
    goto LABEL_7;
  }
  v8 = *(_DWORD *)(v2 + 32);
  if ( v8 )
  {
    v7 = "assert";
    v5 = "ASSERT in '%s' at %d.";
    v6 = "external/tinyxml2/tinyxml2.cpp";
    v4 = "grinliz";
    goto LABEL_6;
  }
LABEL_7:
  *(_DWORD *)(v2 + 32) = a2;
  *((_DWORD *)a2 + 9) = *((_DWORD *)this + 6);
  *((_DWORD *)this + 6) = a2;
  *((_DWORD *)a2 + 8) = v8;
LABEL_11:
  *((_DWORD *)a2 + 2) = this;
  return a2;
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00020F54) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall tinyxml2::XMLNode::InsertAfterChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2, tinyxml2::XMLNode *a3)
{
  tinyxml2::XMLNode *v3; // r3@1
  tinyxml2::XMLNode *result; // r0@4

  v3 = (tinyxml2::XMLNode *)*((_DWORD *)a2 + 2);
  if ( v3 != this )
    this = (tinyxml2::XMLNode *)_android_log_assert(
                                  "assert",
                                  "grinliz",
                                  "ASSERT in '%s' at %d.",
                                  "external/tinyxml2/tinyxml2.cpp");
  if ( *((_DWORD *)a2 + 9) )
  {
    *((_DWORD *)a3 + 8) = a2;
    *((_DWORD *)a3 + 9) = *((_DWORD *)a2 + 9);
    result = a3;
    *(_DWORD *)(*((_DWORD *)a2 + 9) + 32) = a3;
    *((_DWORD *)a2 + 9) = a3;
    *((_DWORD *)a3 + 2) = v3;
  }
  else
  {
    result = j_j_j__ZN8tinyxml27XMLNode14InsertEndChildEPS0_(this, a3);
  }
  return result;
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00020FAC) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::FirstChildElement(tinyxml2::XMLNode *this, const char *a2)
{
  const char *v2; // r6@1
  int i; // r5@1
  int v4; // r0@3
  int v5; // r4@3
  _BYTE *v6; // r0@5

  v2 = a2;
  for ( i = *((_DWORD *)this + 6); ; i = *(_DWORD *)(i + 36) )
  {
    if ( !i )
      return 0;
    v4 = (**(int (__fastcall ***)(_DWORD))i)(i);
    v5 = v4;
    if ( v4 )
    {
      if ( !v2 )
        break;
      v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v4 + 12));
      if ( sub_20344(v6, v2, 0x7FFFFFFF) )
        break;
    }
  }
  return v5;
}

//----- (00020FE0) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::LastChildElement(tinyxml2::XMLNode *this, const char *a2)
{
  const char *v2; // r6@1
  int i; // r5@1
  int v4; // r0@3
  int v5; // r4@3
  _BYTE *v6; // r0@5

  v2 = a2;
  for ( i = *((_DWORD *)this + 7); ; i = *(_DWORD *)(i + 32) )
  {
    if ( !i )
      return 0;
    v4 = (**(int (__fastcall ***)(_DWORD))i)(i);
    v5 = v4;
    if ( v4 )
    {
      if ( !v2 )
        break;
      v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v4 + 12));
      if ( sub_20344(v6, v2, 0x7FFFFFFF) )
        break;
    }
  }
  return v5;
}

//----- (00021014) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::NextSiblingElement(tinyxml2::XMLNode *this, const char *a2)
{
  const char *v2; // r5@1
  int i; // r4@1
  _BYTE *v4; // r0@5

  v2 = a2;
  for ( i = *((_DWORD *)this + 9); i; i = *(_DWORD *)(i + 36) )
  {
    if ( (**(int (__fastcall ***)(_DWORD))i)(i) )
    {
      if ( !v2 )
        return (**(int (__fastcall ***)(_DWORD))i)(i);
      v4 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(i + 12));
      if ( sub_20344(v2, v4, 0x7FFFFFFF) )
        return (**(int (__fastcall ***)(_DWORD))i)(i);
    }
  }
  return 0;
}

//----- (00021052) --------------------------------------------------------
int __fastcall tinyxml2::XMLNode::PreviousSiblingElement(tinyxml2::XMLNode *this, const char *a2)
{
  const char *v2; // r5@1
  int i; // r4@1
  _BYTE *v4; // r0@5

  v2 = a2;
  for ( i = *((_DWORD *)this + 8); i; i = *(_DWORD *)(i + 32) )
  {
    if ( (**(int (__fastcall ***)(_DWORD))i)(i) )
    {
      if ( !v2 )
        return (**(int (__fastcall ***)(_DWORD))i)(i);
      v4 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(i + 12));
      if ( sub_20344(v2, v4, 0x7FFFFFFF) )
        return (**(int (__fastcall ***)(_DWORD))i)(i);
    }
  }
  return 0;
}

//----- (00021090) --------------------------------------------------------
tinyxml2::XMLComment *__fastcall tinyxml2::XMLComment::XMLComment(tinyxml2::XMLComment *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLComment *v2; // r4@1
  tinyxml2::XMLComment *result; // r0@1

  v2 = this;
  tinyxml2::XMLNode::XMLNode(this, a2);
  result = v2;
  *(_DWORD *)v2 = &off_2E288;
  return result;
}
// 2E288: using guessed type void *;

//----- (000210AC) --------------------------------------------------------
tinyxml2::XMLDeclaration *__fastcall tinyxml2::XMLDeclaration::XMLDeclaration(tinyxml2::XMLDeclaration *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLDeclaration *v2; // r4@1
  tinyxml2::XMLDeclaration *result; // r0@1

  v2 = this;
  tinyxml2::XMLNode::XMLNode(this, a2);
  result = v2;
  *(_DWORD *)v2 = &off_2E3C8;
  return result;
}
// 2E3C8: using guessed type void *;

//----- (000210C8) --------------------------------------------------------
tinyxml2::XMLUnknown *__fastcall tinyxml2::XMLUnknown::XMLUnknown(tinyxml2::XMLUnknown *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLUnknown *v2; // r4@1
  tinyxml2::XMLUnknown *result; // r0@1

  v2 = this;
  tinyxml2::XMLNode::XMLNode(this, a2);
  result = v2;
  *(_DWORD *)v2 = &off_2E378;
  return result;
}
// 2E378: using guessed type void *;

//----- (000210E4) --------------------------------------------------------
_BYTE *__fastcall tinyxml2::XMLAttribute::ParseDeep(tinyxml2::XMLAttribute *this, char *a2, int a3)
{
  tinyxml2::XMLAttribute *v3; // r4@1
  int v4; // r5@1
  _BYTE *v5; // r0@1
  _BYTE *v6; // r1@1
  _BYTE *result; // r0@3
  _BYTE *v8; // r0@5
  int v9; // r2@5
  int v10; // r3@8
  char *v11; // [sp+4h] [bp-14h]@1
  int v12; // [sp+8h] [bp-10h]@1

  v11 = a2;
  v12 = a3;
  v3 = this;
  v4 = a3;
  v5 = (_BYTE *)tinyxml2::StrPair::ParseName((tinyxml2::XMLAttribute *)((char *)this + 4), a2);
  v6 = v5;
  if ( !v5 )
    goto LABEL_15;
  v6 = (_BYTE *)*v5;
  if ( !*v5 )
    goto LABEL_15;
  result = sub_2032A(v5);
  if ( !result )
    return result;
  if ( *result != 61 )
    return 0;
  v8 = sub_2032A(result + 1);
  v9 = *v8;
  v6 = 0;
  if ( v9 == 34 || v9 == 39 )
  {
    LOWORD(v11) = 0;
    LOWORD(v11) = *v8;
    if ( v4 )
      v10 = 3;
    else
      v10 = 2;
    result = (_BYTE *)tinyxml2::StrPair::ParseText(
                        (tinyxml2::XMLAttribute *)((char *)v3 + 16),
                        v8 + 1,
                        (const char *)&v11,
                        v10);
  }
  else
  {
LABEL_15:
    result = v6;
  }
  return result;
}

//----- (00021142) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetName(tinyxml2::XMLAttribute *this, const char *a2)
{
  return j_j_j__ZN8tinyxml27StrPair6SetStrEPKci((tinyxml2::XMLAttribute *)((char *)this + 4), a2, 0);
}

//----- (0002114A) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLAttribute::QueryIntValue(tinyxml2::XMLAttribute *this, int *a2)
{
  int *v2; // r4@1
  tinyxml2::XMLUtil *v3; // r0@1
  int *v4; // r2@1
  signed int result; // r0@2

  v2 = a2;
  v3 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::XMLAttribute *)((char *)this + 16));
  if ( tinyxml2::XMLUtil::ToInt(v3, (const char *)v2, v4) )
    result = 0;
  else
    result = 2;
  return result;
}

//----- (00021164) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLAttribute::QueryUnsignedValue(tinyxml2::XMLAttribute *this, unsigned int *a2)
{
  unsigned int *v2; // r4@1
  tinyxml2::XMLUtil *v3; // r0@1
  unsigned int *v4; // r2@1
  signed int result; // r0@2

  v2 = a2;
  v3 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::XMLAttribute *)((char *)this + 16));
  if ( tinyxml2::XMLUtil::ToUnsigned(v3, (const char *)v2, v4) )
    result = 0;
  else
    result = 2;
  return result;
}

//----- (0002117E) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLAttribute::QueryBoolValue(tinyxml2::XMLAttribute *this, bool *a2)
{
  bool *v2; // r4@1
  tinyxml2::XMLUtil *v3; // r0@1
  bool *v4; // r2@1
  signed int result; // r0@2

  v2 = a2;
  v3 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::XMLAttribute *)((char *)this + 16));
  if ( tinyxml2::XMLUtil::ToBool(v3, (const char *)v2, v4) )
    result = 0;
  else
    result = 2;
  return result;
}

//----- (00021198) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLAttribute::QueryFloatValue(tinyxml2::XMLAttribute *this, float *a2)
{
  float *v2; // r4@1
  tinyxml2::XMLUtil *v3; // r0@1
  float *v4; // r2@1
  signed int result; // r0@2

  v2 = a2;
  v3 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::XMLAttribute *)((char *)this + 16));
  if ( tinyxml2::XMLUtil::ToFloat(v3, (const char *)v2, v4) )
    result = 0;
  else
    result = 2;
  return result;
}

//----- (000211B2) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLAttribute::QueryDoubleValue(tinyxml2::XMLAttribute *this, double *a2)
{
  double *v2; // r4@1
  tinyxml2::XMLUtil *v3; // r0@1
  double *v4; // r2@1
  signed int result; // r0@2

  v2 = a2;
  v3 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::XMLAttribute *)((char *)this + 16));
  if ( tinyxml2::XMLUtil::ToDouble(v3, (const char *)v2, v4) )
    result = 0;
  else
    result = 2;
  return result;
}

//----- (000211CC) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, const char *a2)
{
  return j_j_j__ZN8tinyxml27StrPair6SetStrEPKci((tinyxml2::XMLAttribute *)((char *)this + 16), a2, 0);
}

//----- (000211D4) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2)
{
  tinyxml2::XMLAttribute *v2; // r6@1
  int result; // r0@1
  char v4; // [sp+4h] [bp-DCh]@1
  int v5; // [sp+CCh] [bp-14h]@1

  v2 = this;
  v5 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a2, (int)&v4, (char *)0xC8, _stack_chk_guard);
  tinyxml2::StrPair::SetStr((tinyxml2::XMLAttribute *)((char *)v2 + 16), &v4, 0);
  result = _stack_chk_guard;
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00021210) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, unsigned int a2)
{
  tinyxml2::XMLAttribute *v2; // r6@1
  int result; // r0@1
  char v4; // [sp+4h] [bp-DCh]@1
  int v5; // [sp+CCh] [bp-14h]@1

  v2 = this;
  v5 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a2, (unsigned int)&v4, (char *)0xC8, _stack_chk_guard);
  tinyxml2::StrPair::SetStr((tinyxml2::XMLAttribute *)((char *)v2 + 16), &v4, 0);
  result = _stack_chk_guard;
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (0002124C) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2)
{
  tinyxml2::XMLAttribute *v2; // r6@1
  int result; // r0@1
  char v4; // [sp+4h] [bp-DCh]@1
  int v5; // [sp+CCh] [bp-14h]@1

  v2 = this;
  v5 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a2, (int)&v4, (char *)0xC8, _stack_chk_guard);
  tinyxml2::StrPair::SetStr((tinyxml2::XMLAttribute *)((char *)v2 + 16), &v4, 0);
  result = _stack_chk_guard;
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00021288) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2, double a3)
{
  tinyxml2::XMLAttribute *v3; // r6@1
  double v4; // r0@1
  double v5; // r2@1
  int result; // r0@1
  char *v7; // [sp+0h] [bp-E0h]@0
  char v8; // [sp+4h] [bp-DCh]@1
  int v9; // [sp+CCh] [bp-14h]@1

  v3 = this;
  v4 = a3;
  LODWORD(v5) = &v8;
  v9 = _stack_chk_guard;
  HIDWORD(v5) = 200;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)LODWORD(v4), SHIDWORD(v4), v5, v7, *(int *)&v8);
  result = tinyxml2::StrPair::SetStr((tinyxml2::XMLAttribute *)((char *)v3 + 16), &v8, 0);
  if ( v9 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (000212C8) --------------------------------------------------------
int __fastcall tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, float a2)
{
  tinyxml2::XMLAttribute *v2; // r6@1
  int result; // r0@1
  char v4; // [sp+4h] [bp-DCh]@1
  int v5; // [sp+CCh] [bp-14h]@1

  v2 = this;
  v5 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)LODWORD(a2), COERCE_FLOAT(&v4), (char *)0xC8, _stack_chk_guard);
  tinyxml2::StrPair::SetStr((tinyxml2::XMLAttribute *)((char *)v2 + 16), &v4, 0);
  result = _stack_chk_guard;
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00021304) --------------------------------------------------------
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::XMLElement(tinyxml2::XMLElement *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLElement *v2; // r4@1
  tinyxml2::XMLElement *result; // r0@1

  v2 = this;
  tinyxml2::XMLNode::XMLNode(this, a2);
  *((_DWORD *)v2 + 11) = 0;
  *((_DWORD *)v2 + 12) = 0;
  result = v2;
  *(_DWORD *)v2 = &off_2E2D8;
  return result;
}
// 2E2D8: using guessed type void *;

//----- (00021324) --------------------------------------------------------
_BYTE *__fastcall tinyxml2::XMLDocument::Identify(tinyxml2::XMLDocument *this, char *a2, tinyxml2::XMLNode **a3)
{
  tinyxml2::XMLDocument *v3; // r6@1
  char *v4; // r7@1
  tinyxml2::XMLNode **v5; // r8@1
  _BYTE *result; // r0@1
  _BYTE *v7; // r4@1
  int v8; // r7@4
  int *v9; // r0@4
  int *v10; // r5@4
  int *v11; // r0@7
  int *v12; // r0@11
  int *v13; // r0@15
  unsigned int v14; // r0@18
  char v15; // r9@18
  int *v16; // r0@19
  int *v17; // r0@22

  v3 = this;
  v4 = a2;
  v5 = a3;
  result = sub_2032A(a2);
  v7 = result;
  if ( result && *result )
  {
    if ( sub_20344(result, "<?", 2) )
    {
      v8 = (int)v3 + 280;
      v9 = sub_2005A((int)v3 + 280);
      v10 = v9;
      if ( v9 )
        tinyxml2::XMLDeclaration::XMLDeclaration((tinyxml2::XMLDeclaration *)v9, v3);
    }
    else
    {
      if ( sub_20344(v7, "<!--", 4) )
      {
        v11 = sub_2005A((int)v3 + 280);
        v10 = v11;
        if ( v11 )
          tinyxml2::XMLComment::XMLComment((tinyxml2::XMLComment *)v11, v3);
        v10[10] = (int)v3 + 280;
        v4 = v7 + 4;
        goto LABEL_25;
      }
      if ( sub_20344(v7, "<![CDATA[", 9) )
      {
        v12 = sub_200FA((int)v3 + 208);
        v10 = v12;
        if ( v12 )
        {
          tinyxml2::XMLNode::XMLNode((tinyxml2::XMLNode *)v12, v3);
          *v10 = (int)&off_2E328;
        }
        v10[10] = (int)v3 + 208;
        v4 = v7 + 9;
        *((_BYTE *)v10 + 44) = 1;
        goto LABEL_25;
      }
      if ( !sub_20344(v7, "<!", 2) )
      {
        v14 = sub_20344(v7, "<", 1);
        v15 = v14;
        if ( v14 )
        {
          v16 = sub_1FFBA((int)v3 + 64);
          v10 = v16;
          if ( v16 )
            tinyxml2::XMLElement::XMLElement((tinyxml2::XMLElement *)v16, v3);
          v10[10] = (int)v3 + 64;
          v4 = v7 + 1;
        }
        else
        {
          v17 = sub_200FA((int)v3 + 208);
          v10 = v17;
          if ( v17 )
          {
            tinyxml2::XMLNode::XMLNode((tinyxml2::XMLNode *)v17, v3);
            *((_BYTE *)v10 + 44) = v15;
            *v10 = (int)&off_2E328;
          }
          v10[10] = (int)v3 + 208;
        }
        goto LABEL_25;
      }
      v8 = (int)v3 + 280;
      v13 = sub_2005A((int)v3 + 280);
      v10 = v13;
      if ( v13 )
        tinyxml2::XMLUnknown::XMLUnknown((tinyxml2::XMLUnknown *)v13, v3);
    }
    v10[10] = v8;
    v4 = v7 + 2;
LABEL_25:
    *v5 = (tinyxml2::XMLNode *)v10;
    result = v4;
  }
  return result;
}
// 2E328: using guessed type void *;

//----- (0002146C) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::FindAttribute(tinyxml2::XMLElement *this, const char *a2)
{
  const char *v2; // r5@1
  int i; // r4@1
  _BYTE *v4; // r0@3

  v2 = a2;
  for ( i = *((_DWORD *)this + 12); i; i = *(_DWORD *)(i + 28) )
  {
    v4 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(i + 4));
    if ( sub_20344(v4, v2, 0x7FFFFFFF) )
      break;
  }
  return i;
}

//----- (0002148E) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::Attribute(tinyxml2::XMLElement *this, const char *a2, const char *a3)
{
  const char *v3; // r5@1
  int v4; // r0@1
  tinyxml2::StrPair *v5; // r4@2
  _BYTE *v6; // r0@3
  int result; // r0@4

  v3 = a3;
  v4 = tinyxml2::XMLElement::FindAttribute(this, a2);
  if ( v4
    && ((v5 = (tinyxml2::StrPair *)(v4 + 16), !v3)
     || (v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v4 + 16)), sub_20344(v6, v3, 0x7FFFFFFF))) )
  {
    result = j_j_j__ZN8tinyxml27StrPair6GetStrEv(v5);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (000214BE) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::GetText(tinyxml2::XMLElement *this)
{
  tinyxml2::XMLElement *v1; // r4@1
  int v2; // r0@1
  int v3; // r0@3
  int result; // r0@3

  v1 = this;
  v2 = *((_DWORD *)this + 6);
  if ( v2 && (*(int (**)(void))(*(_DWORD *)v2 + 28))() )
  {
    v3 = (*(int (**)(void))(**((_DWORD **)v1 + 6) + 28))();
    result = j_j_j__ZN8tinyxml27StrPair6GetStrEv((tinyxml2::StrPair *)(v3 + 12));
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (000214E4) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLElement::QueryIntText(tinyxml2::XMLElement *this, int *a2)
{
  tinyxml2::XMLElement *v2; // r4@1
  int v3; // r0@1
  int *v4; // r5@1
  signed int result; // r0@3
  int v6; // r0@4
  tinyxml2::XMLUtil *v7; // r0@4
  int *v8; // r2@4

  v2 = this;
  v3 = *((_DWORD *)this + 6);
  v4 = a2;
  if ( v3 && (*(int (**)(void))(*(_DWORD *)v3 + 28))() )
  {
    v6 = (*(int (**)(void))(**((_DWORD **)v2 + 6) + 28))();
    v7 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v6 + 12));
    if ( tinyxml2::XMLUtil::ToInt(v7, (const char *)v4, v8) )
      result = 0;
    else
      result = 18;
  }
  else
  {
    result = 19;
  }
  return result;
}

//----- (00021518) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLElement::QueryUnsignedText(tinyxml2::XMLElement *this, unsigned int *a2)
{
  tinyxml2::XMLElement *v2; // r4@1
  int v3; // r0@1
  unsigned int *v4; // r5@1
  signed int result; // r0@3
  int v6; // r0@4
  tinyxml2::XMLUtil *v7; // r0@4
  unsigned int *v8; // r2@4

  v2 = this;
  v3 = *((_DWORD *)this + 6);
  v4 = a2;
  if ( v3 && (*(int (**)(void))(*(_DWORD *)v3 + 28))() )
  {
    v6 = (*(int (**)(void))(**((_DWORD **)v2 + 6) + 28))();
    v7 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v6 + 12));
    if ( tinyxml2::XMLUtil::ToUnsigned(v7, (const char *)v4, v8) )
      result = 0;
    else
      result = 18;
  }
  else
  {
    result = 19;
  }
  return result;
}

//----- (0002154C) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLElement::QueryBoolText(tinyxml2::XMLElement *this, bool *a2)
{
  tinyxml2::XMLElement *v2; // r4@1
  int v3; // r0@1
  bool *v4; // r5@1
  signed int result; // r0@3
  int v6; // r0@4
  tinyxml2::XMLUtil *v7; // r0@4
  bool *v8; // r2@4

  v2 = this;
  v3 = *((_DWORD *)this + 6);
  v4 = a2;
  if ( v3 && (*(int (**)(void))(*(_DWORD *)v3 + 28))() )
  {
    v6 = (*(int (**)(void))(**((_DWORD **)v2 + 6) + 28))();
    v7 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v6 + 12));
    if ( tinyxml2::XMLUtil::ToBool(v7, (const char *)v4, v8) )
      result = 0;
    else
      result = 18;
  }
  else
  {
    result = 19;
  }
  return result;
}

//----- (00021580) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLElement::QueryDoubleText(tinyxml2::XMLElement *this, double *a2)
{
  tinyxml2::XMLElement *v2; // r4@1
  int v3; // r0@1
  double *v4; // r5@1
  signed int result; // r0@3
  int v6; // r0@4
  tinyxml2::XMLUtil *v7; // r0@4
  double *v8; // r2@4

  v2 = this;
  v3 = *((_DWORD *)this + 6);
  v4 = a2;
  if ( v3 && (*(int (**)(void))(*(_DWORD *)v3 + 28))() )
  {
    v6 = (*(int (**)(void))(**((_DWORD **)v2 + 6) + 28))();
    v7 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v6 + 12));
    if ( tinyxml2::XMLUtil::ToDouble(v7, (const char *)v4, v8) )
      result = 0;
    else
      result = 18;
  }
  else
  {
    result = 19;
  }
  return result;
}

//----- (000215B4) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLElement::QueryFloatText(tinyxml2::XMLElement *this, float *a2)
{
  tinyxml2::XMLElement *v2; // r4@1
  int v3; // r0@1
  float *v4; // r5@1
  signed int result; // r0@3
  int v6; // r0@4
  tinyxml2::XMLUtil *v7; // r0@4
  float *v8; // r2@4

  v2 = this;
  v3 = *((_DWORD *)this + 6);
  v4 = a2;
  if ( v3 && (*(int (**)(void))(*(_DWORD *)v3 + 28))() )
  {
    v6 = (*(int (**)(void))(**((_DWORD **)v2 + 6) + 28))();
    v7 = (tinyxml2::XMLUtil *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v6 + 12));
    if ( tinyxml2::XMLUtil::ToFloat(v7, (const char *)v4, v8) )
      result = 0;
    else
      result = 18;
  }
  else
  {
    result = 19;
  }
  return result;
}

//----- (000215E8) --------------------------------------------------------
int *__fastcall tinyxml2::XMLElement::FindOrCreateAttribute(tinyxml2::XMLElement *this, const char *a2)
{
  tinyxml2::XMLElement *v2; // r5@1
  int *v3; // r4@1
  const char *v4; // r7@1
  int *v5; // r6@1
  _BYTE *v6; // r0@3

  v2 = this;
  v3 = (int *)*((_DWORD *)this + 12);
  v4 = a2;
  v5 = 0;
  while ( v3 )
  {
    v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v3 + 1));
    if ( sub_20344(v6, v4, 0x7FFFFFFF) )
      return v3;
    v5 = v3;
    v3 = (int *)v3[7];
  }
  v3 = sub_1FF1A(*((_DWORD *)v2 + 1) + 136);
  if ( v3 )
  {
    v3[1] = 0;
    v3[2] = 0;
    v3[3] = 0;
    v3[4] = 0;
    v3[5] = 0;
    *v3 = (int)&off_2DB60;
    v3[6] = 0;
    v3[7] = 0;
  }
  v3[8] = *((_DWORD *)v2 + 1) + 136;
  if ( v5 )
    v5[7] = (int)v3;
  else
    *((_DWORD *)v2 + 12) = v3;
  tinyxml2::XMLAttribute::SetName((tinyxml2::XMLAttribute *)v3, v4);
  return v3;
}
// 2DB60: using guessed type void *;

//----- (00021650) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::DeleteAttribute(int result, const char *a2)
{
  int v2; // r6@1
  int v3; // r4@1
  const char *v4; // r7@1
  int v5; // r5@1
  _BYTE *v6; // r0@3
  int v7; // r3@4
  int v8; // r6@7

  v2 = result;
  v3 = *(_DWORD *)(result + 48);
  v4 = a2;
  v5 = 0;
  while ( v3 )
  {
    v6 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v3 + 4));
    result = sub_20344(v4, v6, 0x7FFFFFFF);
    if ( result )
    {
      v7 = *(_DWORD *)(v3 + 28);
      if ( v5 )
        *(_DWORD *)(v5 + 28) = v7;
      else
        *(_DWORD *)(v2 + 48) = v7;
      v8 = *(_DWORD *)(v3 + 32);
      (**(void (__fastcall ***)(_DWORD))v3)(v3);
      return (*(int (__fastcall **)(int, int))(*(_DWORD *)v8 + 16))(v8, v3);
    }
    v5 = v3;
    v3 = *(_DWORD *)(v3 + 28);
  }
  return result;
}

//----- (000216A0) --------------------------------------------------------
tinyxml2::XMLDocument *__fastcall tinyxml2::XMLDocument::XMLDocument(tinyxml2::XMLDocument *this, bool a2)
{
  bool v2; // r6@1
  tinyxml2::XMLDocument *v3; // r4@1
  tinyxml2::XMLDocument *result; // r0@1

  v2 = a2;
  v3 = this;
  tinyxml2::XMLNode::XMLNode(this, 0);
  *((_BYTE *)v3 + 45) = v2;
  *((_BYTE *)v3 + 44) = 0;
  *((_DWORD *)v3 + 12) = 0;
  *((_DWORD *)v3 + 13) = 0;
  *((_DWORD *)v3 + 14) = 0;
  *(_DWORD *)v3 = &off_2E418;
  *((_DWORD *)v3 + 15) = 0;
  *((_DWORD *)v3 + 17) = (char *)v3 + 72;
  *((_DWORD *)v3 + 28) = 10;
  *((_DWORD *)v3 + 29) = 0;
  *((_DWORD *)v3 + 30) = 0;
  *((_DWORD *)v3 + 31) = 0;
  *((_DWORD *)v3 + 16) = &off_2DB70;
  *((_DWORD *)v3 + 32) = 0;
  *((_DWORD *)v3 + 33) = 0;
  *((_DWORD *)v3 + 35) = (char *)v3 + 144;
  *((_DWORD *)v3 + 46) = 10;
  *((_DWORD *)v3 + 47) = 0;
  *((_DWORD *)v3 + 48) = 0;
  *((_DWORD *)v3 + 49) = 0;
  *((_DWORD *)v3 + 34) = &off_2DB90;
  *((_DWORD *)v3 + 50) = 0;
  *((_DWORD *)v3 + 51) = 0;
  *((_DWORD *)v3 + 64) = 10;
  *((_DWORD *)v3 + 53) = (char *)v3 + 216;
  *((_DWORD *)v3 + 65) = 0;
  *((_DWORD *)v3 + 66) = 0;
  *((_DWORD *)v3 + 67) = 0;
  *((_DWORD *)v3 + 52) = &off_2DBB0;
  *((_DWORD *)v3 + 68) = 0;
  *((_DWORD *)v3 + 69) = 0;
  *((_DWORD *)v3 + 82) = 10;
  result = v3;
  *((_DWORD *)v3 + 71) = (char *)v3 + 288;
  *((_DWORD *)v3 + 83) = 0;
  *((_DWORD *)v3 + 84) = 0;
  *((_DWORD *)v3 + 85) = 0;
  *((_DWORD *)v3 + 70) = &off_2DBD0;
  *((_DWORD *)v3 + 86) = 0;
  *((_DWORD *)v3 + 87) = 0;
  *((_DWORD *)v3 + 1) = v3;
  return result;
}
// 2DB70: using guessed type void *off_2DB70;
// 2DB90: using guessed type void *off_2DB90;
// 2DBB0: using guessed type void *off_2DBB0;
// 2DBD0: using guessed type void *off_2DBD0;
// 2E418: using guessed type void *off_2E418;

//----- (00021788) --------------------------------------------------------
void __fastcall tinyxml2::XMLDocument::InitDocument(tinyxml2::XMLDocument *this)
{
  tinyxml2::XMLDocument *v1; // r5@1
  void *v2; // r0@1

  v1 = this;
  *((_DWORD *)this + 12) = 0;
  *((_DWORD *)this + 13) = 0;
  *((_DWORD *)this + 14) = 0;
  v2 = (void *)*((_DWORD *)this + 15);
  if ( v2 )
    operator delete[](v2);
  *((_DWORD *)v1 + 15) = 0;
}

//----- (000217A2) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewElement(tinyxml2::XMLDocument *this, const char *a2)
{
  char *v2; // r5@1
  tinyxml2::XMLDocument *v3; // r6@1
  const char *v4; // r7@1
  int *v5; // r0@1
  int *v6; // r4@1

  v2 = (char *)this + 64;
  v3 = this;
  v4 = a2;
  v5 = sub_1FFBA((int)this + 64);
  v6 = v5;
  if ( v5 )
    tinyxml2::XMLElement::XMLElement((tinyxml2::XMLElement *)v5, v3);
  v6[10] = (int)v2;
  tinyxml2::XMLNode::SetValue((tinyxml2::XMLNode *)v6, v4, 0);
  return v6;
}

//----- (000217CC) --------------------------------------------------------
tinyxml2::XMLElement *__fastcall tinyxml2::XMLElement::ShallowClone(tinyxml2::XMLElement *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLElement *v2; // r4@1
  tinyxml2::XMLDocument *v3; // r5@1
  const char *v4; // r0@3
  int *v5; // r0@3
  int v6; // r4@3
  tinyxml2::XMLElement *v7; // r5@3
  const char *v8; // r7@5
  const char *v9; // r6@5
  int *v10; // r0@5

  v2 = this;
  v3 = a2;
  if ( !a2 )
    v3 = (tinyxml2::XMLDocument *)*((_DWORD *)this + 1);
  v4 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::XMLElement *)((char *)this + 12));
  v5 = tinyxml2::XMLDocument::NewElement(v3, v4);
  v6 = *((_DWORD *)v2 + 12);
  v7 = (tinyxml2::XMLElement *)v5;
  while ( v6 )
  {
    v8 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v6 + 4));
    v9 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v6 + 16));
    v10 = tinyxml2::XMLElement::FindOrCreateAttribute(v7, v8);
    tinyxml2::XMLAttribute::SetAttribute((tinyxml2::XMLAttribute *)v10, v9);
    v6 = *(_DWORD *)(v6 + 28);
  }
  return v7;
}

//----- (00021814) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewComment(tinyxml2::XMLDocument *this, const char *a2)
{
  char *v2; // r5@1
  tinyxml2::XMLDocument *v3; // r6@1
  const char *v4; // r7@1
  int *v5; // r0@1
  int *v6; // r4@1

  v2 = (char *)this + 280;
  v3 = this;
  v4 = a2;
  v5 = sub_2005A((int)this + 280);
  v6 = v5;
  if ( v5 )
    tinyxml2::XMLComment::XMLComment((tinyxml2::XMLComment *)v5, v3);
  v6[10] = (int)v2;
  tinyxml2::XMLNode::SetValue((tinyxml2::XMLNode *)v6, v4, 0);
  return v6;
}

//----- (0002183E) --------------------------------------------------------
int *__fastcall tinyxml2::XMLComment::ShallowClone(tinyxml2::XMLComment *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLDocument *v2; // r4@1
  const char *v3; // r1@3

  v2 = a2;
  if ( !a2 )
    v2 = (tinyxml2::XMLDocument *)*((_DWORD *)this + 1);
  v3 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::XMLComment *)((char *)this + 12));
  return j_j_j__ZN8tinyxml211XMLDocument10NewCommentEPKc(v2, v3);
}

//----- (00021858) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewText(tinyxml2::XMLDocument *this, const char *a2)
{
  char *v2; // r5@1
  tinyxml2::XMLDocument *v3; // r6@1
  const char *v4; // r7@1
  int *v5; // r0@1
  int *v6; // r4@1

  v2 = (char *)this + 208;
  v3 = this;
  v4 = a2;
  v5 = sub_200FA((int)this + 208);
  v6 = v5;
  if ( v5 )
  {
    tinyxml2::XMLNode::XMLNode((tinyxml2::XMLNode *)v5, v3);
    *((_BYTE *)v6 + 44) = 0;
    *v6 = (int)&off_2E328;
  }
  v6[10] = (int)v2;
  tinyxml2::XMLNode::SetValue((tinyxml2::XMLNode *)v6, v4, 0);
  return v6;
}
// 2E328: using guessed type void *off_2E328;

//----- (00021898) --------------------------------------------------------
int *__fastcall tinyxml2::XMLText::ShallowClone(tinyxml2::XMLText *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLText *v2; // r4@1
  tinyxml2::XMLDocument *v3; // r5@1
  const char *v4; // r0@3
  int *result; // r0@3

  v2 = this;
  v3 = a2;
  if ( !a2 )
    v3 = (tinyxml2::XMLDocument *)*((_DWORD *)this + 1);
  v4 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::XMLText *)((char *)this + 12));
  result = tinyxml2::XMLDocument::NewText(v3, v4);
  *((_BYTE *)result + 44) = *((_BYTE *)v2 + 44);
  return result;
}

//----- (000218BC) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewDeclaration(tinyxml2::XMLDocument *this, const char *a2)
{
  char *v2; // r6@1
  tinyxml2::XMLDocument *v3; // r7@1
  const char *v4; // r4@1
  int *v5; // r0@1
  int *v6; // r5@1
  const char *v7; // r1@4

  v2 = (char *)this + 280;
  v3 = this;
  v4 = a2;
  v5 = sub_2005A((int)this + 280);
  v6 = v5;
  if ( v5 )
    tinyxml2::XMLDeclaration::XMLDeclaration((tinyxml2::XMLDeclaration *)v5, v3);
  v6[10] = (int)v2;
  if ( v4 )
    v7 = v4;
  else
    v7 = "xml version=\"1.0\" encoding=\"UTF-8\"";
  tinyxml2::XMLNode::SetValue((tinyxml2::XMLNode *)v6, v7, 0);
  return v6;
}

//----- (000218F4) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDeclaration::ShallowClone(tinyxml2::XMLDeclaration *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLDocument *v2; // r4@1
  const char *v3; // r1@3

  v2 = a2;
  if ( !a2 )
    v2 = (tinyxml2::XMLDocument *)*((_DWORD *)this + 1);
  v3 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::XMLDeclaration *)((char *)this + 12));
  return j_j_j__ZN8tinyxml211XMLDocument14NewDeclarationEPKc(v2, v3);
}

//----- (0002190E) --------------------------------------------------------
int *__fastcall tinyxml2::XMLDocument::NewUnknown(tinyxml2::XMLDocument *this, const char *a2)
{
  char *v2; // r5@1
  tinyxml2::XMLDocument *v3; // r6@1
  const char *v4; // r7@1
  int *v5; // r0@1
  int *v6; // r4@1

  v2 = (char *)this + 280;
  v3 = this;
  v4 = a2;
  v5 = sub_2005A((int)this + 280);
  v6 = v5;
  if ( v5 )
    tinyxml2::XMLUnknown::XMLUnknown((tinyxml2::XMLUnknown *)v5, v3);
  v6[10] = (int)v2;
  tinyxml2::XMLNode::SetValue((tinyxml2::XMLNode *)v6, v4, 0);
  return v6;
}

//----- (00021938) --------------------------------------------------------
int *__fastcall tinyxml2::XMLUnknown::ShallowClone(tinyxml2::XMLUnknown *this, tinyxml2::XMLDocument *a2)
{
  tinyxml2::XMLDocument *v2; // r4@1
  const char *v3; // r1@3

  v2 = a2;
  if ( !a2 )
    v2 = (tinyxml2::XMLDocument *)*((_DWORD *)this + 1);
  v3 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::XMLUnknown *)((char *)this + 12));
  return j_j_j__ZN8tinyxml211XMLDocument10NewUnknownEPKc(v2, v3);
}

//----- (00021952) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::SetError(int result, int a2, const char *a3, const char *a4)
{
  *(_DWORD *)(result + 48) = a2;
  *(_DWORD *)(result + 52) = a3;
  *(_DWORD *)(result + 56) = a4;
  return result;
}

//----- (0002195C) --------------------------------------------------------
int __fastcall tinyxml2::XMLText::ParseDeep(tinyxml2::XMLText *this, char *a2, tinyxml2::StrPair *a3)
{
  tinyxml2::XMLText *v3; // r5@1
  int v4; // r3@1
  char *v5; // r6@1
  tinyxml2::StrPair *v6; // r0@1
  const char *v7; // r4@2
  tinyxml2::XMLDocument *v8; // r0@3
  int v9; // r1@3
  int v10; // r3@5
  const char *v11; // r0@7
  int result; // r0@10

  v3 = this;
  v4 = *((_BYTE *)this + 44);
  v5 = a2;
  v6 = (tinyxml2::XMLText *)((char *)this + 12);
  if ( v4 )
  {
    v7 = (const char *)tinyxml2::StrPair::ParseText(v6, a2, "]]>", 2);
    if ( v7 )
      return (int)v7;
    v8 = (tinyxml2::XMLDocument *)*((_DWORD *)v3 + 1);
    v9 = 11;
LABEL_9:
    tinyxml2::XMLDocument::SetError(v8, v9, v5, v7);
    return (int)v7;
  }
  if ( *(_BYTE *)(*((_DWORD *)v3 + 1) + 45) )
    v10 = 3;
  else
    v10 = 2;
  v11 = (const char *)tinyxml2::StrPair::ParseText(v6, a2, "<", v10);
  v7 = v11;
  if ( !v11 )
  {
    v8 = (tinyxml2::XMLDocument *)*((_DWORD *)v3 + 1);
    v9 = 10;
    goto LABEL_9;
  }
  result = *v11;
  if ( result )
    result = (int)(v7 - 1);
  return result;
}

//----- (000219BC) --------------------------------------------------------
int __fastcall tinyxml2::XMLComment::ParseDeep(tinyxml2::XMLComment *this, char *a2, tinyxml2::StrPair *a3)
{
  tinyxml2::XMLComment *v3; // r5@1
  char *v4; // r6@1
  int v5; // r4@1

  v3 = this;
  v4 = a2;
  v5 = tinyxml2::StrPair::ParseText((tinyxml2::XMLComment *)((char *)this + 12), a2, "-->", 2);
  if ( !v5 )
    tinyxml2::XMLDocument::SetError(*((tinyxml2::XMLDocument **)v3 + 1), 12, v4, 0);
  return v5;
}

//----- (000219E8) --------------------------------------------------------
int __fastcall tinyxml2::XMLDeclaration::ParseDeep(tinyxml2::XMLDeclaration *this, char *a2, tinyxml2::StrPair *a3)
{
  tinyxml2::XMLDeclaration *v3; // r5@1
  char *v4; // r6@1
  int v5; // r4@1

  v3 = this;
  v4 = a2;
  v5 = tinyxml2::StrPair::ParseText((tinyxml2::XMLDeclaration *)((char *)this + 12), a2, "?>", 2);
  if ( !v5 )
    tinyxml2::XMLDocument::SetError(*((tinyxml2::XMLDocument **)v3 + 1), 13, v4, 0);
  return v5;
}

//----- (00021A14) --------------------------------------------------------
int __fastcall tinyxml2::XMLUnknown::ParseDeep(tinyxml2::XMLUnknown *this, char *a2, tinyxml2::StrPair *a3)
{
  tinyxml2::XMLUnknown *v3; // r5@1
  char *v4; // r6@1
  int v5; // r4@1

  v3 = this;
  v4 = a2;
  v5 = tinyxml2::StrPair::ParseText((tinyxml2::XMLUnknown *)((char *)this + 12), a2, ">", 2);
  if ( !v5 )
    tinyxml2::XMLDocument::SetError(*((tinyxml2::XMLDocument **)v3 + 1), 14, v4, 0);
  return v5;
}

//----- (00021A40) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::LoadFile(tinyxml2::XMLNode *a1, FILE *a2)
{
  tinyxml2::XMLNode *v2; // r4@1
  FILE *v3; // r6@1
  __int32 v4; // r5@1
  void *v5; // r0@2
  size_t v6; // r0@2
  tinyxml2::XMLDocument *v7; // r0@3
  int v8; // r1@3
  tinyxml2::XMLUtil *v9; // r0@4
  bool *v10; // r2@4
  _BYTE *v11; // r0@4

  v2 = a1;
  v3 = a2;
  tinyxml2::XMLNode::DeleteChildren(a1);
  tinyxml2::XMLDocument::InitDocument(v2);
  fseek(v3, 0, 2);
  v4 = ftell(v3);
  fseek(v3, 0, 0);
  if ( v4 )
  {
    v5 = (void *)operator new[](v4 + 1);
    *((_DWORD *)v2 + 15) = v5;
    v6 = fread(v5, 1u, v4, v3);
    if ( v6 == v4 )
    {
      *(_BYTE *)(*((_DWORD *)v2 + 15) + v6) = 0;
      v9 = (tinyxml2::XMLUtil *)sub_2032A(*((_BYTE **)v2 + 15));
      v11 = (_BYTE *)tinyxml2::XMLUtil::ReadBOM(v9, (const char *)v2 + 44, v10);
      if ( v11 && *v11 )
      {
        (*(void (__fastcall **)(tinyxml2::XMLNode *, _BYTE *, _DWORD))(*(_DWORD *)v2 + 60))(v2, v11, 0);
        return *((_DWORD *)v2 + 12);
      }
      v7 = v2;
      v8 = 15;
    }
    else
    {
      v7 = v2;
      v8 = 5;
    }
    tinyxml2::XMLDocument::SetError(v7, v8, 0, 0);
  }
  return *((_DWORD *)v2 + 12);
}

//----- (00021AC4) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::LoadFile(tinyxml2::XMLDocument *this, const char *a2)
{
  tinyxml2::XMLDocument *v2; // r4@1
  const char *v3; // r6@1
  FILE *v4; // r5@1

  v2 = this;
  v3 = a2;
  tinyxml2::XMLNode::DeleteChildren(this);
  tinyxml2::XMLDocument::InitDocument(v2);
  v4 = fopen(v3, "rb");
  if ( v4 )
  {
    tinyxml2::XMLDocument::LoadFile(v2, v4);
    fclose(v4);
  }
  else
  {
    tinyxml2::XMLDocument::SetError(v2, 3, v3, 0);
  }
  return *((_DWORD *)v2 + 12);
}

//----- (00021B04) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::Parse(tinyxml2::XMLDocument *this, const char *a2)
{
  tinyxml2::XMLDocument *v2; // r4@1
  const char *v3; // r5@1
  tinyxml2::XMLUtil *v4; // r0@3
  bool *v5; // r2@3
  const char *v6; // r0@3
  const char *v7; // r6@3
  size_t v8; // r0@6
  size_t v9; // r5@6
  void *v10; // r0@6

  v2 = this;
  v3 = a2;
  tinyxml2::XMLNode::DeleteChildren(this);
  tinyxml2::XMLDocument::InitDocument(v2);
  if ( v3
    && *v3
    && (v4 = (tinyxml2::XMLUtil *)sub_2032A(v3),
        v6 = (const char *)tinyxml2::XMLUtil::ReadBOM(v4, (const char *)v2 + 44, v5),
        (v7 = v6) != 0)
    && *v6 )
  {
    v8 = strlen(v6);
    v9 = v8 + 1;
    v10 = (void *)operator new[](v8 + 1);
    *((_DWORD *)v2 + 15) = v10;
    memcpy(v10, v7, v9);
    (*(void (__fastcall **)(tinyxml2::XMLDocument *, _DWORD, _DWORD))(*(_DWORD *)v2 + 60))(v2, *((_DWORD *)v2 + 15), 0);
  }
  else
  {
    tinyxml2::XMLDocument::SetError(v2, 15, 0, 0);
  }
  return *((_DWORD *)v2 + 12);
}

//----- (00021B64) --------------------------------------------------------
char *__fastcall tinyxml2::XMLNode::ParseDeep(tinyxml2::XMLNode *this, char *a2, tinyxml2::StrPair *a3, int a4)
{
  tinyxml2::XMLNode *v4; // r5@1
  char *v5; // r4@1
  tinyxml2::StrPair *v6; // r8@1
  char *result; // r0@3
  tinyxml2::XMLDocument *v8; // r0@4
  int v9; // r4@8
  int v10; // r0@9
  tinyxml2::XMLNode *v11; // r6@16
  int v12; // r1@17
  int v13; // r2@17
  int v14; // r5@19
  int v15; // r0@22
  int v16; // r0@23
  _BYTE *v17; // r10@27
  _BYTE *v18; // r0@27
  tinyxml2::XMLDocument *v19; // r4@28
  const char *v20; // r2@28
  tinyxml2::XMLDocument *v21; // r0@28
  const char *v22; // r3@28
  tinyxml2::XMLDocument *v23; // r4@29
  int v24; // r4@31
  tinyxml2::XMLNode *v25; // [sp+0h] [bp-4h]@1
  char *vars0; // [sp+4h] [bp+0h]@1
  tinyxml2::StrPair *vars4; // [sp+8h] [bp+4h]@1
  tinyxml2::StrPair *vars8; // [sp+Ch] [bp+8h]@1

  v25 = this;
  vars0 = a2;
  vars4 = a3;
  vars8 = (tinyxml2::StrPair *)a4;
  v4 = this;
  v5 = a2;
  v6 = a3;
  while ( v5 )
  {
    result = (char *)(unsigned __int8)*v5;
    if ( !*v5 )
      return result;
    v8 = (tinyxml2::XMLDocument *)*((_DWORD *)v4 + 1);
    v25 = 0;
    if ( !tinyxml2::XMLDocument::Identify(v8, v5, &v25) || !v25 )
      return 0;
    vars0 = 0;
    vars4 = 0;
    vars8 = 0;
    v5 = (char *)(*(int (**)(void))(*(_DWORD *)v25 + 60))();
    if ( !v5 )
    {
      if ( v25 )
      {
        v9 = *((_DWORD *)v25 + 10);
        (*(void (**)(void))(*(_DWORD *)v25 + 64))();
        (*(void (__fastcall **)(int, tinyxml2::XMLNode *))(*(_DWORD *)v9 + 16))(v9, v25);
      }
      v10 = *((_DWORD *)v4 + 1);
      v25 = 0;
      if ( !*(_DWORD *)(v10 + 48) )
        tinyxml2::XMLDocument::SetError((tinyxml2::XMLDocument *)v10, 17, 0, 0);
      tinyxml2::StrPair::~StrPair((tinyxml2::StrPair *)&vars0);
      return 0;
    }
    if ( (**(int (***)(void))v25)() && *(_DWORD *)((**(int (***)(void))v25)() + 44) == 2 )
    {
      v11 = v25;
      if ( v6 )
      {
        v12 = *((_DWORD *)v25 + 4);
        v13 = *((_DWORD *)v25 + 5);
        *(_DWORD *)v6 = *((_DWORD *)v25 + 3);
        *((_DWORD *)v6 + 1) = v12;
        *((_DWORD *)v6 + 2) = v13;
      }
      if ( v11 )
      {
        v14 = *((_DWORD *)v11 + 10);
        (*(void (__fastcall **)(tinyxml2::XMLNode *))(*(_DWORD *)v11 + 64))(v11);
        (*(void (__fastcall **)(int, tinyxml2::XMLNode *))(*(_DWORD *)v14 + 16))(v14, v25);
      }
      tinyxml2::StrPair::~StrPair((tinyxml2::StrPair *)&vars0);
      return v5;
    }
    v15 = (**(int (***)(void))v25)();
    if ( v15 )
    {
      v16 = *(_DWORD *)(v15 + 44);
      if ( vars4 == vars8 )
      {
        if ( v16 )
          goto LABEL_33;
LABEL_29:
        v23 = (tinyxml2::XMLDocument *)*((_DWORD *)v4 + 1);
        v20 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::XMLNode *)((char *)v25 + 12));
        v21 = v23;
        v22 = 0;
      }
      else
      {
        if ( v16 )
          goto LABEL_29;
        v17 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)&vars0);
        v18 = (_BYTE *)tinyxml2::StrPair::GetStr((tinyxml2::XMLNode *)((char *)v25 + 12));
        if ( sub_20344(v17, v18, 0x7FFFFFFF) )
          goto LABEL_33;
        v19 = (tinyxml2::XMLDocument *)*((_DWORD *)v4 + 1);
        v20 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::XMLNode *)((char *)v25 + 12));
        v21 = v19;
        v22 = 0;
      }
      tinyxml2::XMLDocument::SetError(v21, 16, v20, v22);
      if ( v25 )
      {
        v24 = *((_DWORD *)v25 + 10);
        (*(void (**)(void))(*(_DWORD *)v25 + 64))();
        (*(void (__fastcall **)(int, tinyxml2::XMLNode *))(*(_DWORD *)v24 + 16))(v24, v25);
      }
      v5 = 0;
      v25 = 0;
    }
LABEL_33:
    if ( v25 )
      tinyxml2::XMLNode::InsertEndChild(v4, v25);
    tinyxml2::StrPair::~StrPair((tinyxml2::StrPair *)&vars0);
  }
  return v5;
}

//----- (00021CC4) --------------------------------------------------------
int __fastcall tinyxml2::XMLElement::ParseAttributes(tinyxml2::XMLElement *this, char *a2)
{
  int *v2; // r9@1
  tinyxml2::XMLElement *v3; // r6@1
  char *v4; // r8@1
  char *v5; // r4@1
  int result; // r0@2
  char *v7; // r0@3
  int v8; // r5@4
  tinyxml2::XMLDocument *v9; // r5@5
  const char *v10; // r3@5
  int v11; // r1@5
  const char *v12; // r2@5
  tinyxml2::XMLDocument *v13; // r0@5
  int *v14; // r0@8
  int *v15; // r5@8
  const char *v16; // r0@11
  int v17; // r7@20

  v2 = 0;
  v3 = this;
  v4 = a2;
  v5 = a2;
  while ( 1 )
  {
    result = (int)v5;
    if ( !v5 )
      return result;
    v7 = sub_2032A(v5);
    v5 = v7;
    if ( !v7 || (v8 = (unsigned __int8)*v7, !*v7) )
    {
      v9 = (tinyxml2::XMLDocument *)*((_DWORD *)v3 + 1);
      v10 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::XMLElement *)((char *)v3 + 12));
      v11 = 7;
      v12 = v4;
      v13 = v9;
      goto LABEL_22;
    }
    if ( !(v8 & 0x80) && !isalpha((unsigned __int8)*v7) )
    {
      if ( v8 == 47 )
      {
        if ( v5[1] == 62 )
        {
          *((_DWORD *)v3 + 11) = 1;
          return (int)(v5 + 2);
        }
      }
      else if ( v8 == 62 )
      {
        return (int)(v5 + 1);
      }
      v13 = (tinyxml2::XMLDocument *)*((_DWORD *)v3 + 1);
      v11 = 7;
LABEL_21:
      v12 = v4;
      v10 = v5;
LABEL_22:
      tinyxml2::XMLDocument::SetError(v13, v11, v12, v10);
      return 0;
    }
    v14 = sub_1FF1A(*((_DWORD *)v3 + 1) + 136);
    v15 = v14;
    if ( v14 )
    {
      v14[2] = 0;
      v14[3] = 0;
      v14[4] = 0;
      v14[5] = 0;
      v14[6] = 0;
      v14[7] = 0;
      *v14 = (int)&off_2DB60;
      v14[1] = 0;
    }
    v14[8] = *((_DWORD *)v3 + 1) + 136;
    v5 = tinyxml2::XMLAttribute::ParseDeep((tinyxml2::XMLAttribute *)v14, v5, *(_BYTE *)(*((_DWORD *)v3 + 1) + 45));
    if ( !v5
      || (v16 = (const char *)tinyxml2::StrPair::GetStr((tinyxml2::StrPair *)(v15 + 1)),
          tinyxml2::XMLElement::Attribute(v3, v16, 0)) )
    {
      v17 = v15[8];
      (*(void (__fastcall **)(int *))*v15)(v15);
      (*(void (__fastcall **)(int, int *))(*(_DWORD *)v17 + 16))(v17, v15);
      v13 = (tinyxml2::XMLDocument *)*((_DWORD *)v3 + 1);
      v11 = 8;
      goto LABEL_21;
    }
    if ( v2 )
      v2[7] = (int)v15;
    else
      *((_DWORD *)v3 + 12) = v15;
    v2 = v15;
  }
}
// 2DB60: using guessed type void *off_2DB60;

//----- (00021DBC) --------------------------------------------------------
char *__fastcall tinyxml2::XMLElement::ParseDeep(tinyxml2::XMLElement *this, char *a2, tinyxml2::StrPair *a3, int a4)
{
  tinyxml2::XMLElement *v4; // r4@1
  tinyxml2::StrPair *v5; // r5@1
  _BYTE *v6; // r0@1
  char *v7; // r1@1
  char *result; // r0@2
  char *v9; // r1@5
  int v10; // [sp+0h] [bp-10h]@1

  v10 = a4;
  v4 = this;
  v5 = a3;
  v6 = sub_2032A(a2);
  v7 = v6;
  if ( !v6 )
    goto LABEL_12;
  if ( *v6 == 47 )
  {
    v7 = v6 + 1;
    *((_DWORD *)v4 + 11) = 2;
  }
  v9 = (char *)tinyxml2::StrPair::ParseName((tinyxml2::XMLElement *)((char *)v4 + 12), v7);
  if ( *((_DWORD *)v4 + 4) != *((_DWORD *)v4 + 5)
    && (result = (char *)tinyxml2::XMLElement::ParseAttributes(v4, v9)) != 0 )
  {
    if ( *result )
    {
      if ( !*((_DWORD *)v4 + 11) )
        result = j_j_j__ZN8tinyxml27XMLNode9ParseDeepEPcPNS_7StrPairE(v4, result, v5, v10);
    }
  }
  else
  {
LABEL_12:
    result = 0;
  }
  return result;
}

//----- (00021E14) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::PrintError(tinyxml2::XMLDocument *this)
{
  tinyxml2::XMLDocument *v1; // r5@1
  int result; // r0@1
  int v3; // [sp+4h] [bp+0h]@2
  char v4; // [sp+18h] [bp+14h]@2
  int v5; // [sp+2Ch] [bp+28h]@1

  v1 = this;
  result = *((_DWORD *)this + 12);
  v5 = _stack_chk_guard;
  if ( result )
  {
    memset(&v3, 0, 0x14u);
    memset(&v4, 0, 0x14u);
    if ( *((_DWORD *)v1 + 13) )
      snprintf((char *)&v3, 0x14u, "%s");
    if ( *((_DWORD *)v1 + 14) )
      snprintf(&v4, 0x14u, "%s");
    result = printf("XMLDocument error id=%d str1=%s str2=%s\n", *((_DWORD *)v1 + 12), &v3, &v4);
  }
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00021E90) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::XMLPrinter(int result, int a2, char a3)
{
  int v3; // r12@1
  int v4; // r2@3
  unsigned int v5; // r1@4

  v3 = result + 21;
  *(_DWORD *)(result + 8) = a2;
  *(_BYTE *)(result + 21) = a3;
  *(_BYTE *)(result + 5) = 1;
  *(_DWORD *)(result + 16) = -1;
  *(_DWORD *)result = &off_2E208;
  *(_BYTE *)(result + 20) = 1;
  *(_DWORD *)(result + 152) = result + 156;
  *(_BYTE *)(result + 4) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 196) = 10;
  *(_DWORD *)(result + 200) = 0;
  *(_DWORD *)(result + 204) = result + 208;
  *(_DWORD *)(result + 228) = 20;
  *(_DWORD *)(result + 232) = 0;
  do
  {
    *(_BYTE *)(v3++ + 1) = 0;
    *(_BYTE *)(v3 + 64) = 0;
  }
  while ( v3 != result + 85 );
  v4 = 0;
  do
  {
    v5 = LOBYTE((&off_2DBE8)[4 * v4 + 8]);
    if ( v5 > 0x3F )
      result = _android_log_assert("assert", "grinliz", "ASSERT in '%s' at %d.", "external/tinyxml2/tinyxml2.cpp");
    v4 += 12;
    *(_BYTE *)(result + v5 + 22) = 1;
  }
  while ( v4 != 60 );
  *(_BYTE *)(result + 124) = 1;
  *(_BYTE *)(result + 146) = 1;
  *(_BYTE *)(result + 148) = 1;
  *(_DWORD *)(result + 232) = 1;
  *(_BYTE *)(result + 208) = 0;
  return result;
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);
// 2DBE8: using guessed type char *off_2DBE8;
// 2E208: using guessed type void *off_2E208;

//----- (00021F54) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::Print(tinyxml2::XMLDocument *this, tinyxml2::XMLPrinter *a2)
{
  tinyxml2::XMLPrinter *v2; // r6@1
  tinyxml2::XMLDocument *v3; // r7@1
  tinyxml2::XMLPrinter *v4; // r1@2
  int result; // r0@4
  int v6; // [sp+0h] [bp-108h]@1
  int v7; // [sp+ECh] [bp-1Ch]@1

  v2 = a2;
  v3 = this;
  v7 = _stack_chk_guard;
  tinyxml2::XMLPrinter::XMLPrinter((int)&v6, (int)stdout, 0);
  if ( v2 )
    v4 = v2;
  else
    v4 = (tinyxml2::XMLPrinter *)&v6;
  (*(void (__fastcall **)(tinyxml2::XMLDocument *, tinyxml2::XMLPrinter *))(*(_DWORD *)v3 + 56))(v3, v4);
  result = sub_2019C((int)&v6);
  if ( v7 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00021FA8) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::SaveFile(int a1, int a2)
{
  int v2; // r6@1
  int v3; // r6@1
  int result; // r0@1
  int v5; // [sp+0h] [bp-100h]@1
  int v6; // [sp+ECh] [bp-14h]@1

  v2 = a1;
  v6 = _stack_chk_guard;
  tinyxml2::XMLPrinter::XMLPrinter((int)&v5, a2, 0);
  tinyxml2::XMLDocument::Print((tinyxml2::XMLDocument *)v2, (tinyxml2::XMLPrinter *)&v5);
  v3 = *(_DWORD *)(v2 + 48);
  sub_2019C((int)&v5);
  result = v3;
  if ( v6 != _stack_chk_guard )
    _stack_chk_fail(v3);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00021FE8) --------------------------------------------------------
int __fastcall tinyxml2::XMLDocument::SaveFile(tinyxml2::XMLDocument *this, const char *a2)
{
  tinyxml2::XMLDocument *v2; // r4@1
  const char *v3; // r6@1
  int v4; // r0@1
  FILE *v5; // r5@1

  v2 = this;
  v3 = a2;
  v4 = open(a2, 66, 420);
  v5 = fdopen(v4, "w");
  if ( v5 )
  {
    tinyxml2::XMLDocument::SaveFile((int)v2, (int)v5);
    fclose(v5);
  }
  else
  {
    tinyxml2::XMLDocument::SetError(v2, 4, v3, 0);
  }
  return *((_DWORD *)v2 + 12);
}

//----- (00022028) --------------------------------------------------------
int tinyxml2::XMLPrinter::Print(tinyxml2::XMLPrinter *this, const char *a2, ...)
{
  tinyxml2::XMLPrinter *v2; // r4@1
  const char *v3; // r6@1
  FILE *v4; // r0@1
  int result; // r0@2
  int v6; // r7@3
  int v7; // r1@3
  int v8; // r1@5
  char *v9; // r0@5
  va_list va; // [sp+20h] [bp-8h]@1

  va_start(va, a2);
  v2 = this;
  v3 = a2;
  v4 = (FILE *)*((_DWORD *)this + 2);
  if ( v4 )
  {
    result = vfprintf(v4, a2, va);
  }
  else
  {
    v6 = vsnprintf(0, 0, a2, va);
    v7 = v6 + *((_DWORD *)v2 + 58);
    if ( v7 > *((_DWORD *)v2 + 57) )
      sub_1FEEE((int)v2 + 204, v7);
    v8 = *((_DWORD *)v2 + 58);
    v9 = (char *)(*((_DWORD *)v2 + 51) + v8 - 1);
    *((_DWORD *)v2 + 58) = v8 + v6;
    result = vsnprintf(v9, v6 + 1, v3, va);
  }
  return result;
}

//----- (00022090) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PrintSpace(int result, int a2)
{
  tinyxml2::XMLPrinter *v2; // r6@1
  int v3; // r5@1
  int i; // r4@1

  v2 = (tinyxml2::XMLPrinter *)result;
  v3 = a2;
  for ( i = 0; i < v3; ++i )
    result = tinyxml2::XMLPrinter::Print(v2, "    ");
  return result;
}

//----- (000220B4) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PrintString(int result, const char *a2, int a3, int a4)
{
  int v4; // r4@1
  const char *v5; // r3@1
  int v6; // r6@2
  const char *v7; // r11@5
  const char *v8; // r5@6
  int v9; // t1@6
  int v10; // r7@9
  int v11; // r3@11
  signed int v12; // r5@16
  int v13; // [sp+0h] [bp-28h]@1

  v13 = a4;
  v4 = result;
  v5 = a2;
  if ( a3 )
    v6 = result + 86;
  else
    v6 = result + 22;
  if ( *(_BYTE *)(result + 20) )
  {
    v7 = a2;
    while ( 1 )
    {
      do
      {
        v8 = v7;
        v9 = *v7++;
        result = v9;
        if ( !v9 )
          goto LABEL_24;
      }
      while ( (unsigned int)(result - 1) > 0x3E || !*(_BYTE *)(v6 + result) );
      while ( 1 )
      {
        v10 = (int)(v5 + 1);
        if ( v5 >= v8 )
          break;
        tinyxml2::XMLPrinter::Print((tinyxml2::XMLPrinter *)v4, "%c", *v5);
        v5 = (const char *)v10;
      }
      v11 = *(v7 - 1);
      switch ( v11 )
      {
        case 34:
          v12 = 0;
          break;
        case 38:
          v12 = 1;
          break;
        case 39:
          v12 = 2;
          break;
        case 60:
          v12 = 3;
          break;
        default:
          if ( v11 != 62 )
            goto LABEL_22;
          v12 = 4;
          break;
      }
      tinyxml2::XMLPrinter::Print((tinyxml2::XMLPrinter *)v4, "&%s;", *(_DWORD *)&off_2DBE8[12 * v12]);
LABEL_22:
      v5 = (const char *)v10;
    }
  }
  v8 = a2;
LABEL_24:
  if ( !*(_BYTE *)(v4 + 20) || v8 - v5 > 0 )
    result = j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz((tinyxml2::XMLPrinter *)v4, "%s", v5, v13);
  return result;
}

//----- (0002217C) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, const char *a3)
{
  const char *v3; // r5@1
  tinyxml2::XMLPrinter *v4; // r4@1
  const char *v5; // r3@1
  int v6; // r3@3

  v3 = a3;
  v4 = this;
  v5 = a2;
  if ( !*((_BYTE *)this + 4) )
    this = (tinyxml2::XMLPrinter *)_android_log_assert(
                                     "assert",
                                     "grinliz",
                                     "ASSERT in '%s' at %d.",
                                     "external/tinyxml2/tinyxml2.cpp");
  tinyxml2::XMLPrinter::Print(this, " %s=\"", v5);
  tinyxml2::XMLPrinter::PrintString(v4, v3, 0, v6);
  return j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz(v4, "\"");
}
// F348: using guessed type int __fastcall _android_log_assert(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (000221E0) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, int a3)
{
  tinyxml2::XMLPrinter *v3; // r7@1
  const char *v4; // r6@1
  int result; // r0@1
  char v6; // [sp+4h] [bp-E4h]@1
  int v7; // [sp+CCh] [bp-1Ch]@1

  v3 = this;
  v4 = a2;
  v7 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a3, (int)&v6, (char *)0xC8, _stack_chk_guard);
  tinyxml2::XMLPrinter::PushAttribute(v3, v4, &v6);
  result = _stack_chk_guard;
  if ( v7 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (0002221C) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, unsigned int a3)
{
  tinyxml2::XMLPrinter *v3; // r7@1
  const char *v4; // r6@1
  int result; // r0@1
  char v6; // [sp+4h] [bp-E4h]@1
  int v7; // [sp+CCh] [bp-1Ch]@1

  v3 = this;
  v4 = a2;
  v7 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a3, (unsigned int)&v6, (char *)0xC8, _stack_chk_guard);
  tinyxml2::XMLPrinter::PushAttribute(v3, v4, &v6);
  result = _stack_chk_guard;
  if ( v7 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00022258) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, int a3)
{
  tinyxml2::XMLPrinter *v3; // r7@1
  const char *v4; // r6@1
  int result; // r0@1
  char v6; // [sp+4h] [bp-E4h]@1
  int v7; // [sp+CCh] [bp-1Ch]@1

  v3 = this;
  v4 = a2;
  v7 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a3, (int)&v6, (char *)0xC8, _stack_chk_guard);
  tinyxml2::XMLPrinter::PushAttribute(v3, v4, &v6);
  result = _stack_chk_guard;
  if ( v7 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00022294) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushAttribute(tinyxml2::XMLPrinter *this, const char *a2, double a3)
{
  const char *v3; // r6@1
  tinyxml2::XMLPrinter *v4; // r7@1
  double v5; // r0@1
  double v6; // r2@1
  int result; // r0@1
  char *v8; // [sp+0h] [bp-E8h]@0
  char v9; // [sp+4h] [bp-E4h]@1
  int v10; // [sp+CCh] [bp-1Ch]@1

  v3 = a2;
  v4 = this;
  v5 = a3;
  LODWORD(v6) = &v9;
  v10 = _stack_chk_guard;
  HIDWORD(v6) = 200;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)LODWORD(v5), SHIDWORD(v5), v6, v8, *(int *)&v9);
  result = tinyxml2::XMLPrinter::PushAttribute(v4, v3, &v9);
  if ( v10 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (000222D4) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::CloseElement(tinyxml2::XMLPrinter *this)
{
  tinyxml2::XMLPrinter *v1; // r4@1
  int v2; // r5@1
  int v3; // r2@1
  int v4; // r1@1
  int v5; // r5@1
  int result; // r0@7

  v1 = this;
  v2 = *((_DWORD *)this + 50);
  v3 = *((_DWORD *)this + 38);
  --*((_DWORD *)this + 3);
  v4 = *((_BYTE *)this + 4);
  *((_DWORD *)this + 50) = v2 - 1;
  v5 = *(_DWORD *)(v3 + 4 * (v2 - 1));
  if ( v4 )
  {
    tinyxml2::XMLPrinter::Print(this, "/>");
  }
  else
  {
    if ( *((_DWORD *)this + 4) < 0 && !*((_BYTE *)this + 21) )
    {
      tinyxml2::XMLPrinter::Print(this, "\n");
      tinyxml2::XMLPrinter::PrintSpace(v1, *((_DWORD *)v1 + 3));
    }
    tinyxml2::XMLPrinter::Print(v1, "</%s>", v5);
  }
  result = *((_DWORD *)v1 + 3);
  if ( *((_DWORD *)v1 + 4) == result )
    *((_DWORD *)v1 + 4) = -1;
  if ( !result && !*((_BYTE *)v1 + 21) )
    result = tinyxml2::XMLPrinter::Print(v1, "\n");
  *((_BYTE *)v1 + 4) = 0;
  return result;
}

//----- (00022358) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::VisitExit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLElement *a2)
{
  tinyxml2::XMLPrinter::CloseElement(this);
  return 1;
}

//----- (00022364) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::SealElement(tinyxml2::XMLPrinter *this)
{
  *((_BYTE *)this + 4) = 0;
  return j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz(this, ">");
}

//----- (00022374) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::OpenElement(tinyxml2::XMLPrinter *this, const char *a2)
{
  tinyxml2::XMLPrinter *v2; // r4@1
  const char *v3; // r5@1
  int v4; // r0@3
  int v5; // r6@4
  unsigned int v6; // r0@5
  void *v7; // r7@7
  char *v8; // r0@7
  int v9; // r3@11
  int v10; // r0@11
  int v11; // r3@15
  int result; // r0@15

  v2 = this;
  v3 = a2;
  if ( *((_BYTE *)this + 4) )
    tinyxml2::XMLPrinter::SealElement(this);
  v4 = *((_DWORD *)v2 + 50) + 1;
  if ( v4 > *((_DWORD *)v2 + 49) )
  {
    v5 = 2 * v4;
    if ( (unsigned int)(2 * v4) > 0x1FC00000 )
      v6 = -1;
    else
      v6 = 8 * v4;
    v7 = (void *)operator new[](v6);
    memcpy(v7, *((const void **)v2 + 38), 4 * *((_DWORD *)v2 + 50));
    v8 = (char *)*((_DWORD *)v2 + 38);
    if ( v8 != (char *)v2 + 156 && v8 )
      operator delete[](v8);
    *((_DWORD *)v2 + 38) = v7;
    *((_DWORD *)v2 + 49) = v5;
  }
  v9 = *((_DWORD *)v2 + 50);
  v10 = *((_DWORD *)v2 + 38);
  *((_DWORD *)v2 + 50) = v9 + 1;
  *(_DWORD *)(v10 + 4 * v9) = v3;
  if ( *((_DWORD *)v2 + 4) < 0 && !*((_BYTE *)v2 + 5) && !*((_BYTE *)v2 + 21) )
  {
    tinyxml2::XMLPrinter::Print(v2, "\n");
    tinyxml2::XMLPrinter::PrintSpace(v2, *((_DWORD *)v2 + 3));
  }
  tinyxml2::XMLPrinter::Print(v2, "<%s", v3);
  v11 = *((_DWORD *)v2 + 3);
  result = 0;
  *((_BYTE *)v2 + 4) = 1;
  *((_BYTE *)v2 + 5) = 0;
  *((_DWORD *)v2 + 3) = v11 + 1;
  return result;
}

//----- (00022424) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::VisitEnter(tinyxml2::XMLPrinter *this, const tinyxml2::XMLElement *a2, const tinyxml2::XMLAttribute *a3)
{
  tinyxml2::XMLPrinter *v3; // r5@1
  const tinyxml2::XMLAttribute *v4; // r4@1
  const char *v5; // r0@1
  const char *v6; // r6@3
  const char *v7; // r0@3

  v3 = this;
  v4 = a3;
  v5 = (const char *)tinyxml2::StrPair::GetStr((const tinyxml2::XMLElement *)((char *)a2 + 12));
  tinyxml2::XMLPrinter::OpenElement(v3, v5);
  while ( v4 )
  {
    v6 = (const char *)tinyxml2::StrPair::GetStr((const tinyxml2::XMLAttribute *)((char *)v4 + 4));
    v7 = (const char *)tinyxml2::StrPair::GetStr((const tinyxml2::XMLAttribute *)((char *)v4 + 16));
    tinyxml2::XMLPrinter::PushAttribute(v3, v6, v7);
    v4 = (const tinyxml2::XMLAttribute *)*((_DWORD *)v4 + 7);
  }
  return 1;
}

//----- (00022460) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, const char *a2, int a3)
{
  int v3; // r6@1
  int v4; // r3@1
  const char *v5; // r5@1
  tinyxml2::XMLPrinter *v6; // r4@1
  int v7; // r2@1
  int result; // r0@4

  v3 = a3;
  v4 = *((_DWORD *)this + 3);
  v5 = a2;
  v6 = this;
  v7 = *((_BYTE *)this + 4);
  *((_DWORD *)this + 4) = v4 - 1;
  if ( v7 )
    tinyxml2::XMLPrinter::SealElement(this);
  if ( v3 )
  {
    tinyxml2::XMLPrinter::Print(v6, "<![CDATA[");
    tinyxml2::XMLPrinter::Print(v6, "%s", v5);
    result = j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz(v6, "]]>");
  }
  else
  {
    result = j_j_j__ZN8tinyxml210XMLPrinter11PrintStringEPKcb(v6, v5, 1, v4);
  }
  return result;
}

//----- (000224B4) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLText *a2)
{
  tinyxml2::XMLPrinter *v2; // r5@1
  const tinyxml2::XMLText *v3; // r4@1
  const char *v4; // r0@1

  v2 = this;
  v3 = a2;
  v4 = (const char *)tinyxml2::StrPair::GetStr((const tinyxml2::XMLText *)((char *)a2 + 12));
  tinyxml2::XMLPrinter::PushText(v2, v4, *((_BYTE *)v3 + 44));
  return 1;
}

//----- (000224D4) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, int a2)
{
  tinyxml2::XMLPrinter *v2; // r6@1
  int result; // r0@1
  char v4; // [sp+4h] [bp-DCh]@1
  int v5; // [sp+CCh] [bp-14h]@1

  v2 = this;
  v5 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a2, (int)&v4, (char *)0xC8, _stack_chk_guard);
  tinyxml2::XMLPrinter::PushText(v2, &v4, 0);
  result = _stack_chk_guard;
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00022510) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, unsigned int a2)
{
  tinyxml2::XMLPrinter *v2; // r6@1
  int result; // r0@1
  char v4; // [sp+4h] [bp-DCh]@1
  int v5; // [sp+CCh] [bp-14h]@1

  v2 = this;
  v5 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a2, (unsigned int)&v4, (char *)0xC8, _stack_chk_guard);
  tinyxml2::XMLPrinter::PushText(v2, &v4, 0);
  result = _stack_chk_guard;
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (0002254C) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, int a2)
{
  tinyxml2::XMLPrinter *v2; // r6@1
  int result; // r0@1
  char v4; // [sp+4h] [bp-DCh]@1
  int v5; // [sp+CCh] [bp-14h]@1

  v2 = this;
  v5 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)a2, (int)&v4, (char *)0xC8, _stack_chk_guard);
  tinyxml2::XMLPrinter::PushText(v2, &v4, 0);
  result = _stack_chk_guard;
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00022588) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, float a2)
{
  tinyxml2::XMLPrinter *v2; // r6@1
  int result; // r0@1
  char v4; // [sp+4h] [bp-DCh]@1
  int v5; // [sp+CCh] [bp-14h]@1

  v2 = this;
  v5 = _stack_chk_guard;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)LODWORD(a2), COERCE_FLOAT(&v4), (char *)0xC8, _stack_chk_guard);
  tinyxml2::XMLPrinter::PushText(v2, &v4, 0);
  result = _stack_chk_guard;
  if ( v5 != _stack_chk_guard )
    _stack_chk_fail(_stack_chk_guard);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (000225C4) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushText(tinyxml2::XMLPrinter *this, int a2, double a3)
{
  tinyxml2::XMLPrinter *v3; // r6@1
  double v4; // r0@1
  double v5; // r2@1
  int result; // r0@1
  char *v7; // [sp+0h] [bp-E0h]@0
  char v8; // [sp+4h] [bp-DCh]@1
  int v9; // [sp+CCh] [bp-14h]@1

  v3 = this;
  v4 = a3;
  LODWORD(v5) = &v8;
  v9 = _stack_chk_guard;
  HIDWORD(v5) = 200;
  tinyxml2::XMLUtil::ToStr((tinyxml2::XMLUtil *)LODWORD(v4), SHIDWORD(v4), v5, v7, *(int *)&v8);
  result = tinyxml2::XMLPrinter::PushText(v3, &v8, 0);
  if ( v9 != _stack_chk_guard )
    _stack_chk_fail(result);
  return result;
}
// DF38: using guessed type int __fastcall _stack_chk_fail(_DWORD);

//----- (00022600) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushComment(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  tinyxml2::XMLPrinter *v4; // r4@1
  const char *v5; // r5@1
  int v7; // [sp+0h] [bp-10h]@1

  v7 = a4;
  v4 = this;
  v5 = a2;
  if ( *((_BYTE *)this + 4) )
    tinyxml2::XMLPrinter::SealElement(this);
  if ( *((_DWORD *)v4 + 4) < 0 && !*((_BYTE *)v4 + 5) && !*((_BYTE *)v4 + 21) )
  {
    tinyxml2::XMLPrinter::Print(v4, "\n");
    tinyxml2::XMLPrinter::PrintSpace(v4, *((_DWORD *)v4 + 3));
  }
  *((_BYTE *)v4 + 5) = 0;
  return j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz(v4, "<!--%s-->", v5, v7);
}

//----- (0002264C) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLComment *a2)
{
  tinyxml2::XMLPrinter *v2; // r4@1
  const char *v3; // r0@1
  int v4; // r2@1
  int v5; // r3@1

  v2 = this;
  v3 = (const char *)tinyxml2::StrPair::GetStr((const tinyxml2::XMLComment *)((char *)a2 + 12));
  tinyxml2::XMLPrinter::PushComment(v2, v3, v4, v5);
  return 1;
}

//----- (00022664) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushDeclaration(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  tinyxml2::XMLPrinter *v4; // r4@1
  const char *v5; // r5@1
  int v7; // [sp+0h] [bp-10h]@1

  v7 = a4;
  v4 = this;
  v5 = a2;
  if ( *((_BYTE *)this + 4) )
    tinyxml2::XMLPrinter::SealElement(this);
  if ( *((_DWORD *)v4 + 4) < 0 && !*((_BYTE *)v4 + 5) && !*((_BYTE *)v4 + 21) )
  {
    tinyxml2::XMLPrinter::Print(v4, "\n");
    tinyxml2::XMLPrinter::PrintSpace(v4, *((_DWORD *)v4 + 3));
  }
  *((_BYTE *)v4 + 5) = 0;
  return j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz(v4, "<?%s?>", v5, v7);
}

//----- (000226B0) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushHeader(int result, int a2, int a3, int a4)
{
  tinyxml2::XMLPrinter *v4; // r4@1
  int v5; // r5@1
  int v6; // [sp+0h] [bp-10h]@1

  v6 = a4;
  v4 = (tinyxml2::XMLPrinter *)result;
  v5 = a3;
  if ( a2 )
    result = tinyxml2::XMLPrinter::Print((tinyxml2::XMLPrinter *)result, "%s", &unk_2C618);
  if ( v5 )
    result = j_j_j__ZN8tinyxml210XMLPrinter15PushDeclarationEPKc(v4, "xml version=\"1.0\"", a3, v6);
  return result;
}

//----- (000226E4) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::VisitEnter(tinyxml2::XMLPrinter *this, const tinyxml2::XMLDocument *a2)
{
  int v2; // r3@1

  v2 = *((_BYTE *)a2 + 45);
  *((_BYTE *)this + 20) = v2;
  if ( *((_BYTE *)a2 + 44) )
    tinyxml2::XMLPrinter::PushHeader(this, 1, 0, v2);
  return 1;
}

//----- (000226FE) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLDeclaration *a2)
{
  tinyxml2::XMLPrinter *v2; // r4@1
  const char *v3; // r0@1
  int v4; // r2@1
  int v5; // r3@1

  v2 = this;
  v3 = (const char *)tinyxml2::StrPair::GetStr((const tinyxml2::XMLDeclaration *)((char *)a2 + 12));
  tinyxml2::XMLPrinter::PushDeclaration(v2, v3, v4, v5);
  return 1;
}

//----- (00022718) --------------------------------------------------------
int __fastcall tinyxml2::XMLPrinter::PushUnknown(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  tinyxml2::XMLPrinter *v4; // r4@1
  const char *v5; // r5@1
  int v7; // [sp+0h] [bp-10h]@1

  v7 = a4;
  v4 = this;
  v5 = a2;
  if ( *((_BYTE *)this + 4) )
    tinyxml2::XMLPrinter::SealElement(this);
  if ( *((_DWORD *)v4 + 4) < 0 && !*((_BYTE *)v4 + 5) && !*((_BYTE *)v4 + 21) )
  {
    tinyxml2::XMLPrinter::Print(v4, "\n");
    tinyxml2::XMLPrinter::PrintSpace(v4, *((_DWORD *)v4 + 3));
  }
  *((_BYTE *)v4 + 5) = 0;
  return j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz(v4, "<!%s>", v5, v7);
}

//----- (00022764) --------------------------------------------------------
signed int __fastcall tinyxml2::XMLPrinter::Visit(tinyxml2::XMLPrinter *this, const tinyxml2::XMLUnknown *a2)
{
  tinyxml2::XMLPrinter *v2; // r4@1
  const char *v3; // r0@1
  int v4; // r2@1
  int v5; // r3@1

  v2 = this;
  v3 = (const char *)tinyxml2::StrPair::GetStr((const tinyxml2::XMLUnknown *)((char *)a2 + 12));
  tinyxml2::XMLPrinter::PushUnknown(v2, v3, v4, v5);
  return 1;
}

//----- (0002277C) --------------------------------------------------------
signed int __fastcall sub_2277C(int a1, int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v4; // r5@1
  unsigned int v5; // r7@1
  int v6; // r10@1
  int v7; // r4@1
  int v8; // r11@2
  unsigned int v9; // r8@7
  int v10; // r9@7
  int v11; // r0@8
  int v12; // r2@9
  int v13; // r1@10
  signed int result; // r0@10
  int v15; // r3@19
  int v16; // r2@19
  int v17; // r0@19
  int v18; // r1@19
  int v19; // r2@37
  int v20; // r0@39
  int v21; // r1@39
  int v22; // r3@39
  unsigned int v23; // r1@40
  unsigned int v24; // r0@40
  int v25; // r1@42
  int v26; // r6@45
  char v27; // r1@45
  int v29; // r0@50
  unsigned int v35; // r0@51
  int v36; // [sp+4h] [bp-34h]@58
  int v37; // [sp+8h] [bp-30h]@6
  int v38; // [sp+Ch] [bp-2Ch]@22
  int v39; // [sp+10h] [bp-28h]@8

  v4 = a4;
  v5 = a3;
  v6 = a2;
  v7 = a1;
  if ( a3 >= a4 )
    goto LABEL_58;
  v8 = 0;
  do
  {
    v9 = v5 + 1;
    v10 = *(_BYTE *)(v6 + (v5 ^ 3));
    if ( !(v10 & 0x80) )
    {
      sub_22FF4(v7, 13, &v39);
      v11 = 4 * v10;
      if ( v10 & 0x40 )
        v12 = -4 - (v11 & 0xFC) + v39;
      else
        v12 = v11 + v39 + 4;
      v39 = v12;
LABEL_23:
      sub_23024(v7, 13, v12);
      ++v5;
      continue;
    }
    v13 = v10 & 0xF0;
    result = 9;
    if ( v13 > 159 )
    {
      if ( v13 > 191 )
      {
        if ( v13 == 192 )
        {
          switch ( v10 )
          {
            case 199:
              if ( !*(_BYTE *)(v6 + (v9 ^ 3)) || (unsigned int)*(_BYTE *)(v6 + (v9 ^ 3)) >= 0x10 )
                return 9;
              goto LABEL_55;
            case 192:
            case 193:
            case 194:
            case 195:
            case 196:
            case 197:
              v18 = 3;
              v16 = ((v10 & 7) + 1) | 0xA0000;
              v17 = v7;
              goto LABEL_33;
            case 200:
            case 201:
              v23 = *(_BYTE *)(v6 + (v9 ^ 3));
              v24 = v23 >> 4;
              if ( v10 == 200 )
                v24 = (v23 >> 4) | 0x10;
              v25 = v23 & 0xF;
              if ( (signed int)(v24 + v25) > 31 )
                return 9;
              v19 = (v25 + 1) | (v24 << 16);
              v20 = v7;
              v21 = 1;
              goto LABEL_53;
            case 198:
              v35 = *(_BYTE *)(v6 + (v9 ^ 3));
              if ( (signed int)((v35 & 0xF) + (v35 >> 4)) > 15 )
                return 9;
              v19 = ((v35 & 0xF) + 1) | (v35 >> 4 << 16);
              v20 = v7;
              v21 = 3;
LABEL_53:
              v22 = 5;
LABEL_54:
              sub_22B64(v20, v21, v19, v22);
              goto LABEL_55;
            default:
              return 9;
          }
          return 9;
        }
        if ( v13 != 208 )
          return result;
        if ( v10 & 8 )
          return 9;
        v18 = 1;
        v16 = ((v10 & 7) + 1) | 0x80000;
        v17 = v7;
LABEL_33:
        v15 = 5;
      }
      else
      {
        if ( v13 != 160 )
        {
          if ( v13 != 176 )
            return result;
          result = 9;
          switch ( v10 )
          {
            case 177:
              if ( v9 >= v4 )
                return 9;
              v19 = *(_BYTE *)(v6 + (v9 ^ 3));
              result = 9;
              if ( !*(_BYTE *)(v6 + (v9 ^ 3)) || v19 & 0xF0 )
                return result;
              v20 = v7;
              v21 = 0;
              v22 = 0;
              goto LABEL_54;
            case 178:
              if ( v9 >= v4 )
                return 9;
              v5 += 2;
              v26 = 0;
              v27 = 0;
              break;
            case 179:
              v22 = 1;
              v29 = *(_BYTE *)(v6 + (v9 ^ 3));
              _R1 = v29 << 12;
              __asm { UXTB16.W        R1, R1 }
              v19 = ((v29 & 0xF) + 1) | _R1;
              v20 = v7;
              v21 = 1;
              goto LABEL_54;
            case 176:
              goto LABEL_57;
            case 180:
            case 181:
            case 182:
            case 183:
              return result;
            default:
              v18 = 1;
              v15 = 1;
              v16 = ((v10 & 7) + 1) | 0x80000;
              v17 = v7;
              goto LABEL_34;
          }
          while ( 1 )
          {
            v26 |= (*(_BYTE *)(v6 + ((v5 - 1) ^ 3)) & 0x7F) << v27;
            if ( !(*(_BYTE *)(v6 + ((v5 - 1) ^ 3)) & 0x80) )
              break;
            _CF = v5 >= v4;
            v27 += 7;
            result = 9;
            ++v5;
            if ( _CF )
              return result;
          }
          sub_22FF4(v7, 13, &v37);
          v37 += 4 * v26 + 516;
          sub_23024(v7, 13, v37);
          continue;
        }
        v15 = 0;
        v16 = ((16 << ((*(_BYTE *)(v6 + (v5 ^ 3)) & 7) + 1)) - 16) | (*(_BYTE *)(v6 + (v5 ^ 3)) << 11) & 0x4000;
        v17 = v7;
        v18 = 0;
      }
LABEL_34:
      sub_22B64(v17, v18, v16, v15);
      ++v5;
      continue;
    }
    if ( v13 != 128 )
    {
      if ( v13 != 144 )
        return result;
      if ( (v10 & 0xF | 2) == 15 )
        return 9;
      sub_22FF4(v7, v10 & 0xF, &v38);
      v12 = v38;
      goto LABEL_23;
    }
    if ( v9 >= v4 || !((unsigned __int16)((_WORD)v10 << 12) | 16 * *(_BYTE *)(v6 + ((v5 + 1) ^ 3))) )
      return 9;
    sub_22B64(v7, 0, (unsigned __int16)((_WORD)v10 << 12) | 16 * *(_BYTE *)(v6 + (v9 ^ 3)), 0);
    v8 |= (((_WORD)v10 << 12) & 0x8000u) >> 15;
LABEL_55:
    v5 += 2;
  }
  while ( v5 < v4 );
LABEL_57:
  if ( v8 & 1 )
    return 8;
LABEL_58:
  sub_22FF4(v7, 14, &v36);
  sub_23024(v7, 15, v36);
  return 8;
}

//----- (00022AC0) --------------------------------------------------------
signed int __fastcall sub_22AC0(int a1, int a2, unsigned int a3, int a4, int *a5)
{
  int v5; // r5@1
  int v6; // r4@1
  signed int result; // r0@2
  int v8; // r2@4
  int v9; // r0@4
  int v10; // r1@4
  __int64 v11; // r2@10
  int v12; // r1@10

  v5 = a3;
  v6 = a1;
  switch ( a2 )
  {
    case 0:
      result = 2;
      if ( a3 > 0xF || a4 )
        return result;
      v8 = *a5;
      v9 = v6;
      v10 = v5;
      goto LABEL_14;
    case 1:
      if ( a4 == 5 )
      {
        if ( a3 <= 0x1F )
          goto LABEL_21;
        return 2;
      }
      if ( a4 != 1 || a3 > 0xF )
        return 2;
      sub_23110(a1);
LABEL_21:
      v11 = *(_QWORD *)a5;
      v12 = v5 + 256;
LABEL_22:
      result = sub_23098(v6, v12, v11, SHIDWORD(v11));
LABEL_23:
      if ( result )
        result = 2;
      return result;
    case 3:
      result = 2;
      if ( a3 > 0x1F || a4 != 5 )
        return result;
      v11 = *(_QWORD *)a5;
      v12 = v5 + 112;
      goto LABEL_22;
    case 4:
      result = 2;
      if ( a3 > 3 || a4 )
        return result;
      v8 = *a5;
      v10 = v5 + 192;
      v9 = v6;
LABEL_14:
      result = sub_23024(v9, v10, v8);
      goto LABEL_23;
    default:
      sub_22E98(
        (int)"_Unwind_VRS_Result _Unwind_VRS_Set(_Unwind_Context *, _Unwind_VRS_RegClass, uint32_t, _Unwind_VRS_DataRepre"
             "sentation, void *)",
        831,
        (int)"unsupported register class");
      return result;
  }
}

//----- (00022B64) --------------------------------------------------------
signed int __fastcall sub_22B64(int a1, int a2, unsigned int a3, int a4)
{
  int v4; // r5@1
  int v5; // r7@1
  unsigned int v6; // r6@1
  int v7; // r8@1
  int v8; // r4@4
  unsigned int v9; // r7@4
  int *v10; // r0@6
  signed int v11; // r0@6
  signed int v12; // r1@6
  signed int v13; // r2@6
  signed int result; // r0@14
  unsigned int v15; // r4@18
  unsigned int v16; // r6@18
  int v17; // r0@19
  int v18; // r2@19
  int v19; // r0@19
  int v20; // r2@22
  int v21; // [sp+8h] [bp-38h]@19
  int v22; // [sp+Ch] [bp-34h]@19
  int v23; // [sp+14h] [bp-2Ch]@16
  int v24; // [sp+18h] [bp-28h]@6
  int *v25; // [sp+1Ch] [bp-24h]@3

  v4 = a2;
  v5 = a4;
  v6 = a3;
  v7 = a1;
  switch ( a2 )
  {
    case 0:
    case 4:
      if ( a4 || sub_22FF4(a1, 13, &v25) )
        return 2;
      v8 = 0;
      v9 = 0;
      do
      {
        if ( (1 << v9) & v6 )
        {
          v10 = v25;
          ++v25;
          v24 = *v10;
          v11 = sub_22AC0(v7, v4, v9, 0, &v24);
          v12 = 0;
          v13 = 0;
          if ( v9 == 13 )
            v12 = 1;
          if ( !v4 )
            v13 = 1;
          if ( v11 )
            return 2;
          v8 |= v13 & v12;
        }
        ++v9;
      }
      while ( v9 < 0x10 );
      if ( v8 & 1 )
        return 0;
      v20 = (int)v25;
      goto LABEL_28;
    case 1:
    case 3:
      if ( (a4 | 4) != 5 || sub_22FF4(a1, 13, &v23) )
        return 2;
      if ( !(_WORD)v6 )
        goto LABEL_21;
      v15 = v6 >> 16;
      v16 = (v6 >> 16) + v6;
      break;
    default:
      sub_22E98(
        (int)"_Unwind_VRS_Result _Unwind_VRS_Pop(_Unwind_Context *, _Unwind_VRS_RegClass, uint32_t, _Unwind_VRS_DataRepresentation)",
        965,
        (int)"unsupported register class");
      return result;
  }
  do
  {
    v17 = v23;
    v23 += 4;
    v18 = *(_DWORD *)v17;
    v23 = v17 + 8;
    v19 = *(_DWORD *)(v17 + 4);
    v21 = v18;
    v22 = v19;
    if ( sub_22AC0(v7, v4, v15, v5, &v21) )
      return 2;
    ++v15;
  }
  while ( v15 < v16 );
LABEL_21:
  if ( v5 == 1 )
  {
    v20 = v23 + 4;
    v23 += 4;
  }
  else
  {
    v20 = v23;
  }
LABEL_28:
  result = sub_23024(v7, 13, v20);
  if ( result )
    result = 2;
  return result;
}

//----- (00022C88) --------------------------------------------------------
signed int __fastcall sub_22C88(int a1, int a2, int a3)
{
  int v3; // r0@1
  int v4; // r1@1
  unsigned int *v5; // r12@1
  int v6; // r3@1
  unsigned int v7; // r3@4
  unsigned int v8; // r2@4

  v3 = a2;
  v4 = a3;
  v5 = *(unsigned int **)(v3 + 76);
  v6 = (*v5 >> 24) & 0xF;
  if ( v6 )
  {
    if ( v6 != 1 && v6 != 3 )
      return 9;
    v7 = 4 * ((*v5 >> 16) & 0xFF) + 4;
    v8 = 2;
  }
  else
  {
    v8 = 1;
    v7 = 4;
  }
  if ( !v5 || !(*(_BYTE *)(v3 + 80) & 1) && *(unsigned int *)((char *)v5 + v7) )
    return 9;
  return sub_2277C(v4, (int)v5, v8, v7);
}

//----- (00022CDC) --------------------------------------------------------
void sub_22CDC()
{
  JUMPOUT(&loc_22C90);
}

//----- (00022CE4) --------------------------------------------------------
void sub_22CE4()
{
  JUMPOUT(&loc_22C90);
}

//----- (00022D80) --------------------------------------------------------
signed int __fastcall sub_22D80(int a1, int a2, char a3)
{
  int v3; // r4@1
  char v4; // r10@1
  signed int i; // r6@1
  signed int v6; // r7@3
  int v7; // r0@8
  int (__fastcall *v8)(signed int, int, char *); // r3@11
  int v9; // r0@12
  int v11; // [sp+0h] [bp-4B0h]@17
  int v12; // [sp+4h] [bp-4ACh]@10
  int (__fastcall *v13)(signed int, int, char *); // [sp+10h] [bp-4A0h]@11
  int v14; // [sp+18h] [bp-498h]@12
  int v15; // [sp+24h] [bp-48Ch]@12
  int v16; // [sp+2Ch] [bp-484h]@10
  char v17; // [sp+30h] [bp-480h]@1

  v3 = a2;
  v4 = a3;
  sub_22FA4((int)&v17);
  for ( i = 1; ; --i )
  {
    v6 = 1;
    if ( v4 & 1 )
    {
      v6 = 2;
      if ( !i )
      {
        sub_23024((int)&v17, -1, *(_DWORD *)(v3 + 16));
        v4 = 0;
      }
    }
    v7 = sub_230D0((int)&v17);
    if ( !v7 )
      break;
    if ( v7 < 0 )
      return 2;
    sub_22FF4((int)&v17, -2, &v16);
    if ( sub_230D8((int)&v17, (int)&v12) )
      return 2;
    v8 = v13;
    if ( v13 )
    {
      *(_DWORD *)(v3 + 72) = v12;
      *(_DWORD *)(v3 + 76) = v15;
      *(_DWORD *)(v3 + 80) = v14;
      v9 = v8(v6, v3, &v17);
      if ( v9 == 7 )
      {
        sub_22FF4((int)&v17, -1, &v11);
        *(_DWORD *)(v3 + 16) = v11;
        sub_230F8((int)&v17);
        return 2;
      }
      if ( v9 == 9 )
        abort();
      if ( v9 != 8 )
        return 2;
      if ( v16 == *(_DWORD *)(v3 + 32) )
        sub_22E98(
          (int)"_Unwind_Reason_Code unwind_phase2(unw_context_t *, _Unwind_Exception *, bool)",
          642,
          (int)"during phase1 personality function said it would stop here, but now in phase2 it did not stop here");
    }
  }
  return 5;
}

//----- (00022E98) --------------------------------------------------------
void __fastcall sub_22E98(int a1, int a2, int a3)
{
  fprintf((FILE *)stderr, "libunwind: %s %s:%d - %s\n", a1, "external/libcxxabi/src/Unwind/Unwind-EHABI.cpp", a2, a3);
  abort();
}

//----- (00022F1C) --------------------------------------------------------
int __fastcall sub_22F1C(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // r4@0
  int v6; // r5@0
  int v7; // r6@0
  int v8; // r7@0
  int v9; // r8@0
  int v10; // r9@0
  int v11; // r10@0
  int v12; // r11@0
  int v13; // r12@0
  int v14; // lr@0

  *(_DWORD *)a1 = a1;
  *(_DWORD *)(a1 + 4) = a2;
  *(_DWORD *)(a1 + 8) = a3;
  *(_DWORD *)(a1 + 12) = a4;
  *(_DWORD *)(a1 + 16) = v5;
  *(_DWORD *)(a1 + 20) = v6;
  *(_DWORD *)(a1 + 24) = v7;
  *(_DWORD *)(a1 + 28) = v8;
  *(_DWORD *)(a1 + 32) = v9;
  *(_DWORD *)(a1 + 36) = v10;
  *(_DWORD *)(a1 + 40) = v11;
  *(_DWORD *)(a1 + 44) = v12;
  *(_DWORD *)(a1 + 48) = v13;
  *(_DWORD *)(a1 + 52) = &a5;
  *(_DWORD *)(a1 + 56) = v14;
  *(_DWORD *)(a1 + 60) = v14;
  return 0;
}

//----- (00022F34) --------------------------------------------------------
int __fastcall sub_22F34(int _R0)
{
  int result; // r0@1

  __asm { VSTMIA          R0, {D0-D15} }
  return result;
}

//----- (00022F3C) --------------------------------------------------------
int __fastcall sub_22F3C(int _R0)
{
  int result; // r0@1

  __asm { VSTMIA          R0, {D0-D15} }
  return result;
}

//----- (00022F44) --------------------------------------------------------
int __fastcall sub_22F44(int _R0)
{
  int result; // r0@1

  __asm { VSTMIA          R0, {D16-D31} }
  return result;
}

//----- (00022F4C) --------------------------------------------------------
void sub_22F4C()
{
  __asm
  {
    STCL            p1, c0, [R0],#8
    STCL            p1, c1, [R0],#8
    STCL            p1, c2, [R0],#8
    STCL            p1, c3, [R0],#8
    STCL            p1, c4, [R0],#8
    STCL            p1, c5, [R0],#8
    STCL            p1, c6, [R0],#8
    STCL            p1, c7, [R0],#8
    STCL            p1, c8, [R0],#8
    STCL            p1, c9, [R0],#8
    STCL            p1, c10, [R0],#8
    STCL            p1, c11, [R0],#8
    STCL            p1, c12, [R0],#8
    STCL            p1, c13, [R0],#8
    STCL            p1, c14, [R0],#8
    STCL            p1, c15, [R0],#8
  }
}

//----- (00022F90) --------------------------------------------------------
void sub_22F90()
{
  __asm
  {
    STC2            p1, c8, [R0],#4
    STC2            p1, c9, [R0],#4
    STC2            p1, c10, [R0],#4
    STC2            p1, c11, [R0],#4
  }
}

//----- (00022FA4) --------------------------------------------------------
int __fastcall sub_22FA4(int a1)
{
  int v1; // r4@1

  v1 = a1;
  *(_DWORD *)a1 = &off_2DC2C;
  *(_DWORD *)(a1 + 4) = &unk_2FD20;
  *(_BYTE *)(a1 + 76) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  _aeabi_memcpy(a1 + 8);
  _aeabi_memset(v1 + 80, 450, 0);
  sub_23528(v1, 0);
  return 0;
}
// F840: using guessed type int __fastcall _aeabi_memcpy(_DWORD);
// F84C: using guessed type int __fastcall _aeabi_memset(_DWORD, _DWORD, _DWORD);
// 2DC2C: using guessed type void *;

//----- (00022FF4) --------------------------------------------------------
signed int __fastcall sub_22FF4(int a1, int a2, _DWORD *a3)
{
  int v3; // r6@1
  _DWORD *v4; // r4@1
  int v5; // r5@1
  signed int result; // r0@2

  v3 = a1;
  v4 = a3;
  v5 = a2;
  if ( (*(int (**)(void))(*(_DWORD *)a1 + 8))() == 1 )
  {
    *v4 = (*(int (__fastcall **)(int, int))(*(_DWORD *)v3 + 12))(v3, v5);
    result = 0;
  }
  else
  {
    result = -6542;
  }
  return result;
}

//----- (00023024) --------------------------------------------------------
signed int __fastcall sub_23024(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r6@1
  int v5; // r5@1
  signed int v6; // r5@3

  v3 = a1;
  v4 = a3;
  v5 = a2;
  if ( (*(int (**)(void))(*(_DWORD *)a1 + 8))() == 1 )
  {
    (*(void (__fastcall **)(int, int, int))(*(_DWORD *)v3 + 16))(v3, v5, v4);
    if ( v5 == -1 )
    {
      v6 = 0;
      (*(void (__fastcall **)(int, _DWORD))(*(_DWORD *)v3 + 52))(v3, 0);
    }
    else
    {
      v6 = 0;
    }
  }
  else
  {
    v6 = -6542;
  }
  return v6;
}

//----- (00023068) --------------------------------------------------------
signed int __fastcall sub_23068(int a1, int a2, _QWORD *a3)
{
  int v3; // r6@1
  _QWORD *v4; // r4@1
  int v5; // r5@1
  __int64 v6; // r0@2
  signed int result; // r0@2

  v3 = a1;
  v4 = a3;
  v5 = a2;
  if ( (*(int (**)(void))(*(_DWORD *)a1 + 20))() == 1 )
  {
    LODWORD(v6) = (*(int (__fastcall **)(int, int))(*(_DWORD *)v3 + 24))(v3, v5);
    *v4 = v6;
    result = 0;
  }
  else
  {
    result = -6542;
  }
  return result;
}

//----- (00023098) --------------------------------------------------------
signed int __fastcall sub_23098(int a1, int a2, int a3, int a4)
{
  int v4; // r7@1
  int v5; // r5@1
  int v6; // r6@1
  int v7; // r8@1
  signed int result; // r0@2

  v4 = a1;
  v5 = a3;
  v6 = a2;
  v7 = a4;
  if ( (*(int (**)(void))(*(_DWORD *)a1 + 20))() == 1 )
  {
    (*(void (__fastcall **)(int, int, int, int))(*(_DWORD *)v4 + 28))(v4, v6, v5, v7);
    result = 0;
  }
  else
  {
    result = -6542;
  }
  return result;
}

//----- (000230D0) --------------------------------------------------------
int __fastcall sub_230D0(int a1)
{
  return (*(int (**)(void))(*(_DWORD *)a1 + 32))();
}

//----- (000230D8) --------------------------------------------------------
signed int __fastcall sub_230D8(int a1, int a2)
{
  int v2; // r4@1
  signed int result; // r0@1

  v2 = a2;
  (*(void (**)(void))(*(_DWORD *)a1 + 36))();
  result = 0;
  if ( !*(_DWORD *)(v2 + 4) )
    result = -6549;
  return result;
}

//----- (000230F8) --------------------------------------------------------
signed int __fastcall sub_230F8(int a1)
{
  (*(void (**)(void))(*(_DWORD *)a1 + 40))();
  return -6540;
}

//----- (00023110) --------------------------------------------------------
int __fastcall sub_23110(int a1)
{
  return (*(int (**)(void))(*(_DWORD *)a1 + 60))();
}

//----- (00023120) --------------------------------------------------------
int __fastcall sub_23120(int a1, int a2)
{
  signed int v2; // r2@1
  bool v3; // zf@1
  signed int v4; // r0@1
  unsigned int v5; // r1@1

  v2 = 0;
  v3 = (a2 & 0xFFFFFFFC) == 192;
  v4 = 0;
  v5 = a2 - 16;
  if ( v3 )
    v4 = 1;
  if ( v5 > 0xFFFFFFED )
    v2 = 1;
  return v4 | v2;
}

//----- (00023144) --------------------------------------------------------
int __fastcall sub_23144(int a1, signed int a2)
{
  signed int v2; // r5@1
  int v3; // r4@1
  int v4; // r0@7

  v2 = a2;
  v3 = a1;
  if ( a2 >= -1 )
  {
    if ( a2 > 13 )
    {
      if ( a2 == 14 )
      {
        v4 = a1 + 64;
        return *(_DWORD *)v4;
      }
      if ( a2 != 15 )
        goto LABEL_12;
    }
    else if ( a2 != -1 )
    {
      if ( a2 != 13 )
        goto LABEL_12;
LABEL_7:
      v4 = a1 + 60;
      return *(_DWORD *)v4;
    }
    v4 = a1 + 68;
    return *(_DWORD *)v4;
  }
  if ( a2 == -2 )
    goto LABEL_7;
LABEL_12:
  if ( (unsigned int)a2 > 0xC )
  {
    if ( (a2 & 0xFFFFFFFC) != 192 )
      sub_23584(
        (int)"uint32_t libunwind::Registers_arm::getRegister(int)",
        (int)"external/libcxxabi/src/Unwind/Registers.hpp",
        1452,
        (int)"unsupported arm register");
    if ( !*(_BYTE *)(a1 + 76) )
    {
      *(_BYTE *)(a1 + 76) = 1;
      sub_22F90();
    }
    v4 = v3 + 4 * v2 - 296;
  }
  else
  {
    v4 = a1 + 4 * a2 + 8;
  }
  return *(_DWORD *)v4;
}

//----- (000231E0) --------------------------------------------------------
int __fastcall sub_231E0(int result, signed int a2, int a3)
{
  signed int v3; // r6@1
  int v4; // r4@1
  int v5; // r5@1

  v3 = a2;
  v4 = a3;
  v5 = result;
  if ( a2 >= -1 )
  {
    if ( a2 > 13 )
    {
      if ( a2 == 14 )
      {
        *(_DWORD *)(result + 64) = a3;
        return result;
      }
      if ( a2 != 15 )
        goto LABEL_12;
    }
    else if ( a2 != -1 )
    {
      if ( a2 != 13 )
        goto LABEL_12;
LABEL_7:
      *(_DWORD *)(result + 60) = a3;
      return result;
    }
    *(_DWORD *)(result + 68) = a3;
    return result;
  }
  if ( a2 == -2 )
    goto LABEL_7;
LABEL_12:
  if ( (unsigned int)a2 > 0xC )
  {
    if ( (a2 & 0xFFFFFFFC) != 192 )
      sub_23584(
        (int)"void libunwind::Registers_arm::setRegister(int, uint32_t)",
        (int)"external/libcxxabi/src/Unwind/Registers.hpp",
        1471,
        (int)"unsupported arm register");
    if ( !*(_BYTE *)(result + 76) )
    {
      *(_BYTE *)(result + 76) = 1;
      sub_22F90();
    }
    result = v5 + 4 * v3;
    *(_DWORD *)(result - 296) = v4;
  }
  else
  {
    result += 4 * a2;
    *(_DWORD *)(result + 8) = a3;
  }
  return result;
}

//----- (00023278) --------------------------------------------------------
int __fastcall sub_23278(int a1, int a2)
{
  signed int v2; // r2@1
  bool v3; // zf@1
  signed int v4; // r0@1
  unsigned int v5; // r1@1

  v2 = 0;
  v3 = (a2 & 0xFFFFFFF0) == 112;
  v4 = 0;
  v5 = a2 & 0xFFFFFFE0;
  if ( v3 )
    v4 = 1;
  if ( v5 == 256 )
    v2 = 1;
  return v4 | v2;
}

//----- (0002329C) --------------------------------------------------------
__int64 __fastcall sub_2329C(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r5@1
  unsigned int v4; // r0@1
  int v5; // r0@5
  int v6; // r0@11

  v2 = a2;
  v3 = a1;
  v4 = a2 & 0xFFFFFFF0;
  if ( (a2 & 0xFFFFFFF0) == 112 )
  {
    if ( !*(_BYTE *)(v3 + 75) )
    {
      *(_BYTE *)(v3 + 75) = 1;
      sub_22F4C();
    }
    v5 = v3 + 8 * v2 - 552;
  }
  else if ( v4 == 272 )
  {
    if ( !*(_BYTE *)(v3 + 74) )
    {
      *(_BYTE *)(v3 + 74) = 1;
      sub_22F44(v3 + 216);
    }
    v5 = v3 + 8 * v2 - 1960;
  }
  else
  {
    if ( v4 != 256 )
      sub_23584(
        (int)"unw_fpreg_t libunwind::Registers_arm::getFloatRegister(int)",
        (int)"external/libcxxabi/src/Unwind/Registers.hpp",
        1673,
        (int)"Unknown ARM float register");
    if ( !*(_BYTE *)(v3 + 73) )
    {
      *(_BYTE *)(v3 + 73) = 1;
      v6 = v3 + 80;
      if ( *(_BYTE *)(v3 + 72) )
        sub_22F3C(v6);
      else
        sub_22F34(v6);
    }
    v5 = v3 + 8 * v2 - 1968;
  }
  return *(_QWORD *)v5;
}

//----- (0002334C) --------------------------------------------------------
int __fastcall sub_2334C(int a1, int a2, int a3, int a4)
{
  int v4; // r6@1
  int v5; // r7@1
  unsigned int v6; // r0@1
  int v7; // r5@1
  int v8; // r4@1
  int result; // r0@5
  int v10; // r1@5
  int v11; // r0@11

  v4 = a2;
  v5 = a1;
  v6 = a2 & 0xFFFFFFF0;
  v7 = a4;
  v8 = a3;
  if ( (a2 & 0xFFFFFFF0) == 112 )
  {
    if ( !*(_BYTE *)(v5 + 75) )
    {
      *(_BYTE *)(v5 + 75) = 1;
      sub_22F4C();
    }
    result = v5 + 8 * v4;
    *(_DWORD *)(result - 548) = v7;
    LOWORD(v10) = -552;
  }
  else if ( v6 == 272 )
  {
    if ( !*(_BYTE *)(v5 + 74) )
    {
      *(_BYTE *)(v5 + 74) = 1;
      sub_22F44(v5 + 216);
    }
    result = v5 + 8 * v4;
    *(_DWORD *)(result - 1828) = v7;
    LOWORD(v10) = -1832;
  }
  else
  {
    if ( v6 != 256 )
      sub_23584(
        (int)"void libunwind::Registers_arm::setFloatRegister(int, unw_fpreg_t)",
        (int)"external/libcxxabi/src/Unwind/Registers.hpp",
        1700,
        (int)"Unknown ARM float register");
    if ( !*(_BYTE *)(v5 + 73) )
    {
      *(_BYTE *)(v5 + 73) = 1;
      v11 = v5 + 80;
      if ( *(_BYTE *)(v5 + 72) )
        sub_22F3C(v11);
      else
        sub_22F34(v11);
    }
    result = v5 + 8 * v4;
    *(_DWORD *)(result - 1964) = v7;
    LOWORD(v10) = -1968;
  }
  HIWORD(v10) = -1;
  *(_DWORD *)(result + v10) = v8;
  return result;
}

//----- (00023420) --------------------------------------------------------
signed int __fastcall sub_23420(int a1)
{
  int v1; // r4@1
  signed int result; // r0@3
  void (__fastcall *v3)(int, signed int, int); // r5@5
  int v4; // r0@5

  v1 = a1;
  if ( *(_BYTE *)(a1 + 528)
    || ((*(void (__fastcall **)(int, signed int))(*(_DWORD *)a1 + 52))(a1, 1), *(_BYTE *)(v1 + 528)) )
  {
    result = 0;
  }
  else
  {
    if ( *(_DWORD *)(v1 + 504) )
    {
      v3 = *(void (__fastcall **)(int, signed int, int))(*(_DWORD *)v1 + 16);
      v4 = (*(int (__fastcall **)(int, signed int))(*(_DWORD *)v1 + 12))(v1, -2);
      v3(v1, -2, *(_DWORD *)(v1 + 504) + v4);
    }
    result = 1;
  }
  return result;
}

//----- (0002346C) --------------------------------------------------------
int __fastcall sub_2346C(int a1, int a2)
{
  int v2; // r3@1
  int v3; // r4@1
  int v4; // r5@1
  int v5; // r12@1
  int v6; // lr@1
  int v7; // r4@1
  int v8; // r2@1
  int v9; // r3@1
  int v10; // r5@1
  int result; // r0@1

  v2 = *(_DWORD *)(a1 + 504);
  v3 = *(_DWORD *)(a1 + 496);
  v4 = *(_DWORD *)(a1 + 500);
  v5 = *(_DWORD *)(a1 + 488);
  v6 = *(_DWORD *)(a1 + 492);
  *(_DWORD *)(a2 + 20) = *(_DWORD *)(a1 + 508);
  *(_DWORD *)(a2 + 16) = v2;
  *(_DWORD *)(a2 + 12) = v4;
  *(_DWORD *)(a2 + 8) = v3;
  v7 = a2 + 24;
  *(_DWORD *)a2 = v5;
  *(_DWORD *)(a2 + 4) = v6;
  v8 = *(_DWORD *)(a1 + 512);
  v9 = *(_DWORD *)(a1 + 516);
  v10 = *(_DWORD *)(a1 + 520);
  result = *(_DWORD *)(a1 + 524);
  *(_DWORD *)(a2 + 36) = result;
  *(_DWORD *)v7 = v8;
  *(_DWORD *)(v7 + 4) = v9;
  *(_DWORD *)(v7 + 8) = v10;
  return result;
}

//----- (000234AC) --------------------------------------------------------
void __fastcall sub_234AC(int a1)
{
  sub_235B8(a1 + 8);
  sub_24DDC();
}

//----- (000234C4) --------------------------------------------------------
int __fastcall sub_234C4(int a1)
{
  return *(_BYTE *)(a1 + 529);
}

//----- (000234CC) --------------------------------------------------------
signed int __fastcall sub_234CC(int a1, int a2, int a3, _DWORD *a4)
{
  int v4; // r6@1
  int v5; // r5@1
  _DWORD *v6; // r4@1
  int v7; // r7@1
  signed int result; // r0@3
  int v9; // [sp+10h] [bp-20h]@2
  int v10; // [sp+14h] [bp-1Ch]@3

  v4 = a2;
  v5 = a3;
  v6 = a4;
  v7 = (*(int (**)(void))(*(_DWORD *)a1 + 12))();
  if ( dladdr() && v9 )
  {
    _snprintf_chk(v4, v5, 0, -1);
    *v6 = v7 - v10;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// F858: using guessed type int dladdr(void);
// F864: using guessed type int __fastcall _snprintf_chk(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00023528) --------------------------------------------------------
int __fastcall sub_23528(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r6@1
  unsigned int v4; // r5@1
  int result; // r0@5
  int v6; // [sp+4h] [bp-1Ch]@3
  int v7; // [sp+8h] [bp-18h]@3
  int v8; // [sp+Ch] [bp-14h]@1

  v2 = a1;
  v3 = a2;
  v4 = (*(int (**)(void))(*(_DWORD *)a1 + 12))() & 0xFFFFFFFE;
  v8 = 0;
  if ( v3 )
    --v4;
  v6 = _gnu_Unwind_Find_exidx(v4, &v8);
  v7 = v8;
  if ( !v6 || !v8 || (result = ((int (__fastcall *)(int, unsigned int, int *))sub_23608)(v2, v4, &v6)) == 0 )
  {
    result = 1;
    *(_BYTE *)(v2 + 528) = 1;
  }
  return result;
}
// F870: using guessed type int __fastcall _gnu_Unwind_Find_exidx(_DWORD, _DWORD);
// 23608: using guessed type int sub_23608();

//----- (00023574) --------------------------------------------------------
const char *__fastcall sub_23574(int a1, signed int a2)
{
  const char *result; // r0@2
  signed int v3; // r0@3
  int *v4; // r1@3

  if ( a2 > 255 )
  {
    switch ( a2 )
    {
      case 256:
        v3 = -16737;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 257:
        v3 = -16734;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 258:
        v3 = -16731;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 259:
        v3 = -16728;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 260:
        v3 = -16725;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 261:
        v3 = -16722;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 262:
        v3 = -16719;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 263:
        v3 = -16716;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 264:
        v3 = -16713;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 265:
        v3 = -16710;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 266:
        v3 = -16707;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 267:
        v3 = -16703;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 268:
        v3 = -16699;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 269:
        v3 = -16695;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 270:
        v3 = -16691;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 271:
        v3 = -16687;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 272:
        v3 = -16683;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 273:
        v3 = -16679;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 274:
        v3 = -16675;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 275:
        v3 = -16671;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 276:
        v3 = -16667;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 277:
        v3 = -16663;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 278:
        v3 = -16659;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 279:
        v3 = -16655;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 280:
        v3 = -16651;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 281:
        v3 = -16647;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 282:
        v3 = -16643;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 283:
        v3 = -16639;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 284:
        v3 = -16635;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 285:
        v3 = -16631;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 286:
        v3 = -16627;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 287:
        v3 = -16623;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      default:
def_238E4:
        v3 = -16619;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
    }
  }
  else
  {
    result = "pc";
    switch ( a2 + 2 )
    {
      case 0:
      case 15:
        v3 = -16900;
        v4 = &GLOBAL_OFFSET_TABLE_;
        return (char *)v4 + v3;
      default:
        goto def_238E4;
      case 1:
      case 17:
        return result;
      case 2:
        v3 = -16897;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 3:
        v3 = -16894;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 4:
        v3 = -16891;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 5:
        v3 = -16888;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 6:
        v3 = -16885;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 7:
        v3 = -16882;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 8:
        v3 = -16879;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 9:
        v3 = -16876;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 10:
        v3 = -16873;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 11:
        v3 = -16870;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 12:
        v3 = -16867;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 13:
        v3 = -16863;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 14:
        v3 = -16859;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 16:
        v3 = -16903;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 66:
        v3 = -16855;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 67:
        v3 = -16852;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 68:
        v3 = -16849;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 69:
        v3 = -16846;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 70:
        v3 = -16843;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 71:
        v3 = -16840;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 72:
        v3 = -16837;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 73:
        v3 = -16834;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 74:
        v3 = -16831;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 75:
        v3 = -16828;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 76:
        v3 = -16825;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 77:
        v3 = -16821;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 78:
        v3 = -16817;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 79:
        v3 = -16813;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 80:
        v3 = -16809;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 81:
        v3 = -16805;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 82:
        v3 = -16801;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 83:
        v3 = -16797;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 84:
        v3 = -16793;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 85:
        v3 = -16789;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 86:
        v3 = -16785;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 87:
        v3 = -16781;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 88:
        v3 = -16777;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 89:
        v3 = -16773;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 90:
        v3 = -16769;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 91:
        v3 = -16765;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 92:
        v3 = -16761;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 93:
        v3 = -16757;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 94:
        v3 = -16753;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 95:
        v3 = -16749;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 96:
        v3 = -16745;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
      case 97:
        v3 = -16741;
        v4 = &GLOBAL_OFFSET_TABLE_;
        break;
    }
  }
  return (char *)v4 + v3;
}
// 2E744: using guessed type int GLOBAL_OFFSET_TABLE_;

//----- (0002357C) --------------------------------------------------------
int __fastcall sub_2357C(int result)
{
  *(_BYTE *)(result + 72) = 1;
  return result;
}

//----- (00023584) --------------------------------------------------------
void __fastcall sub_23584(int a1, int a2, int a3, int a4)
{
  fprintf((FILE *)stderr, "libunwind: %s %s:%d - %s\n", a1, a2, a3, a4);
  abort();
}

//----- (000235B8) --------------------------------------------------------
int __fastcall sub_235B8(int a1)
{
  int v1; // r4@1
  int v2; // r0@2
  int result; // r0@9

  v1 = a1;
  if ( *(_BYTE *)(a1 + 65) )
  {
    v2 = a1 + 72;
    if ( *(_BYTE *)(v1 + 64) )
      sub_23E8C(v2);
    else
      sub_23E84(v2);
  }
  if ( *(_BYTE *)(v1 + 66) )
    sub_23E94(v1 + 208);
  if ( *(_BYTE *)(v1 + 67) )
    sub_23E9C((_DWORD *)(v1 + 336));
  result = *(_BYTE *)(v1 + 68);
  if ( *(_BYTE *)(v1 + 68) )
    result = sub_24DEC((_DWORD *)(v1 + 464));
  return result;
}

//----- (00023798) --------------------------------------------------------
int __fastcall sub_23798(int result, int a2, int a3, _DWORD *a4, int a5, int a6, int a7, _DWORD *a8)
{
  unsigned int v8; // r4@1
  unsigned int v9; // r5@2
  int v10; // r6@3

  v8 = a5 - a2;
  while ( 1 )
  {
    v9 = v8;
    if ( !v8 )
      break;
    v10 = a2 + (v8 >> 1);
    v8 >>= 1;
    if ( *a8 >= *a4 + 8 * v10 + (2 * *(_DWORD *)(*a4 + 8 * v10) & 0x80000000 | *(_DWORD *)(*a4 + 8 * v10)) )
    {
      v8 = v9 - 1 - v8;
      a2 = v10 + 1;
    }
  }
  *(_DWORD *)result = a2;
  *(_DWORD *)(result + 4) = a3;
  *(_DWORD *)(result + 8) = a4;
  return result;
}

//----- (00023E84) --------------------------------------------------------
int __fastcall sub_23E84(int _R0)
{
  int result; // r0@1

  __asm { VLDMIA          R0, {D0-D15} }
  return result;
}

//----- (00023E8C) --------------------------------------------------------
int __fastcall sub_23E8C(int _R0)
{
  int result; // r0@1

  __asm { VLDMIA          R0, {D0-D15} }
  return result;
}

//----- (00023E94) --------------------------------------------------------
int __fastcall sub_23E94(int _R0)
{
  int result; // r0@1

  __asm { VLDMIA          R0, {D16-D31} }
  return result;
}

//----- (00023E9C) --------------------------------------------------------
int __fastcall sub_23E9C(_DWORD *a1)
{
  int *v5; // r0@1
  int result; // r0@1

  _T1 = *a1;
  v5 = a1 + 2;
  __asm { LDCL            p1, c0, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c1, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c2, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c3, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c4, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c5, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c6, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c7, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c8, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c9, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c10, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c11, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c12, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c13, [R0],#8 }
  _T1 = *v5;
  v5 += 2;
  __asm { LDCL            p1, c14, [R0],#8 }
  _T1 = *v5;
  result = (int)(v5 + 2);
  __asm { LDCL            p1, c15, [R0],#8 }
  return result;
}

//----- (00023EE0) --------------------------------------------------------
int __fastcall sub_23EE0(_DWORD *a1)
{
  int *v5; // r0@1
  int result; // r0@1

  _T1 = *a1;
  v5 = a1 + 1;
  __asm { LDC2            p1, c8, [R0],#4 }
  _T1 = *v5;
  ++v5;
  __asm { LDC2            p1, c9, [R0],#4 }
  _T1 = *v5;
  ++v5;
  __asm { LDC2            p1, c10, [R0],#4 }
  _T1 = *v5;
  result = (int)(v5 + 1);
  __asm { LDC2            p1, c11, [R0],#4 }
  return result;
}

//----- (00023F30) --------------------------------------------------------
int _aeabi_ldiv0()
{
  return raise(8);
}

//----- (00023F40) --------------------------------------------------------
unsigned int __fastcall _fixunssfdi(int a1, int a2, int a3, unsigned int a4)
{
  int v4; // r0@1
  unsigned int v5; // r1@1
  unsigned int v6; // r0@1
  int v7; // r1@1
  int v8; // r0@1
  int v9; // r0@1
  unsigned int v10; // r1@1
  int v11; // r0@1
  int v12; // r1@1

  v4 = j___extendsfdf2(a1, a2, a3, a4);
  v6 = j___muldf3(v4, v5, 0, 0x3DF00000u);
  v8 = j___fixunsdfsi(v6, v7);
  v9 = j___floatunsidf(v8);
  j___muldf3(v9, v10, 0, 0x41F00000u);
  v11 = j___subdf3();
  return j___fixunsdfsi(v11, v12);
}

//----- (00023FAC) --------------------------------------------------------
signed __int64 __fastcall _gnu_ldivmod_helper(signed __int64 a1, signed __int64 a2, _QWORD *a3)
{
  signed __int64 v3; // r4@1
  signed __int64 result; // r0@1

  v3 = a1;
  result = a1 / a2;
  *a3 = v3 - result * a2;
  return result;
}

//----- (00023FE8) --------------------------------------------------------
unsigned __int64 __fastcall _gnu_uldivmod_helper(unsigned __int64 a1, unsigned __int64 a2, _QWORD *a3)
{
  unsigned __int64 v3; // r6@1
  unsigned __int64 result; // r0@1

  v3 = a1;
  result = a1 / a2;
  *a3 = v3 - result * a2;
  return result;
}

//----- (00024024) --------------------------------------------------------
int __fastcall _aeabi_drsub(__int64 a1, __int64 a2)
{
  HIDWORD(a1) ^= 0x80000000;
  return _aeabi_dadd(a1, a2);
}

//----- (00024030) --------------------------------------------------------
int __fastcall _aeabi_dadd(__int64 a1, __int64 a2)
{
  int v2; // r4@1
  int v3; // r5@1
  bool v4; // zf@1
  signed int v5; // r4@9
  bool v6; // zf@9
  bool v7; // nf@9
  unsigned __int8 v8; // vf@9
  int v9; // r5@9
  __int64 v10; // r2@12
  int v11; // r4@19
  char v12; // lr@19
  unsigned int v13; // r12@20
  __int64 v14; // r0@20
  bool v15; // nf@20
  char v16; // r5@21
  int v17; // t0@26
  int v18; // off@29
  unsigned int v19; // off@29
  unsigned __int8 v20; // cf@30
  int v21; // off@33
  int v22; // r4@33
  bool v23; // zf@34
  unsigned int v24; // r3@36
  int v25; // r3@38
  bool v26; // zf@38
  bool v27; // nf@38
  unsigned __int8 v28; // vf@38
  int v29; // r2@38
  int v30; // r4@46
  int v31; // r4@48
  int v32; // r4@48
  bool v33; // zf@55
  bool v34; // zf@58

  v2 = 2 * HIDWORD(a1);
  v3 = 2 * HIDWORD(a2);
  v4 = 2 * HIDWORD(a1) == 2 * HIDWORD(a2);
  if ( 2 * HIDWORD(a1) == 2 * HIDWORD(a2) )
    v4 = (_DWORD)a1 == (_DWORD)a2;
  if ( !v4 )
  {
    v4 = (v2 | (unsigned int)a1) == 0;
    if ( v2 | (unsigned int)a1 )
    {
      v4 = (v3 | (unsigned int)a2) == 0;
      if ( v3 | (unsigned int)a2 )
      {
        v4 = ~(v2 >> 21) == 0;
        if ( ~(v2 >> 21) )
          v4 = ~(v3 >> 21) == 0;
      }
    }
  }
  if ( v4 )
  {
    v33 = ~(v2 >> 21) == 0;
    if ( ~(v2 >> 21) )
      v33 = ~(v3 >> 21) == 0;
    if ( v33 )
    {
      if ( ~(v2 >> 21) )
        a1 = a2;
    }
    else
    {
      v34 = v2 == v3;
      if ( v2 == v3 )
        v34 = (_DWORD)a1 == (_DWORD)a2;
      if ( v34 )
      {
        if ( HIDWORD(a1) != HIDWORD(a2) )
        {
          LODWORD(a1) = 0;
          return a1;
        }
        if ( !((unsigned int)v2 >> 21) )
        {
          LODWORD(a1) = 2 * a1;
          return a1;
        }
        if ( (unsigned int)v2 < 0xFFC00000 )
          return a1;
        goto LABEL_69;
      }
      if ( !(v2 | (unsigned int)a1) )
        LODWORD(a1) = a2;
    }
  }
  else
  {
    v5 = (unsigned int)v2 >> 21;
    v8 = __OFSUB__((unsigned int)v3 >> 21, v5);
    v9 = ((unsigned int)v3 >> 21) - v5;
    v6 = v9 == 0;
    v7 = v9 < 0;
    if ( (v9 < 0) ^ v8 )
      v9 = -v9;
    if ( !((unsigned __int8)(v7 ^ v8) | v6) )
    {
      v5 += v9;
      v10 = a1 ^ a2;
      a1 ^= v10;
      a2 = a1 ^ v10;
    }
    if ( (unsigned int)v9 <= 0x36 )
    {
      v4 = (HIDWORD(a1) & 0x80000000) == 0;
      HIDWORD(a1) = HIDWORD(a1) & 0xFFFFF | 0x100000;
      if ( !v4 )
      {
        v20 = (unsigned int)a1 <= 0;
        LODWORD(a1) = -(signed int)a1;
        HIDWORD(a1) = -(HIDWORD(a1) + !v20);
      }
      v4 = (HIDWORD(a2) & 0x80000000) == 0;
      HIDWORD(a2) = HIDWORD(a2) & 0xFFFFF | 0x100000;
      if ( !v4 )
      {
        v20 = (unsigned int)a2 <= 0;
        LODWORD(a2) = -(signed int)a2;
        HIDWORD(a2) = -(HIDWORD(a2) + !v20);
      }
      if ( v5 == v9 )
      {
        HIDWORD(a2) ^= 0x100000u;
        if ( v5 )
        {
          --v9;
        }
        else
        {
          HIDWORD(a1) ^= 0x100000u;
          v5 = 1;
        }
      }
      v11 = v5 - 1;
      v12 = 32 - v9;
      if ( v9 > 32 )
      {
        v16 = v9 - 32;
        v13 = HIDWORD(a2) << (v12 + 32);
        if ( (unsigned int)a2 >= 1 )
          v13 |= 2u;
        LODWORD(a1) = a1 + (SHIDWORD(a2) >> v16);
        HIDWORD(a1) += (SHIDWORD(a2) >> 31) + __CFSHR__(HIDWORD(a2), 31);
        v15 = SHIDWORD(a1) < 0;
      }
      else
      {
        v13 = (_DWORD)a2 << v12;
        v14 = a1 + ((unsigned int)a2 >> v9);
        LODWORD(a1) = v14 + (HIDWORD(a2) << v12);
        HIDWORD(a1) += (SHIDWORD(a2) >> v9) + __CFSHR__(HIDWORD(a2), v9);
        v15 = SHIDWORD(a1) < 0;
      }
      if ( v15 )
      {
        v20 = v13 <= 0;
        v13 = -v13;
        v17 = a1 + !v20;
        v20 = (unsigned int)a1 + !v20 <= 0;
        LODWORD(a1) = -v17;
        HIDWORD(a1) = -(HIDWORD(a1) + !v20);
      }
      if ( HIDWORD(a1) >= 0x100000 )
      {
        if ( HIDWORD(a1) < 0x200000 )
          goto LABEL_30;
        v18 = __RCR__(a1, 1);
        LODWORD(a1) = v18;
        v19 = __RCR__(v13, 1);
        v13 = v19;
        if ( (unsigned int)((v11 + 1) << 21) < 0xFFC00000 )
          goto LABEL_30;
LABEL_69:
        LODWORD(a1) = 0;
        return a1;
      }
      v20 = __CFSHL__(v13, 1);
      v13 *= 2;
      v21 = v20 + (_DWORD)a1;
      v20 = __CFADD__(v20, (_DWORD)a1) | __CFADD__((_DWORD)a1, v21);
      LODWORD(a1) = a1 + v21;
      HIDWORD(a1) += v20 + HIDWORD(a1);
      v22 = v11 - 1;
      if ( HIDWORD(a1) & 0x100000 )
      {
LABEL_30:
        v20 = v13 >= 0x80000000;
        if ( v13 == 0x80000000 )
          v20 = a1 & 1;
        LODWORD(a1) = v20 + (_DWORD)a1;
        return a1;
      }
      v23 = HIDWORD(a1) == 0;
      if ( !HIDWORD(a1) )
      {
        HIDWORD(a1) = a1;
        LODWORD(a1) = 0;
      }
      v24 = __clz(HIDWORD(a1));
      if ( v23 )
        v24 += 32;
      v25 = v24 - 11;
      v28 = __OFSUB__(v25, 32);
      v29 = v25 - 32;
      v26 = v25 == 32;
      v27 = v25 - 32 < 0;
      if ( v25 < 32 )
      {
        v28 = __OFADD__(v29, 12);
        v26 = v25 == 20;
        v27 = v25 - 20 < 0;
        if ( !((unsigned __int8)(v27 ^ __OFADD__(v29, 12)) | (v25 == 20)) )
        {
          LODWORD(a1) = HIDWORD(a1) << v25;
          HIDWORD(a1) >>= 32 - v25;
LABEL_46:
          v8 = __OFSUB__(v22, v25);
          v30 = v22 - v25;
          if ( (v30 < 0) ^ v8 )
          {
            v31 = ~v30;
            v8 = __OFSUB__(v31, 31);
            v32 = v31 - 31;
            if ( (v32 < 0) ^ v8 )
              LODWORD(a1) = ((unsigned int)a1 >> (v32 + 32)) | (HIDWORD(a1) << -(char)v32);
            else
              LODWORD(a1) = HIDWORD(a1) >> v32;
          }
          return a1;
        }
        LOBYTE(v29) = v25;
      }
      if ( (unsigned __int8)(v27 ^ v28) | v26 )
        LOBYTE(v13) = 32 - v29;
      HIDWORD(a1) <<= v29;
      if ( (unsigned __int8)(v27 ^ v28) | v26 )
      {
        HIDWORD(a1) |= (unsigned int)a1 >> v13;
        LODWORD(a1) = (_DWORD)a1 << v29;
      }
      goto LABEL_46;
    }
  }
  return a1;
}

//----- (000242DC) --------------------------------------------------------
int __fastcall _floatunsidf(int result)
{
  if ( result )
    JUMPOUT(&loc_24178);
  return result;
}

//----- (00024300) --------------------------------------------------------
int __fastcall _floatsidf(int result)
{
  if ( result )
    JUMPOUT(&loc_24178);
  return result;
}

//----- (00024328) --------------------------------------------------------
int __fastcall _extendsfdf2(int a1, int a2, int a3, unsigned int a4)
{
  int v4; // r2@1
  int result; // r0@1
  bool v6; // zf@4

  v4 = 2 * a1;
  v6 = 2 * a1 == 0;
  result = a1 << 29;
  if ( v6 || (a4 = v4 & 0xFF000000) == 0 || a4 == -16777216 )
  {
    v6 = v4 == 0;
    if ( v4 )
      v6 = a4 == -16777216;
    if ( !v6 )
      JUMPOUT(&loc_24178);
  }
  return result;
}

//----- (00024368) --------------------------------------------------------
int __fastcall _floatundidf(__int64 a1)
{
  if ( a1 )
    JUMPOUT(&loc_24398);
  return a1;
}

//----- (0002437C) --------------------------------------------------------
int __fastcall _floatdidf(__int64 a1)
{
  if ( a1 )
  {
    if ( (HIDWORD(a1) & 0x80000000 & 0x80000000) != 0 )
      HIDWORD(a1) = -(HIDWORD(a1) + ((unsigned int)a1 > 0));
    if ( !(HIDWORD(a1) >> 22) )
      JUMPOUT(&loc_2411C);
    JUMPOUT(&loc_2411C);
  }
  return a1;
}

//----- (000243DC) --------------------------------------------------------
unsigned int __fastcall _muldf3(unsigned int result, unsigned int a2, unsigned int a3, unsigned int a4)
{
  int v4; // r5@0
  bool v5; // zf@1
  int v6; // r4@1
  int v7; // r4@7
  int v8; // r6@7
  int v9; // r1@7
  int v10; // r3@7
  bool v11; // zf@7
  int v12; // r1@9
  int v13; // r3@9
  int v14; // r12@10
  unsigned int v15; // r5@10
  unsigned int v16; // lr@10
  unsigned int v17; // r2@10
  unsigned int v18; // r5@10
  unsigned int v19; // lr@10
  unsigned __int64 v20; // kr18_8@10
  unsigned int v21; // r5@10
  unsigned int v22; // r6@10
  unsigned int v23; // r4@12
  int v24; // off@13
  unsigned int v25; // r1@14
  unsigned int v26; // lr@14
  unsigned __int8 v27; // cf@14
  bool v28; // zf@14
  bool v29; // nf@14
  unsigned __int8 v30; // vf@14
  unsigned int v31; // r12@14
  unsigned __int8 v32; // cf@17
  unsigned int v33; // r1@20
  bool v34; // zf@20
  bool v35; // nf@20
  unsigned __int8 v36; // vf@20
  int v37; // r4@20
  int v38; // r4@29
  int v39; // r4@29
  int v40; // r4@31
  char v41; // r4@33
  unsigned int v42; // r3@33
  char v43; // r4@36
  unsigned int v44; // r3@36
  int v45; // lr@39
  unsigned int v46; // r3@39
  int v47; // r5@47
  bool v48; // zf@49
  bool v49; // zf@52
  bool v50; // zf@57

  v6 = (a2 >> 20) & 0x7FF;
  v5 = v6 == 0;
  if ( v6 )
  {
    v4 = (a4 >> 20) & 0x7FF;
    v5 = v4 == 0;
  }
  if ( !v5 )
  {
    v5 = v6 == 2047;
    if ( v6 != 2047 )
      v5 = v4 == 2047;
  }
  if ( v5 )
  {
    v48 = v6 == 2047;
    v47 = (a4 >> 20) & 0x7FF;
    if ( v6 != 2047 )
      v48 = v47 == 2047;
    if ( v48 )
    {
      v50 = (result | 2 * a2) == 0;
      if ( result | 2 * a2 )
      {
        v50 = (a3 | 2 * a4) == 0;
      }
      else
      {
        result = a3;
        a2 = a4;
      }
      if ( !v50 && (v6 != 2047 || !(result | (a2 << 12))) )
      {
        if ( v47 == 2047 && a3 | (a4 << 12) )
          return a3;
        return 0;
      }
    }
    else
    {
      v49 = (result | 2 * a2) == 0;
      if ( result | 2 * a2 )
        v49 = (a3 | 2 * a4) == 0;
      if ( v49 )
      {
        result = 0;
      }
      else
      {
        if ( v6 )
          goto LABEL_69;
        while ( 1 )
        {
          v27 = __CFSHL__(result, 1);
          result *= 2;
          a2 += v27 + a2;
          if ( a2 & 0x100000 )
            break;
          --v6;
        }
        if ( !v47 )
        {
LABEL_69:
          while ( 1 )
          {
            v27 = __CFSHL__(a3, 1);
            a3 *= 2;
            a4 += v27 + a4;
            if ( a4 & 0x100000 )
              break;
            --v47;
          }
        }
      }
    }
  }
  else
  {
    v7 = v6 + v4;
    v8 = a2 ^ a4;
    v9 = a2 & 0x1FFFFF;
    v10 = a4 & 0x1FFFFF;
    v11 = (result | (v9 << 12)) == 0;
    if ( result | (v9 << 12) )
      v11 = (a3 | (v10 << 12)) == 0;
    v12 = v9 | 0x100000;
    v13 = v10 | 0x100000;
    if ( v11 )
    {
      result |= a3;
      v33 = (v8 & 0x80000000 | v12) ^ v13;
      v36 = __OFSUB__(v7, 1023);
      v37 = v7 - 1023;
      v34 = v37 == 0;
      v35 = v37 < 0;
      if ( !((unsigned __int8)((v37 < 0) ^ v36) | (v37 == 0)) )
      {
        v36 = __OFSUB__(2047, v37);
        v34 = 2047 == v37;
        v35 = 2047 - v37 < 0;
      }
      if ( !((unsigned __int8)(v35 ^ v36) | v34) )
        return result;
      v25 = v33 | 0x100000;
      v26 = 0;
      v30 = __OFSUB__(v37, 1);
      v23 = v37 - 1;
      v28 = v23 == 0;
      v29 = (v23 & 0x80000000) != 0;
    }
    else
    {
      v14 = result * a3;
      v15 = ((unsigned int)v12 * (unsigned __int64)a3 + (result * (unsigned __int64)a3 >> 32)) >> 32;
      v16 = v12 * a3 + (result * (unsigned __int64)a3 >> 32);
      v17 = v8 & 0x80000000;
      v20 = result * (unsigned __int64)(unsigned int)v13 + __PAIR__(v15, v16);
      v18 = v20 >> 32;
      v19 = v20;
      v22 = ((unsigned int)v12 * (unsigned __int64)(unsigned int)v13 + v18) >> 32;
      v21 = v12 * v13 + v18;
      if ( v14 )
        v19 = v20 | 1;
      v23 = (__PAIR__((unsigned int)(v7 - 255), v22) - 3298534883840LL) >> 32;
      if ( v22 < 0x200 )
      {
        v27 = __CFSHL__(v19, 1);
        v19 *= 2;
        v24 = v27 + v21;
        v27 = __CFADD__(v27, v21) | __CFADD__(v21, v24);
        v21 += v24;
        v22 += v27 + v22;
      }
      v25 = v17 | (v22 << 11) | (v21 >> 21);
      result = (v21 << 11) | (v19 >> 21);
      v26 = v19 << 11;
      v30 = __OFSUB__(v23, 253);
      v27 = v23 >= 0xFD;
      v31 = v23 - 253;
      v28 = v23 == 253;
      v29 = ((v23 - 253) & 0x80000000) != 0;
      if ( v23 > 0xFD )
      {
        v30 = __OFSUB__(v31, 1792);
        v27 = v31 >= 0x700;
        v28 = v31 == 1792;
        v29 = ((v23 - 2045) & 0x80000000) != 0;
      }
      if ( !(!v28 & v27) )
      {
        v32 = v26 >= 0x80000000;
        if ( v26 == 0x80000000 )
          v32 = result & 1;
        result += v32;
        return result;
      }
    }
    if ( !((unsigned __int8)(v29 ^ v30) | v28) )
      return 0;
    if ( (unsigned __int8)((((v23 + 54) & 0x80000000) != 0) ^ __OFADD__(v23, 54)) | (v23 == -54) )
    {
      result = 0;
    }
    else
    {
      v38 = -v23;
      v30 = __OFSUB__(v38, 32);
      v39 = v38 - 32;
      if ( (v39 < 0) ^ v30 )
      {
        v30 = __OFADD__(v39, 12);
        v40 = v39 + 12;
        if ( (unsigned __int8)((v40 < 0) ^ v30) | (v40 == 0) )
        {
          v41 = v40 + 20;
          v42 = result << (32 - v41);
          result = ((result >> v41) | (v25 << (32 - v41))) + (v42 >> 31);
          if ( !(v26 | 2 * v42) )
            result &= ~(v42 >> 31);
        }
        else
        {
          v43 = 12 - v40;
          v44 = result << v43;
          result = ((result >> (32 - v43)) | (v25 << v43)) + (result << v43 >> 31);
          if ( !(v26 | 2 * v44) )
            result &= ~(v44 >> 31);
        }
      }
      else
      {
        v45 = v26 | (result << (32 - v39));
        v46 = (result >> v39) | (v25 << (32 - v39));
        result = ((v25 >> v39) & ~((v25 & 0x80000000) >> v39)) + (v46 >> 31);
        if ( !(v45 | 2 * v46) )
          result &= ~(v46 >> 31);
      }
    }
  }
  return result;
}

//----- (00024648) --------------------------------------------------------
void __fastcall _divdf3(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  int v4; // r5@0
  unsigned int v5; // r12@1
  bool v6; // zf@1
  int v7; // r4@1
  int v8; // r4@8
  int v9; // lr@8
  unsigned int v10; // r1@8
  __int64 v11; // r2@9
  unsigned int v12; // r5@9
  unsigned int v13; // r6@9
  unsigned int v14; // r1@9
  bool v15; // cf@9
  unsigned int v16; // r4@11
  int v17; // off@12
  unsigned int v18; // r5@13
  unsigned int v19; // r6@13
  __int64 v20; // r2@13
  int v21; // off@13
  signed int v22; // r0@13
  unsigned int v23; // r12@13
  unsigned int v24; // lr@14
  unsigned int v25; // r3@16
  int v26; // r2@16
  unsigned int v27; // off@16
  unsigned int v28; // lr@16
  unsigned int v29; // r3@18
  unsigned int v30; // r2@18
  unsigned int v31; // off@18
  unsigned int v32; // lr@18
  signed __int64 v33; // r2@20
  unsigned int v34; // off@20
  unsigned int v35; // lr@20
  bool v36; // cf@26
  bool v37; // zf@26
  unsigned int v38; // r12@26
  bool v39; // zf@31
  bool v40; // nf@31
  unsigned __int8 v41; // vf@31
  int v42; // r4@31

  v5 = 2047;
  v7 = (a2 >> 20) & 0x7FF;
  v6 = v7 == 0;
  if ( v7 )
  {
    v4 = (a4 >> 20) & 0x7FF;
    v6 = v4 == 0;
  }
  if ( !v6 )
  {
    v6 = v7 == 2047;
    if ( v7 != 2047 )
      v6 = v4 == 2047;
  }
  if ( v6 )
    sub_247DC(a1, a2, a3, a4);
  v8 = v7 - v4;
  v9 = a2 ^ a4;
  v10 = a2 << 12;
  if ( a3 | (a4 << 12) )
  {
    HIDWORD(v11) = (a4 << 8) & 0xFFFFFFF | 0x10000000 | (a3 >> 24);
    LODWORD(v11) = a3 << 8;
    v12 = (v10 >> 4) | 0x10000000 | (a1 >> 24);
    v13 = a1 << 8;
    v14 = v9 & 0x80000000;
    v15 = v12 >= HIDWORD(v11);
    if ( v12 == HIDWORD(v11) )
      v15 = v13 >= (unsigned int)v11;
    v16 = v15 + v8 + 1021;
    if ( !v15 )
    {
      HIDWORD(v11) >>= 1;
      v17 = __RCR__(v11, 1);
      LODWORD(v11) = v17;
    }
    v18 = (__PAIR__(v12, v13) - v11) >> 32;
    v19 = v13 - v11;
    HIDWORD(v11) >>= 1;
    v21 = __RCR__(v11, 1);
    LODWORD(v20) = v21;
    v22 = 0x100000;
    v23 = 0x80000;
    while ( 1 )
    {
      v24 = (__PAIR__(v18, v19) - v20) >> 32;
      if ( v18 >= HIDWORD(v20) + (unsigned int)(v19 < (unsigned int)v20) )
      {
        v19 -= v20;
        v18 = v24;
        v22 |= v23;
      }
      HIDWORD(v20) >>= 1;
      v27 = __RCR__(v20, 1);
      LODWORD(v20) = v27;
      v28 = (__PAIR__(v18, v19) - __PAIR__(HIDWORD(v20), v27)) >> 32;
      if ( v18 >= HIDWORD(v20) + (unsigned int)(v19 < v27) )
      {
        v19 -= v26;
        v18 = v28;
        v22 |= v23 >> 1;
      }
      v29 = v25 >> 1;
      v31 = __RCR__(v26, 1);
      v30 = v31;
      v32 = (__PAIR__(v18, v19) - __PAIR__(v29, v31)) >> 32;
      if ( v18 >= v29 + (v19 < v31) )
      {
        v19 -= v30;
        v18 = v32;
        v22 |= v23 >> 2;
      }
      HIDWORD(v33) = v29 >> 1;
      v34 = __RCR__(v30, 1);
      LODWORD(v33) = v34;
      v35 = (__PAIR__(v18, v19) - __PAIR__(HIDWORD(v33), v34)) >> 32;
      if ( v18 >= HIDWORD(v33) + (unsigned int)(v19 < v34) )
      {
        v19 -= v33;
        v18 = v35;
        v22 |= v23 >> 3;
      }
      if ( !(v18 | v19) )
        break;
      v18 = 16 * v18 | (v19 >> 28);
      v19 *= 16;
      HIDWORD(v20) = v33 >> 29;
      LODWORD(v20) = 8 * v20;
      v23 >>= 4;
      if ( !v23 )
      {
        if ( v14 & 0x100000 )
          break;
        v14 |= v22;
        v22 = 0;
        v23 = 2147483648;
      }
    }
    v36 = v16 >= 0xFD;
    v38 = v16 - 253;
    v37 = v16 == 253;
    if ( v16 > 0xFD )
    {
      v36 = v38 >= 0x700;
      v37 = v38 == 1792;
    }
    if ( !v37 && v36 )
      JUMPOUT(&loc_244C0);
  }
  else
  {
    v41 = __OFADD__(v8, v5 >> 1);
    v42 = v8 + (v5 >> 1);
    v39 = v42 == 0;
    v40 = v42 < 0;
    if ( !((unsigned __int8)((v42 < 0) ^ v41) | (v42 == 0)) )
    {
      v41 = __OFSUB__(v5, v42);
      v39 = v5 == v42;
      v40 = ((v5 - v42) & 0x80000000) != 0;
    }
    if ( (unsigned __int8)(v40 ^ v41) | v39 )
      JUMPOUT(&loc_244C0);
  }
}

//----- (000247DC) --------------------------------------------------------
void __fastcall sub_247DC(int a1, int a2, int a3, unsigned int a4)
{
  int v4; // r4@0
  int v5; // r12@0
  int v6; // r5@1
  bool v7; // zf@1
  bool v8; // zf@15

  v6 = v5 & (a4 >> 20);
  v7 = v4 == v5;
  if ( v4 == v5 )
    v7 = v6 == v5;
  if ( v7 )
    JUMPOUT(&loc_2463C);
  if ( v4 == v5 )
  {
    if ( a1 | (a2 << 12) )
      JUMPOUT(&loc_2463C);
    if ( v6 != v5 )
      JUMPOUT(&loc_24624);
    JUMPOUT(&loc_2463C);
  }
  if ( v6 == v5 )
  {
    if ( !(a3 | (a4 << 12)) )
      JUMPOUT(&loc_245D8);
    JUMPOUT(&loc_2463C);
  }
  v8 = (a1 | 2 * a2) == 0;
  if ( a1 | 2 * a2 )
    v8 = (a3 | 2 * a4) == 0;
  if ( !v8 )
    JUMPOUT(&loc_24570);
  if ( a1 | 2 * a2 )
    JUMPOUT(&loc_24624);
  if ( a3 | 2 * a4 )
    JUMPOUT(&loc_245D8);
  JUMPOUT(&loc_2463C);
}

//----- (0002484C) --------------------------------------------------------
unsigned int __fastcall _fixunsdfsi(unsigned int a1, int a2)
{
  int v2; // r2@1
  unsigned __int8 v3; // cf@2
  signed int v4; // r2@2
  int v5; // r2@4

  v2 = 2 * a2;
  if ( __CFSHL__(a2, 1) )
    return 0;
  v3 = __CFADD__(v2, 0x200000);
  v4 = v2 + 0x200000;
  if ( !v3 )
  {
    if ( v4 < 0 )
    {
      v5 = -993 - (v4 >> 21);
      if ( v5 >= 0 )
        return ((a2 << 11) | 0x80000000 | (a1 >> 21)) >> v5;
      return -1;
    }
    return 0;
  }
  if ( !(a1 | (a2 << 12)) )
    return -1;
  return 0;
}

//----- (00024B44) --------------------------------------------------------
unsigned int __fastcall _lshrdi3(unsigned int a1, unsigned int a2, int a3)
{
  unsigned int result; // r0@2

  if ( a3 - 32 >= 0 )
    result = a2 >> (a3 - 32);
  else
    result = a1 >> a3;
  if ( a3 - 32 < 0 )
    result |= a2 << (32 - a3);
  return result;
}

//----- (00024B7C) --------------------------------------------------------
HwcConfig *__fastcall j_j_j__ZNK10HwcDisplay13GetAttributesEjPKjPi(HwcDisplay *this, unsigned int a2, const unsigned int *a3, int *a4)
{
  return j_HwcDisplay::GetAttributes(this, a2, a3, a4);
}

//----- (00024B80) --------------------------------------------------------
HwcConfig *__fastcall j_HwcDisplay::GetAttributes(HwcDisplay *this, unsigned int a2, const unsigned int *a3, int *a4)
{
  return HwcDisplay::GetAttributes(this, a2, a3, a4);
}

//----- (00024B8C) --------------------------------------------------------
signed int __fastcall j_j_j__ZNK10HwcDisplay10GetConfigsEPjS0_(HwcDisplay *this, unsigned int *a2, unsigned int *a3)
{
  return j_HwcDisplay::GetConfigs(this, a2, a3);
}

//----- (00024B90) --------------------------------------------------------
signed int __fastcall j_HwcDisplay::GetConfigs(HwcDisplay *this, unsigned int *a2, unsigned int *a3)
{
  return HwcDisplay::GetConfigs(this, a2, a3);
}

//----- (00024B9C) --------------------------------------------------------
signed int __fastcall j_j_j__ZN10HwcDisplay12EventControlEii(HwcDisplay *this, int a2, int a3)
{
  return j_HwcDisplay::EventControl(this, a2, a3);
}

//----- (00024BA0) --------------------------------------------------------
signed int __fastcall j_HwcDisplay::EventControl(HwcDisplay *this, int a2, int a3)
{
  return HwcDisplay::EventControl(this, a2, a3);
}

//----- (00024BAC) --------------------------------------------------------
int __fastcall j_j_j__ZN17Hi62xxAccelerator16requestClockRateEi(Hi62xxAccelerator *this, int a2)
{
  return j_Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (00024BB0) --------------------------------------------------------
int __fastcall j_Hi62xxAccelerator::requestClockRate(Hi62xxAccelerator *this, int a2)
{
  return Hi62xxAccelerator::requestClockRate(this, a2);
}

//----- (00024BBC) --------------------------------------------------------
void __fastcall j_operator delete(void *a1)
{
  operator delete(a1);
}

//----- (00024BC0) --------------------------------------------------------
void __fastcall operator delete(void *a1)
{
  operator delete(a1);
}

//----- (00024BCC) --------------------------------------------------------
int j_j_close(int fd)
{
  return j_close(fd);
}

//----- (00024BD0) --------------------------------------------------------
int j_close(int fd)
{
  return close(fd);
}

//----- (00024BDC) --------------------------------------------------------
int __fastcall j_j_j__ZN6HwcMem15setReleaseFenceEi(HwcMem *this, int a2, int a3)
{
  return j_HwcMem::setReleaseFence(this, a2, a3);
}

//----- (00024BE0) --------------------------------------------------------
int __fastcall j_HwcMem::setReleaseFence(HwcMem *this, int a2, int a3)
{
  return HwcMem::setReleaseFence(this, a2, a3);
}

//----- (00024BEC) --------------------------------------------------------
void *j_j_memset(void *s, int c, size_t n)
{
  return j_memset(s, c, n);
}

//----- (00024BF0) --------------------------------------------------------
void *j_memset(void *s, int c, size_t n)
{
  return memset(s, c, n);
}

//----- (00024BFC) --------------------------------------------------------
void *__fastcall j_j_j__ZN10ChannelMgr6DeinitEv(ChannelMgr *this)
{
  return j_ChannelMgr::Deinit(this);
}

//----- (00024C00) --------------------------------------------------------
void *__fastcall j_ChannelMgr::Deinit(ChannelMgr *this)
{
  return ChannelMgr::Deinit(this);
}

//----- (00024C0C) --------------------------------------------------------
int __fastcall j_j_j__ZN7Channel7DoResetEv(Channel *this)
{
  return j_Channel::DoReset(this);
}

//----- (00024C10) --------------------------------------------------------
int __fastcall j_Channel::DoReset(Channel *this)
{
  return Channel::DoReset(this);
}

//----- (00024C1C) --------------------------------------------------------
int __fastcall j_j_j__ZN7Channel11DisableCapsEj(Channel *this, unsigned int a2)
{
  return j_Channel::DisableCaps(this, a2);
}

//----- (00024C20) --------------------------------------------------------
int __fastcall j_Channel::DisableCaps(Channel *this, unsigned int a2)
{
  return Channel::DisableCaps(this, a2);
}

//----- (00024C2C) --------------------------------------------------------
int j_j_pthread_mutex_unlock(pthread_mutex_t *mutex)
{
  return j_pthread_mutex_unlock(mutex);
}

//----- (00024C30) --------------------------------------------------------
int j_pthread_mutex_unlock(pthread_mutex_t *mutex)
{
  return pthread_mutex_unlock(mutex);
}

//----- (00024C3C) --------------------------------------------------------
int __fastcall j_j_j__ZN19HwcPureLayerChecker5ClearEv(HwcPureLayerChecker *this)
{
  return j_HwcPureLayerChecker::Clear(this);
}

//----- (00024C40) --------------------------------------------------------
int __fastcall j_HwcPureLayerChecker::Clear(HwcPureLayerChecker *this)
{
  return HwcPureLayerChecker::Clear(this);
}

//----- (00024C4C) --------------------------------------------------------
int __fastcall j_j_j__ZN17HwcPartialUpdates25UpdateDirtyRegionLcdLimitEPK21lcd_dirty_region_info(int result, int a2)
{
  return j_HwcPartialUpdates::UpdateDirtyRegionLcdLimit(result, a2);
}

//----- (00024C50) --------------------------------------------------------
int __fastcall j_HwcPartialUpdates::UpdateDirtyRegionLcdLimit(int result, int a2)
{
  return HwcPartialUpdates::UpdateDirtyRegionLcdLimit(result, a2);
}

//----- (00024C5C) --------------------------------------------------------
int __fastcall j_j_j__ZN17HwcPartialUpdates18UpdateDisplayFrameEP11hwc_layer_1PK8hwc_rect(int a1, int a2, int a3)
{
  return j_HwcPartialUpdates::UpdateDisplayFrame(a1, a2, a3);
}

//----- (00024C60) --------------------------------------------------------
int __fastcall j_HwcPartialUpdates::UpdateDisplayFrame(int a1, int a2, int a3)
{
  return HwcPartialUpdates::UpdateDisplayFrame(a1, a2, a3);
}

//----- (00024C6C) --------------------------------------------------------
void __fastcall j_j_j__ZN12HwcBandwidth14ReleaseRequestEv(HwcBandwidth *this)
{
  j_HwcBandwidth::ReleaseRequest(this);
}

//----- (00024C70) --------------------------------------------------------
void __fastcall j_HwcBandwidth::ReleaseRequest(HwcBandwidth *this)
{
  HwcBandwidth::ReleaseRequest(this);
}

//----- (00024C7C) --------------------------------------------------------
int __fastcall j_j_j__ZN8tinyxml212XMLAttribute12SetAttributeEi(tinyxml2::XMLAttribute *this, int a2)
{
  return j_tinyxml2::XMLAttribute::SetAttribute(this, a2);
}

//----- (00024C80) --------------------------------------------------------
int __fastcall j_tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, int a2)
{
  return tinyxml2::XMLAttribute::SetAttribute(this, a2);
}

//----- (00024C8C) --------------------------------------------------------
int __fastcall j_j_j__ZN8tinyxml212XMLAttribute12SetAttributeEj(tinyxml2::XMLAttribute *this, unsigned int a2)
{
  return j_tinyxml2::XMLAttribute::SetAttribute(this, a2);
}

//----- (00024C90) --------------------------------------------------------
int __fastcall j_tinyxml2::XMLAttribute::SetAttribute(tinyxml2::XMLAttribute *this, unsigned int a2)
{
  return tinyxml2::XMLAttribute::SetAttribute(this, a2);
}

//----- (00024CAC) --------------------------------------------------------
int __fastcall j_j_j__ZN12CapaProvider7releaseEPK12HwcLayerInfo(CapaProvider *this, const HwcLayerInfo *a2)
{
  return j_CapaProvider::release(this, a2);
}

//----- (00024CB0) --------------------------------------------------------
int __fastcall j_CapaProvider::release(CapaProvider *this, const HwcLayerInfo *a2)
{
  return CapaProvider::release(this, a2);
}

//----- (00024CBC) --------------------------------------------------------
signed int __fastcall j_j_j__ZN12CapaProvider7requestEPK12HwcLayerInfob(CapaProvider *this, const HwcLayerInfo *a2, int a3)
{
  return j_CapaProvider::request(this, a2, a3);
}

//----- (00024CC0) --------------------------------------------------------
signed int __fastcall j_CapaProvider::request(CapaProvider *this, const HwcLayerInfo *a2, int a3)
{
  return CapaProvider::request(this, a2, a3);
}

//----- (00024CCC) --------------------------------------------------------
void *j_j_memmove(void *dest, const void *src, size_t n)
{
  return j_memmove(dest, src, n);
}

//----- (00024CD0) --------------------------------------------------------
void *j_memmove(void *dest, const void *src, size_t n)
{
  return memmove(dest, src, n);
}

//----- (00024CDC) --------------------------------------------------------
void *j_j_memcpy(void *dest, const void *src, size_t n)
{
  return j_memcpy(dest, src, n);
}

//----- (00024CE0) --------------------------------------------------------
void *j_memcpy(void *dest, const void *src, size_t n)
{
  return memcpy(dest, src, n);
}

//----- (00024CEC) --------------------------------------------------------
signed int __fastcall j_j_j__ZNK14Hi62xxPlatform11isAdeFormatEj(Hi62xxPlatform *this, unsigned int a2)
{
  return j_Hi62xxPlatform::isAdeFormat(this, a2);
}

//----- (00024CF0) --------------------------------------------------------
signed int __fastcall j_Hi62xxPlatform::isAdeFormat(Hi62xxPlatform *this, unsigned int a2)
{
  return Hi62xxPlatform::isAdeFormat(this, a2);
}

//----- (00024CFC) --------------------------------------------------------
int __fastcall j_j_sync_wait(int a1, int a2, int a3, int a4)
{
  return j_sync_wait(a1, a2, a3, a4);
}

//----- (00024D00) --------------------------------------------------------
int __fastcall j_sync_wait(int a1, int a2, int a3, int a4)
{
  return sync_wait(a1, a2, a3, a4);
}
// E0B8: using guessed type int __cdecl sync_wait(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00024D0C) --------------------------------------------------------
signed int __fastcall j_j_j__ZN14Hi62xxComposer14setBlkRotLayerEPK12HwcLayerInfoS2_(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return j_Hi62xxComposer::setBlkRotLayer(this, a2, a3);
}

//----- (00024D10) --------------------------------------------------------
signed int __fastcall j_Hi62xxComposer::setBlkRotLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return Hi62xxComposer::setBlkRotLayer(this, a2, a3);
}

//----- (00024D1C) --------------------------------------------------------
signed int __fastcall j_j_j__ZN14Hi62xxComposer11setWfdLayerEPK12HwcLayerInfoS2_(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return j_Hi62xxComposer::setWfdLayer(this, a2, a3);
}

//----- (00024D20) --------------------------------------------------------
signed int __fastcall j_Hi62xxComposer::setWfdLayer(Hi62xxComposer *this, const HwcLayerInfo *a2, const HwcLayerInfo *a3)
{
  return Hi62xxComposer::setWfdLayer(this, a2, a3);
}

//----- (00024D2C) --------------------------------------------------------
int j_j_snprintf(char *s, size_t maxlen, const char *format, ...)
{
  return j_snprintf(s, maxlen, format);
}

//----- (00024D30) --------------------------------------------------------
int j_snprintf(char *s, size_t maxlen, const char *format, ...)
{
  return snprintf(s, maxlen, format);
}

//----- (00024D3C) --------------------------------------------------------
int __fastcall j_j_j__ZN8tinyxml27StrPair6SetStrEPKci(tinyxml2::StrPair *this, const char *a2, int a3)
{
  return j_tinyxml2::StrPair::SetStr(this, a2, a3);
}

//----- (00024D40) --------------------------------------------------------
int __fastcall j_tinyxml2::StrPair::SetStr(tinyxml2::StrPair *this, const char *a2, int a3)
{
  return tinyxml2::StrPair::SetStr(this, a2, a3);
}

//----- (00024D4C) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall j_j_j__ZN8tinyxml27XMLNode14InsertEndChildEPS0_(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2)
{
  return j_tinyxml2::XMLNode::InsertEndChild(this, a2);
}

//----- (00024D50) --------------------------------------------------------
tinyxml2::XMLNode *__fastcall j_tinyxml2::XMLNode::InsertEndChild(tinyxml2::XMLNode *this, tinyxml2::XMLNode *a2)
{
  return tinyxml2::XMLNode::InsertEndChild(this, a2);
}

//----- (00024D5C) --------------------------------------------------------
int __fastcall j_j_j__ZN8tinyxml27StrPair6GetStrEv(tinyxml2::StrPair *this)
{
  return j_tinyxml2::StrPair::GetStr(this);
}

//----- (00024D60) --------------------------------------------------------
int __fastcall j_tinyxml2::StrPair::GetStr(tinyxml2::StrPair *this)
{
  return tinyxml2::StrPair::GetStr(this);
}

//----- (00024D6C) --------------------------------------------------------
int *__fastcall j_j_j__ZN8tinyxml211XMLDocument10NewCommentEPKc(tinyxml2::XMLDocument *this, const char *a2)
{
  return j_tinyxml2::XMLDocument::NewComment(this, a2);
}

//----- (00024D70) --------------------------------------------------------
int *__fastcall j_tinyxml2::XMLDocument::NewComment(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::NewComment(this, a2);
}

//----- (00024D7C) --------------------------------------------------------
int *__fastcall j_j_j__ZN8tinyxml211XMLDocument14NewDeclarationEPKc(tinyxml2::XMLDocument *this, const char *a2)
{
  return j_tinyxml2::XMLDocument::NewDeclaration(this, a2);
}

//----- (00024D80) --------------------------------------------------------
int *__fastcall j_tinyxml2::XMLDocument::NewDeclaration(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::NewDeclaration(this, a2);
}

//----- (00024D8C) --------------------------------------------------------
int *__fastcall j_j_j__ZN8tinyxml211XMLDocument10NewUnknownEPKc(tinyxml2::XMLDocument *this, const char *a2)
{
  return j_tinyxml2::XMLDocument::NewUnknown(this, a2);
}

//----- (00024D90) --------------------------------------------------------
int *__fastcall j_tinyxml2::XMLDocument::NewUnknown(tinyxml2::XMLDocument *this, const char *a2)
{
  return tinyxml2::XMLDocument::NewUnknown(this, a2);
}

//----- (00024D9C) --------------------------------------------------------
char *__fastcall j_j_j__ZN8tinyxml27XMLNode9ParseDeepEPcPNS_7StrPairE(tinyxml2::XMLNode *this, char *a2, tinyxml2::StrPair *a3, int a4)
{
  return j_tinyxml2::XMLNode::ParseDeep(this, a2, a3, a4);
}

//----- (00024DA0) --------------------------------------------------------
char *__fastcall j_tinyxml2::XMLNode::ParseDeep(tinyxml2::XMLNode *this, char *a2, tinyxml2::StrPair *a3, int a4)
{
  return tinyxml2::XMLNode::ParseDeep(this, a2, a3, a4);
}

//----- (00024DAC) --------------------------------------------------------
int j_j_j__ZN8tinyxml210XMLPrinter5PrintEPKcz(tinyxml2::XMLPrinter *this, const char *a2, ...)
{
  return j_tinyxml2::XMLPrinter::Print(this, a2);
}

//----- (00024DB0) --------------------------------------------------------
int j_tinyxml2::XMLPrinter::Print(tinyxml2::XMLPrinter *this, const char *a2, ...)
{
  return tinyxml2::XMLPrinter::Print(this, a2);
}

//----- (00024DBC) --------------------------------------------------------
int __fastcall j_j_j__ZN8tinyxml210XMLPrinter11PrintStringEPKcb(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  return j_tinyxml2::XMLPrinter::PrintString(this, a2, a3, a4);
}

//----- (00024DC0) --------------------------------------------------------
int __fastcall j_tinyxml2::XMLPrinter::PrintString(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  return tinyxml2::XMLPrinter::PrintString(this, a2, a3, a4);
}

//----- (00024DCC) --------------------------------------------------------
int __fastcall j_j_j__ZN8tinyxml210XMLPrinter15PushDeclarationEPKc(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  return j_tinyxml2::XMLPrinter::PushDeclaration(this, a2, a3, a4);
}

//----- (00024DD0) --------------------------------------------------------
int __fastcall j_tinyxml2::XMLPrinter::PushDeclaration(tinyxml2::XMLPrinter *this, const char *a2, int a3, int a4)
{
  return tinyxml2::XMLPrinter::PushDeclaration(this, a2, a3, a4);
}

//----- (00024DDC) --------------------------------------------------------
void sub_24DDC()
{
  sub_24DE0();
}

//----- (00024DE0) --------------------------------------------------------
void sub_24DE0()
{
  JUMPOUT(sub_23E70);
}
// 23E70: using guessed type int sub_23E70();

//----- (00024DEC) --------------------------------------------------------
int __fastcall sub_24DEC(_DWORD *a1)
{
  return sub_24DF0(a1);
}

//----- (00024DF0) --------------------------------------------------------
int __fastcall sub_24DF0(_DWORD *a1)
{
  return sub_23EE0(a1);
}

// ALL OK, 1133 function(s) have been successfully decompiled
